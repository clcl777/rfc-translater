<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 4559 - SPNEGO-based Kerberos and NTLM HTTP Authentication in Microsoft Windows 日本語訳</title>
  <meta name="description" content="RFC 4559は、Microsoft WindowsでのSPNEGOベースのKerberosとNTLM HTTP認証に関する仕様です。このRFCの目的は、セキュアな認証メカニズムを提供し、Windows環境でのHTTP認証の標準化を促進することです。">

  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./master.css">
  <script src="./index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">4559</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc4559">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 4559 - SPNEGO-based Kerberos and NTLM HTTP Authentication in Microsoft Windows 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc4559">
            https://datatracker.ietf.org/doc/html/rfc4559
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 4559 - Microsoft WindowsのSpnegoベースのKerberosとNTLM HTTP認証</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div id="rfc_summary">
      <div class="card mb-3">
        <div class="card-body">
          <p class="card-text">[要約] RFC 4559は、Microsoft WindowsでのSPNEGOベースのKerberosとNTLM HTTP認証に関する仕様です。このRFCの目的は、セキュアな認証メカニズムを提供し、Windows環境でのHTTP認証の標準化を促進することです。</p>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Network Working Group                                      K. Jaganathan
Request for Comments: 4559                                        L. Zhu
Category: Informational                                        J. Brezak
                                                   Microsoft Corporation
                                                               June 2006
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
SPNEGO-based Kerberos and NTLM HTTP Authentication in Microsoft Windows
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
Microsoft WindowsのSpnegoベースのKerberosとNTLM HTTP認証
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の位置付け
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This memo provides information for the Internet community. It does not specify an Internet standard of any kind. Distribution of this memo is unlimited.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このメモは、インターネットコミュニティに情報を提供します。いかなる種類のインターネット標準を指定しません。このメモの配布は無制限です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (2006).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）The Internet Society（2006）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes how the Microsoft Internet Explorer (MSIE) and Internet Information Services (IIS) incorporated in Microsoft Windows 2000 use Kerberos for security enhancements of web transactions. The Hypertext Transport Protocol (HTTP) auth-scheme of &#34;negotiate&#34; is defined here; when the negotiation results in the selection of Kerberos, the security services of authentication and, optionally, impersonation (the IIS server assumes the windows identity of the principal that has been authenticated) are performed. This document explains how HTTP authentication utilizes the Simple and Protected GSS-API Negotiation mechanism. Details of Simple And Protected Negotiate (SPNEGO) implementation are not provided in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、Microsoft Internet Explorer（MSIE）およびInternet Information Services（IIS）がMicrosoft Windows 2000に組み込まれている方法を、Webトランザクションのセキュリティ強化にKerberosを使用する方法について説明します。「ネゴシエート」のハイパーテキストトランスポートプロトコル（HTTP）の認証 - スchemeはここで定義されています。交渉がKerberosの選択につながると、認証のセキュリティサービス、およびオプションでは、IISサーバーは、認証されたプリンシパルのWindows IDを想定しています）が実行されます。このドキュメントでは、HTTP認証がシンプルで保護されたGSS-API交渉メカニズムをどのように利用するかについて説明します。このドキュメントでは、シンプルで保護されたネゴシエート（SPNEGO）の実装の詳細は提供されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................2
   2. Conventions Used in This Document ...............................2
   3. Access Authentication ...........................................2
      3.1. Reliance on the HTTP/1.1 Specification .....................2
   4. HTTP Negotiate Authentication Scheme ............................2
      4.1. The WWW-Authenticate Response Header .......................2
   5. Negotiate Operation Example .....................................4
   6. Security Considerations .........................................5
   7. Normative References ............................................6
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Microsoft has provided support for Kerberos authentication in Microsoft Internet Explorer (MSIE) and Internet Information Services (IIS), in addition to other mechanisms. This provides the benefits of the Kerberos v5 protocol for Web applications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Microsoftは、他のメカニズムに加えて、Microsoft Internet Explorer（MSIE）およびInternet Information Services（IIS）でKerberos認証をサポートしています。これにより、Webアプリケーション用のKerberos V5プロトコルの利点が提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Support for Kerberos authentication is based on other previously defined mechanisms, such as SPNEGO Simple And Protected Negotiate (SPNEGO) [RFC4178] and the Generic Security Services Application Program Interface(GSSAPI).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Kerberos認証のサポートは、Spnego SimpleおよびProtected Negotiate（SPNEGO）[RFC4178]やGeneric Security Services Application Program Interface（GSSAPI）など、以前に定義された他のメカニズムに基づいています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--Conventions-Used-in-This-Document">
2. Conventions Used in This Document
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. このドキュメントで使用されている規則
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キーワード「必須」、「そうしない」、「必須」、「shall」、「shall」、「suff」、 &#34;not&#34;、 &#34;becommended&#34;、 &#34;、&#34;、 &#34;optional&#34;は解釈されます[RFC2119]で説明されているように。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--Access-Authentication">
3. Access Authentication
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. アクセス認証
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-1--Reliance-on-the-HTTP1-1-Specification">
3.1. Reliance on the HTTP/1.1 Specification
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. HTTP/1.1仕様への依存
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This specification is a companion to the HTTP/1.1 specification [RFC2616], and it builds on the authentication mechanisms defined in [RFC2617]. It uses the augmented BNF section of that document (2.1), and it relies on both the non-terminals defined in that document and other aspects of the HTTP/1.1 specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この仕様は、HTTP/1.1仕様[RFC2616]の仲間であり、[RFC2617]で定義されている認証メカニズムに基づいています。そのドキュメント（2.1）の拡張BNFセクションを使用し、そのドキュメントで定義されている非末端とHTTP/1.1仕様の他の側面の両方に依存しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--HTTP-Negotiate-Authentication-Scheme">
4. HTTP Negotiate Authentication Scheme
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. HTTPは認証スキームをネゴシエートします
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Use of Kerberos is wrapped in an HTTP auth-scheme of &#34;Negotiate&#34;. The auth-params exchanged use data formats defined for use with the GSS-API [RFC2743]. In particular, they follow the formats set for the SPNEGO [RFC4178] and Kerberos [RFC4121] mechanisms for GSSAPI. The &#34;Negotiate&#34; auth-scheme calls for the use of SPNEGO GSSAPI tokens that the specific mechanism type specifies.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Kerberosの使用は、「ネゴシエート」のHTTP Auth-Schemeに包まれています。Auth-Paramsは、GSS-API [RFC2743]で使用するために定義された使用データ形式を交換しました。特に、GSSAPIのSPNEGO [RFC4178]およびKerberos [RFC4121]メカニズムに設定された形式に従います。「ネゴシエート」Auth-Schemeは、特定のメカニズムタイプが指定するSpnego GSSAPIトークンの使用を求めています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The current implementation of this protocol is limited to the use of SPNEGO with the Kerberos and Microsoft(NT Lan Manager) NTLM protocols.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このプロトコルの現在の実装は、KerberosおよびMicrosoft（NT LAN Manager）NTLMプロトコルを使用したSPNEGOの使用に限定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4-1--The-WWW-Authenticate-Response-Header">
4.1. The WWW-Authenticate Response Header
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. www-authenticate応答ヘッダー
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the server receives a request for an access-protected object, and if an acceptable Authorization header has not been sent, the server responds with a &#34;401 Unauthorized&#34; status code, and a &#34;WWW-Authenticate:&#34; header as per the framework described in [RFC2616]. The initial WWW-Authenticate header will not carry any gssapi-data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーがアクセス保護されたオブジェクトのリクエストを受信し、許容可能な承認ヘッダーが送信されていない場合、サーバーは「401の不正な」ステータスコードと「www-authenticate：」で応答します。[RFC2616]。最初のwww-authenticateヘッダーは、GSSAPI-DATAを搭載しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The negotiate scheme will operate as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ネゴシエートスキームは次のように動作します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
challenge = &#34;Negotiate&#34; auth-data auth-data = 1#( [gssapi-data] )
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
課題= &#34;negotiate&#34; auth-data auth-data = 1＃（[gssapi-data]）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The meanings of the values of the directives used above are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記で使用される指令の値の意味は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
gssapi-data
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
gssapi-data
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the gss_accept_security_context returns a token for the client, this directive contains the base64 encoding of an initialContextToken, as defined in [RFC2743]. This is not present in the initial response from the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
gss_accept_security_contextがクライアントのトークンを返す場合、この指令には[rfc2743]で定義されているように、initialcontexttokenのbase64エンコードが含まれています。これは、サーバーからの最初の応答には存在しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A status code 200 status response can also carry a &#34;WWW-Authenticate&#34; response header containing the final leg of an authentication. In this case, the gssapi-data will be present. Before using the contents of the response, the gssapi-data should be processed by gss_init_security_context to determine the state of the security context. If this function indicates success, the response can be used by the application. Otherwise, an appropriate action, based on the authentication status, should be taken.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ステータスコード200ステータス応答は、認証の最終脚を含む「www-authenticate」応答ヘッダーを伝えることもできます。この場合、GSSAPI-DATAが存在します。応答の内容を使用する前に、GSSAPI-DATAをgss_init_security_contextで処理して、セキュリティコンテキストの状態を決定する必要があります。この関数が成功を示している場合、応答はアプリケーションで使用できます。それ以外の場合、認証ステータスに基づいた適切なアクションを実行する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, the authentication could have failed on the final leg if mutual authentication was requested and the server was not able to prove its identity. In this case, the returned results are suspect. It is not always possible to mutually authenticate the server before the HTTP operation. POST methods are in this category.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、相互認証が要求され、サーバーがそのアイデンティティを証明できなかった場合、認証は最終脚で失敗した可能性があります。この場合、返された結果は疑わしい。HTTP操作の前にサーバーを相互に認証することは常に可能ではありません。ポストメソッドはこのカテゴリにあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the Kerberos Version 5 GSSAPI mechanism [RFC4121] is being used, the HTTP server will be using a principal name of the form of &#34;HTTP/hostname&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Kerberosバージョン5 GSSAPIメカニズム[RFC4121]が使用されている場合、HTTPサーバーは「HTTP/HOSTNAME」の形式の主名を使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4-2--The-Authorization-Request-Header">
4.2. The Authorization Request Header
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. 承認要求ヘッダー
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receipt of the response containing a &#34;WWW-Authenticate&#34; header from the server, the client is expected to retry the HTTP request, passing a HTTP &#34;Authorization&#34; header line. This is defined according to the framework described in [RFC2616] and is utilized as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーから「www-authenticate」ヘッダーを含む応答を受信すると、クライアントはHTTP要求を再試行し、HTTP「認証」ヘッダーラインを渡すことが期待されます。これは[RFC2616]で説明されているフレームワークに従って定義され、次のように使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
credentials = &#34;Negotiate&#34; auth-data2 auth-data2 = 1#( gssapi-data )
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
資格情報=「ネゴシエート &#34;auth-data2 auth-data2 = 1＃（gssapi-data）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
gssapi-data This directive contains the base64 encoding of an InitialContextToken, as defined in [RFC2743].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
GSSAPI-DATAこの指令には、[RFC2743]で定義されているように、initialContextTokenのbase64エンコードが含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Any returned code other than a success 2xx code represents an authentication error. If a 401 containing a &#34;WWW-Authenticate&#34; header with &#34;Negotiate&#34; and gssapi-data is returned from the server, it is a continuation of the authentication request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
成功2xxコード以外の返されたコードは、認証エラーを表します。「ネゴシエート」を備えた「www-authenticate」ヘッダーを含む401がサーバーからgssapi-dataが返される場合、それは認証要求の継続です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A client may initiate a connection to the server with an &#34;Authorization&#34; header containing the initial token for the server. This form will bypass the initial 401 error from the server when the client knows that the server will accept the Negotiate HTTP authentication type.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは、サーバーの最初のトークンを含む「承認」ヘッダーでサーバーへの接続を開始できます。このフォームは、サーバーがネゴシエートHTTP認証タイプを受け入れることをクライアントが知っているときに、サーバーからの初期401エラーをバイパスします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--Negotiate-Operation-Example">
5. Negotiate Operation Example
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 操作の例を交渉します
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The client requests an access-protected document from server via a GET method request. The URI of the document is &#34;http://www.nowhere.org/dir/index.html&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは、GETメソッドリクエストを介してサーバーからアクセス保護されたドキュメントを要求します。ドキュメントのURIは「http://www.nowhere.org/dir/index.html」です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
C: GET dir/index.html
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
C：dir/index.htmlを取得します
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first time the client requests the document, no Authorization header is sent, so the server responds with
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントがドキュメントを初めてリクエストしたとき、承認ヘッダーは送信されないため、サーバーは
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           S: HTTP/1.1 401 Unauthorized
           S: WWW-Authenticate: Negotiate
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The client will obtain the user credentials using the SPNEGO GSSAPI mechanism type to identify generate a GSSAPI message to be sent to the server with a new request, including the following Authorization header:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは、SPNEGO GSSAPIメカニズムタイプを使用してユーザー資格情報を取得し、次の承認ヘッダーを含む新しいリクエストでサーバーに送信されるGSSAPIメッセージを生成する識別します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           C: GET dir/index.html
           C: Authorization: Negotiate a87421000492aa874209af8bc028
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The server will decode the gssapi-data and pass this to the SPNEGO GSSAPI mechanism in the gss_accept_security_context function. If the context is not complete, the server will respond with a 401 status code with a WWW-Authenticate header containing the gssapi-data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーはGSSAPI-DATAをデコードし、GSS_ACCEPT_SECURITY_CONTEXT関数のSPNEGO GSSAPIメカニズムにこれを渡します。コンテキストが完了していない場合、サーバーはGSSAPI-DATAを含むwww-authenticateヘッダーを備えた401ステータスコードで応答します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           S: HTTP/1.1 401 Unauthorized
           S: WWW-Authenticate: Negotiate 749efa7b23409c20b92356
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The client will decode the gssapi-data, pass this into Gss_Init_security_context, and return the new gssapi-data to the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントはGSSAPI-DATAをデコードし、これをgss_init_security_contextに渡し、新しいgssapi-dataをサーバーに返します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           C: GET dir/index.html
           C: Authorization: Negotiate 89a8742aa8729a8b028
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This cycle can continue until the security context is complete. When the return value from the gss_accept_security_context function indicates that the security context is complete, it may supply final authentication data to be returned to the client. If the server has more gssapi data to send to the client to complete the context, it is to be carried in a WWW-Authenticate header with the final response containing the HTTP body.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このサイクルは、セキュリティコンテキストが完了するまで継続できます。gss_accept_security_context関数からの返品値がセキュリティコンテキストが完了していることを示している場合、最終認証データを提供してクライアントに返す場合があります。サーバーにコンテキストを完了するためにクライアントに送信するためのより多くのGSSAPIデータがある場合、HTTPボディを含む最終応答を使用してwww-authenticateヘッダーに携帯されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           S: HTTP/1.1 200 Success
           S: WWW-Authenticate: Negotiate ade0234568a4209af8bc0280289eca
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The client will decode the gssapi-data and supply it to gss_init_security_context using the context for this server. If the status is successful from the final gss_init_security_context, the response can be used by the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントはGSSAPI-DATAをデコードし、このサーバーのコンテキストを使用してGSS_INIT_SECURITY_CONTEXTに供給します。最終的なgss_init_security_contextからステータスが成功した場合、応答はアプリケーションで使用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--Security-Considerations">
6. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. セキュリティに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SPNEGO HTTP authentication facility is only used to provide authentication of a user to a server. It provides no facilities for protecting the HTTP headers or data including the Authorization and WWW-Authenticate headers that are used to implement this mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SPNEGO HTTP認証機能は、ユーザーの認証をサーバーに提供するためにのみ使用されます。このメカニズムを実装するために使用される承認やwww-authenticateヘッダーなど、HTTPヘッダーまたはデータを保護するための施設を提供しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Alternate mechanisms such as TLS can be used to provide confidentiality. Hashes of the TLS certificates can be used as channel bindings to secure the channel. In this case clients would need to enforce that the channel binding information is valid. Note that Kerb-TLS [RFC2712] could be used to provide both authentication and confidentiality, but this requires a change to the TLS provider.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TLSなどの代替メカニズムを使用して、機密性を提供できます。TLS証明書のハッシュは、チャネルバインディングとして使用してチャネルを保護できます。この場合、クライアントはチャネルバインディング情報が有効であることを強制する必要があります。KERB-TLS [RFC2712]を使用して認証と機密性の両方を提供できることに注意してください。これにはTLSプロバイダーに変更が必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This mechanism is not used for HTTP authentication to HTTP proxies.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このメカニズムは、HTTPプロキシへのHTTP認証には使用されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an HTTP proxy is used between the client and server, it must take care to not share authenticated connections between different authenticated clients to the same server. If this is not honored, then the server can easily lose track of security context associations. A proxy that correctly honors client to server authentication integrity will supply the &#34;Proxy-support: Session-Based-Authentication&#34; HTTP header to the client in HTTP responses from the proxy. The client MUST NOT utilize the SPNEGO HTTP authentication mechanism through a proxy unless the proxy supplies this header with the &#34;401 Unauthorized&#34; response from the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントとサーバーの間でHTTPプロキシが使用されている場合、同じサーバーに異なる認証されたクライアント間の認証された接続を共有しないように注意する必要があります。これが尊重されない場合、サーバーはセキュリティコンテキストの関連付けを簡単に追跡することができます。サーバー認証の整合性に対してクライアントを正しく尊重するプロキシは、プロキシからのHTTP応答で「プロキシサポート：セッションベースの認証」HTTPヘッダーをクライアントに提供します。クライアントは、プロキシがこのヘッダーにサーバーからの「401不正な」応答を提供しない限り、プロキシを介してSPNEGO HTTP認証メカニズムを利用してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When using the SPNEGO HTTP authentication facility with client-supplied data such as PUT and POST, the authentication should be complete between the client and server before sending the user data. The return status from the gss_init_security_context will indicate that the security context is complete. At this point, the data can be sent to the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PutやPutなどのクライアントが提供するデータを使用してSPNEGO HTTP認証機能を使用する場合、ユーザーデータを送信する前にクライアントとサーバーの間で認証を完了する必要があります。gss_init_security_contextからの返品ステータスは、セキュリティコンテキストが完了していることを示します。この時点で、データはサーバーに送信できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--Normative-References">
7. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 引用文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2743] Linn, J., &#34;Generic Security Service Application Program Interface Version 2&#34;, 2, Update 1&#34;, 2743, January 2000.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2743] Linn、J。、「Generic Security Service Application Program Interfaceバージョン2 &#34;、2、Update 1&#34;、2743、2000年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するためのキーワード」、BCP 14、RFC 2119、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4178] Zhu, L., Leach, P., Jaganathan, K., and W. Ingersoll, &#34;The Simple and Protected GSS-API Generic Security Service Application Program Interface (GSS-API) Negotiation Mechanism&#34;, 4178, October 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4178] Zhu、L.、Leach、P.、Jaganathan、K。、およびW. Ingersoll、「シンプルで保護されたGSS-APIジェネリックセキュリティサービスアプリケーションプログラムインターフェイス（GSS-API）交渉メカニズム、4178、2005年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2616] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &#34;Hypertext Transfer Protocol -- HTTP/1.1&#34;, RFC 2616, June 1999.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2616] Fielding、R.、Gettys、J.、Mogul、J.、Frystyk、H.、Masinter、L.、Leach、P。、およびT. Berners-Lee、「HyperText Transfer Protocol-HTTP/1.1」、RFC 2616、1999年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2617] Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A., and L. Stewart, &#34;HTTP Authentication: Basic and Digest Access Authentication&#34;, RFC 2617, June 1999.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2617] Franks、J.、Hallam-Baker、P.、Hostetler、J.、Lawrence、S.、Leach、P.、Luotonen、A。、およびL. Stewart、「HTTP認証：基本および消化アクセス認証」、RFC 2617、1999年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2712] Medvinsky, A. and M. Hur, &#34;Addition of Kerberos Cipher Suites to Transport Layer Security (TLS)&#34;, RFC 2712, October 1999.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2712] Medvinsky、A。およびM. Hur、「層のセキュリティ（TLS）へのKerberos cipherスイートの追加」、RFC 2712、1999年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4121] Zhu, L., Jaganathan, K., and S. Hartman, &#34;The Kerberos Version 5 Generic Security Service Application Program Interface (GSS-API) Mechanism: Version 2&#34;, RFC 4121, July 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4121] Zhu、L.、Jaganathan、K。、およびS. Hartman、「Kerberosバージョン5ジェネリックセキュリティサービスアプリケーションプログラムインターフェイス（GSS-API）メカニズム：バージョン2 &#34;、RFC 4121、2005年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Karthik Jaganathan Microsoft Corporation One Microsoft Way Redmond, WA 98052 US
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Karthik Jaganathan Microsoft Corporation One Microsoft Way Redmond、WA 98052 US
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: karthikj@microsoft.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Larry Zhu Microsoft Corporation One Microsoft Way Redmond, WA 98052 US
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Larry Zhu Microsoft Corporation One Microsoft Way Redmond、WA 98052 US
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: lzhu@microsoft.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
John Brezak Microsoft Corporation One Microsoft Way Redmond, WA 98052 US
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
John Brezak Microsoft Corporation One Microsoft Way Redmond、WA 98052 US
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: jbrezak@microsoft.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Full Copyright Statement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
完全な著作権声明
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (2006).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）The Internet Society（2006）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to the rights, licenses and restrictions contained in BCP 78 and at www.rfc-editor.org/copyright.html, and except as set forth therein, the authors retain all their rights.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびwww.rfc-editor.org/copyright.htmlに含まれる権利、ライセンス、および制限の対象となり、その中に記載されている場合を除き、著者はすべての権利を保持します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document and the information contained herein are provided on an &#34;AS IS&#34; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントとここに含まれる情報は、「現状のまま」に基づいて提供されています。また、貢献者、彼/彼女が代表する組織（もしあれば）が後援する組織、インターネット協会とインターネット工学タスクフォースは、すべての保証、明示的または明示的、またはすべての保証を否認します。本書の情報の使用が、商品性または特定の目的に対する適合性の権利または黙示的な保証を侵害しないという保証を含むがこれらに限定されないことを含む。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Intellectual Property
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
知的財産
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IETFは、知的財産権またはその他の権利の有効性または範囲に関して、この文書に記載されている技術の実装または使用、またはそのような権利に基づくライセンスがどの程度であるかについての使用に関連すると主張する可能性があるという立場はありません。利用可能になります。また、そのような権利を特定するために独立した努力をしたことも表明していません。RFCドキュメントの権利に関する手順に関する情報は、BCP 78およびBCP 79に記載されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at http://www.ietf.org/ipr.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IETF事務局に行われたIPR開示のコピーと、利用可能にするライセンスの保証、またはこの仕様の実装者またはユーザーによるそのような独自の権利の使用のための一般的なライセンスまたは許可を取得しようとする試みの結果を取得できます。http://www.ietf.org/iprのIETFオンラインIPRリポジトリから。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at ietf-ipr@ietf.org.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IETFは、関心のある当事者に、著作権、特許、または特許出願、またはこの基準を実装するために必要な技術をカバーする可能性のあるその他の独自の権利を注意深く招待するよう招待しています。ietf-ipr@ietf.orgのIETFへの情報をお問い合わせください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Funding for the RFC Editor function is provided by the IETF Administrative Support Activity (IASA).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFCエディター機能の資金は、IETF管理サポートアクティビティ（IASA）によって提供されます。
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
