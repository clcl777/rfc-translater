<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 8357 - Generalized UDP Source Port for DHCP Relay 日本語訳</title>
  <meta name="description" content="RFC 8357は、DHCPリレーのための一般化されたUDPソースポートに関する仕様です。このRFCの目的は、DHCPリレーの効率とセキュリティを向上させるために、ソースポートの選択方法を標準化することです。">
  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./master.css">
  <script src="./index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">8357</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc8357">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 8357 - Generalized UDP Source Port for DHCP Relay 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc8357">
            https://datatracker.ietf.org/doc/html/rfc8357
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 8357 - DHCPリレー用の一般化されたUDPソースポート</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div id="rfc_summary">
      <div class="card mb-3">
        <div class="card-body">
          <p class="card-text">[要約] RFC 8357は、DHCPリレーのための一般化されたUDPソースポートに関する仕様です。このRFCの目的は、DHCPリレーの効率とセキュリティを向上させるために、ソースポートの選択方法を標準化することです。</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                           N. Shen
Request for Comments: 8357                                       E. Chen
Category: Standards Track                                  Cisco Systems
ISSN: 2070-1721                                               March 2018
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
Generalized UDP Source Port for DHCP Relay
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
DHCPリレー用の一般化されたUDPソースポート
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines an extension to the DHCP protocols that allows a relay agent to use any available source port for upstream communications. The extension also allows inclusion of a DHCP option that can be used to statelessly route responses back to the appropriate source port on downstream communications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、リレーエージェントがアップストリーム通信に使用可能な任意の送信元ポートを使用できるようにするDHCPプロトコルの拡張を定義しています。この拡張により、ダウンストリーム通信の適切な送信元ポートに応答をステートレスにルーティングするために使用できるDHCPオプションを含めることもできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 7841のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc8357.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、https：//www.rfc-editor.org/info/rfc8357で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2018 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2018 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびIETF文書に関するIETFトラストの法的規定（https://trustee.ietf.org/license-info）の対象であり、この文書の発行日に有効です。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
     2.2.  Definitions . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Changes to DHCP Specifications  . . . . . . . . . . . . . . .   4
     3.1.  Additions to DHCPv4 in RFC 2131 . . . . . . . . . . . . .   4
     3.2.  Additions to DHCPv6 in RFC 3315 . . . . . . . . . . . . .   4
   4.  Relay Source Port Sub-option and Option . . . . . . . . . . .   4
     4.1.  Source Port Sub-option for DHCPv4 . . . . . . . . . . . .   5
     4.2.  Relay Source Port Option for DHCPv6 . . . . . . . . . . .   5
   5.  Relay Agent and Server Behavior . . . . . . . . . . . . . . .   6
     5.1.  DHCPv4  . . . . . . . . . . . . . . . . . . . . . . . . .   6
     5.2.  DHCPv6  . . . . . . . . . . . . . . . . . . . . . . . . .   6
     5.3.  Compatibility . . . . . . . . . . . . . . . . . . . . . .   7
     5.4.  Deployment Considerations . . . . . . . . . . . . . . . .   7
   6.  Example of an IPv6-Cascaded Relay . . . . . . . . . . . . . .   7
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   9.  Normative References  . . . . . . . . . . . . . . . . . . . .   9
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  10
   Authors&#39; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 2131 [RFC2131] and RFC 3315 [RFC3315] specify the use of UDP as the transport protocol for DHCP. They also define both the server-and client-side port numbers. The IPv4 server port is UDP number (67) and the client port is UDP number (68); for IPv6, the server port is (547) and the client port is (546).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 2131 [RFC2131]およびRFC 3315 [RFC3315]は、DHCPのトランスポートプロトコルとしてUDPの使用を指定しています。また、サーバー側とクライアント側の両方のポート番号も定義します。 IPv4サーバーポートはUDP番号（67）で、クライアントポートはUDP番号（68）です。 IPv6の場合、サーバーポートは（547）、クライアントポートは（546）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The fixed UDP port combinations for the DHCP protocol scheme creates challenges in certain DHCP relay operations. For instance, in a large-scale DHCP relay implementation on a single-switch node, the DHCP relay functionality may be partitioned among multiple relay processes. All of these DHCP relay processes may share the same IP address of the switch node. If the UDP source port has to be a fixed number as currently specified, the transport socket operation of DHCP packets would need to go through a central entity or process, which would defeat the purpose of distributing DHCP relay functionality.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DHCPプロトコルスキームの固定UDPポートの組み合わせにより、特定のDHCPリレー操作で課題が発生します。たとえば、単一スイッチノードでの大規模なDHCPリレー実装では、DHCPリレー機能が複数のリレープロセス間で分割される場合があります。これらのDHCPリレープロセスはすべて、スイッチノードの同じIPアドレスを共有できます。 UDP送信元ポートを現在指定されている固定数にする必要がある場合、DHCPパケットのトランスポートソケット操作は中央のエンティティまたはプロセスを通過する必要があり、DHCPリレー機能を配布する目的に反することになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In some large-scale deployments, the decision to split the DHCP functionality into multiple processes on a node may not be purely based on DHCP relay computational load. Rather, DHCP relay could just be one of the functions in a multi-process implementation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一部の大規模な展開では、DHCP機能をノード上の複数のプロセスに分割する決定は、純粋にDHCPリレーの計算負荷に基づいていない場合があります。むしろ、DHCPリレーは、マルチプロセス実装の機能の1つにすぎません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although assigning a different IPv4/IPv6 source address for each DHCP relay process can be a solution, this would introduce operational and network management complexities, especially given the scarceness of IPv4 addresses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DHCPリレープロセスごとに異なるIPv4 / IPv6送信元アドレスを割り当てることは解決策になる可能性がありますが、これにより、特にIPv4アドレスが不足している場合に、運用とネットワーク管理が複雑になります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines an extension to relax the fixed UDP source port requirement for the DHCP relay agents. This extension requires a DHCP server to remember the inbound packet&#39;s UDP port number along with the IPv4/IPv6 address. When sending back replies, the DHCP server MUST use the UDP port number that the incoming relay agent uses instead of the fixed DHCP port number. In the case of IPv6-cascaded relay agents [RFC3315], the upstream relay agent needs to use the &#34;Relay Source Port Option&#34; to record the downstream source port, and it MUST use this recorded port number instead of the fixed DHCP port number when replaying the reply messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、DHCPリレーエージェントの固定UDPソースポート要件を緩和する拡張機能を定義します。この拡張では、DHCPサーバーが受信パケットのUDPポート番号とIPv4 / IPv6アドレスを覚えている必要があります。 DHCPサーバーは、返信を返信するときに、固定DHCPポート番号の代わりに、着信リレーエージェントが使用するUDPポート番号を使用する必要があります。 IPv6カスケードリレーエージェント[RFC3315]の場合、アップストリームリレーエージェントはダウンストリームソースポートを記録するために「リレーソースポートオプション」を使用する必要があり、固定DHCPポート番号の代わりにこの記録されたポート番号を使用する必要があります。返信メッセージを再生します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--Terminology">
2. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 用語
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-1--Requirements-Language">
2.1. Requirements Language
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. 要件言語
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;NOT RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all capitals, as shown here.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「NOT RECOMMENDED」、「MAY」、「OPTIONALこのドキュメントの「」は、BCP 14 [RFC2119] [RFC8174]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-2--Definitions">
2.2. Definitions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. 定義
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Downstream Device: In the DHCP relay context, this refers to the next relay agent that forwards Relay-reply messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ダウンストリームデバイス：DHCPリレーコンテキストでは、これはリレー応答メッセージを転送する次のリレーエージェントを指します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upstream Device: In the DHCP relay context, this refers to the next relay agent or DHCP server that forwards Relay-forward messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アップストリームデバイス：DHCPリレーコンテキストでは、リレー転送メッセージを転送する次のリレーエージェントまたはDHCPサーバーを指します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relay Source Port: This is the UDP port that a relay agent uses to receive Relay-forward messages from an upstream device.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リレー送信元ポート：これは、リレーエージェントがアップストリームデバイスからリレー転送メッセージを受信するために使用するUDPポートです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Downstream Source Port: This is the UDP port that the downstream device uses when forwarding Relay-forward messages to this relay agent device. This UDP port is to be used by this relay agent device when forwarding the Relay-reply messages to that downstream device.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ダウンストリームソースポート：これは、ダウンストリームデバイスがリレー転送メッセージをこのリレーエージェントデバイスに転送するときに使用するUDPポートです。このUDPポートは、リレー応答メッセージをそのダウンストリームデバイスに転送するときに、このリレーエージェントデバイスによって使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Non-DHCP UDP Port: Any valid and non-zero UDP port other than port 67 for DHCPv4 and port 547 for DHCPv6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
非DHCP UDPポート：DHCPv4のポート67とDHCPv6のポート547以外の有効でゼロ以外のUDPポート。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--Changes-to-DHCP-Specifications">
3. Changes to DHCP Specifications
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. DHCP仕様の変更
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-1--Additions-to-DHCPv4-in-RFC-2131">
3.1. Additions to DHCPv4 in RFC 2131
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. RFC 2131のDHCPv4への追加
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 4.1 of RFC 2131 [RFC2131] specifies that:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 2131 [RFC2131]のセクション4.1は、次のように規定しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
DHCP uses UDP as its transport protocol. DHCP messages from a client to a server are sent to the &#39;DHCP server&#39; port (67), and DHCP messages from a server to a client are sent to the &#39;DHCP client&#39; port (68).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
DHCPはトランスポートプロトコルとしてUDPを使用します。クライアントからサーバーへのDHCPメッセージは「DHCPサーバー」ポート（67）に送信され、サーバーからクライアントへのDHCPメッセージは「DHCPクライアント」ポート（68）に送信されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relay agents implementing this specification may be configured instead to 1) use a source port number other than 67 when relaying messages toward servers and 2) receive responses toward clients on that same port. This will only work when the DHCP server or relay agent to which such a relay agent is forwarding messages is upgraded to support this extension.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この仕様を実装するリレーエージェントは、1）サーバーにメッセージをリレーするときに67以外のソースポート番号を使用し、2）同じポートでクライアントに応答を受信するように構成できます。これは、このようなリレーエージェントがメッセージを転送しているDHCPサーバーまたはリレーエージェントが、この拡張機能をサポートするようにアップグレードされている場合にのみ機能します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-2--Additions-to-DHCPv6-in-RFC-3315">
3.2. Additions to DHCPv6 in RFC 3315
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. RFC 3315のDHCPv6への追加
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 5.2 of RFC 3315 [RFC3315] specifies that:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 3315 [RFC3315]のセクション5.2では、次のように規定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Clients listen for DHCP messages on UDP port 546. Servers and relay agents listen for DHCP messages on UDP port 547.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
クライアントは、UDPポート546でDHCPメッセージをリッスンします。サーバーとリレーエージェントは、UDPポート547でDHCPメッセージをリッスンします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relay agents implementing this specification may be configured instead to 1) use a source port number other than 547 when relaying messages toward servers and 2) receive responses toward clients on that same port. This will only work when the DHCP server or relay agent to which such a relay agent is forwarding messages is upgraded to support this extension.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この仕様を実装するリレーエージェントは、1）サーバーにメッセージをリレーするときに547以外のソースポート番号を使用し、2）その同じポートでクライアントに応答を受信するように構成できます。これは、このようなリレーエージェントがメッセージを転送しているDHCPサーバーまたはリレーエージェントが、この拡張機能をサポートするようにアップグレードされている場合にのみ機能します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--Relay-Source-Port-Sub-option-and-Option">
4. Relay Source Port Sub-option and Option
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. リレー送信元ポートのサブオプションとオプション
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relay agents do not maintain state. To return a message to its source, the relay agent must include all the required information in the Relay-forward message. When a relay in a sequence of cascaded relays does not use the standard source port, that source port must be included along with the source address. This option allows the relay agent to do so.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リレーエージェントは状態を維持しません。メッセージをソースに戻すには、リレーエージェントが必要なすべての情報をリレー転送メッセージに含める必要があります。カスケードされたリレーのシーケンスのリレーが標準の送信元ポートを使用しない場合、その送信元ポートを送信元アドレスとともに含める必要があります。このオプションにより、リレーエージェントはこれを行うことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4-1--Source-Port-Sub-option-for-DHCPv4">
4.1. Source Port Sub-option for DHCPv4
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. DHCPv4の送信元ポートサブオプション
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The relay agent &#34;Source Port Sub-option&#34; is a new option, and it is part of the &#34;Relay Agent Information&#34; option for DHCPv4 [RFC3046].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リレーエージェント「Source Port Sub-option」は新しいオプションであり、DHCPv4 [RFC3046]の「Relay Agent Information」オプションの一部です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The format of the &#34;Source Port Sub-option&#34; is shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「送信元ポートサブオプション」の形式を以下に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            | SubOpt Code   |      Len      |
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Where:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ただし：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SubOpt Code: SUBOPT_RELAY_PORT. 8-bit value, 19.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SubOptコード：SUBOPT_RELAY_PORT。 8ビット値、19。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Len: 8-bit value to be set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Len：0に設定される8ビット値。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4-2--Relay-Source-Port-Option-for-DHCPv6">
4.2. Relay Source Port Option for DHCPv6
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. DHCPv6のリレーソースポートオプション
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;Relay Source Port Option&#34; is a new DHCPv6 option. It MUST be used by either 1) a DHCPv6 relay agent that uses a non-DHCP UDP port (not 547) communicating with the IPv6 server and the upstream relay agent or 2) an IPv6 relay agent that detects the use of a non-DHCP UDP port (not 547) by a downstream relay agent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「リレーソースポートオプション」は新しいDHCPv6オプションです。 1）IPv6サーバーと上流のリレーエージェントと通信する非DHCP UDPポート（547ではない）を使用するDHCPv6リレーエージェント、または2）非DHCPの使用を検出するIPv6リレーエージェントのいずれかが使用する必要があります。ダウンストリームリレーエージェントによるUDPポート（547ではない）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The format of the &#34;Relay Source Port Option&#34; is shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「リレーソースポートオプション」のフォーマットを以下に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    OPTION_RELAY_PORT    |         Option-Len                  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Downstream Source Port     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Where:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ただし：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Option-Code: OPTION_RELAY_PORT. 16-bit value, 135.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションコード：OPTION_RELAY_PORT。 16ビット値、135。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Option-Len: 16-bit value to be set to 2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Option-Len：2に設定される16ビット値。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Downstream Source Port: 16-bit value. To be set by the IPv6 relay either to the downstream relay agent&#39;s UDP source port used for the UDP packet, or to zero if only the local relay agent uses the non-DHCP UDP port (not 547).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ダウンストリームソースポート：16ビット値。 IPv6リレーによって、UDPパケットに使用されるダウンストリームリレーエージェントのUDPソースポートに設定するか、ローカルリレーエージェントのみが非DHCP UDPポート（547ではない）を使用する場合はゼロに設定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--Relay-Agent-and-Server-Behavior">
5. Relay Agent and Server Behavior
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. リレーエージェントとサーバーの動作
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-1--DHCPv4">
5.1. DHCPv4
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. DHCPv4
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a relay agent uses a non-DHCP UDP port (not 67) to communicate with the DHCP server, it MUST include the &#34;Source Port Sub-option&#34; in Relay-forward messages to indicate that.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リレーエージェントがDHCPサーバーとの通信にDHCP以外のUDPポート（67ではない）を使用する場合、それを示すために、リレー転送メッセージに「ソースポートサブオプション」を含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an IPv4 server receives a message from a relay agent with the &#34;Source Port Sub-option&#34;, it MUST remember the UDP source port of the message and use that port number as the UDP destination port when sending the reply message to the same relay agent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4サーバーは、「ソースポートサブオプション」を使用してリレーエージェントからメッセージを受信すると、メッセージのUDPソースポートを記憶し、同じリレーに応答メッセージを送信するときに、そのポート番号をUDP宛先ポートとして使用する必要があります。エージェント。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-2--DHCPv6">
5.2. DHCPv6
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. DHCPv6
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IPv6 relay agent MUST include the &#34;Relay Source Port Option&#34; when it uses a non-DHCP UDP port (not 547) to communicate to a DHCPv6 server or an upstream IPv6 relay agent. Also, when an IPv6 relay agent detects that a downstream relay agent uses a non-DHCP UDP port in the packet, it MUST record the port number in the &#34;Downstream Source Port&#34; field of this option. If this option is included to indicate only the local non-DHCP UDP port usage and the port is not being used by a downstream relay agent, the Downstream Source Port field MUST be set to zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6リレーエージェントは、非DHCP UDPポート（547ではない）を使用してDHCPv6サーバーまたはアップストリームIPv6リレーエージェントと通信する場合、「リレーソースポートオプション」を含める必要があります。また、IPv6リレーエージェントがダウンストリームリレーエージェントがパケット内の非DHCP UDPポートを使用していることを検出した場合、このオプションの「ダウンストリームソースポート」フィールドにポート番号を記録する必要があります。このオプションが含まれていて、ローカルの非DHCP UDPポートの使用のみを示し、ポートがダウンストリームリレーエージェントによって使用されていない場合は、ダウンストリームソースポートフィールドをゼロに設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IPv6 relay agent MUST include this option in the following three cases:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6リレーエージェントは、次の3つの場合にこのオプションを含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The local relay agent uses a non-DHCP UDP port (not 547).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. ローカルリレーエージェントは非DHCP UDPポート（547ではない）を使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The downstream relay agent uses a non-DHCP UDP port (not 547).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. ダウンストリームリレーエージェントは、非DHCP UDPポート（547ではない）を使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The local relay agent and the downstream relay agent both use non-DHCP UDP ports (not 547).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. ローカルリレーエージェントとダウンストリームリレーエージェントはどちらも非DHCP UDPポート（547ではない）を使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the first case, the value of the &#34;Downstream Source Port&#34; field is set to zero. In the other two cases, the value of the field is set to the UDP port number that the downstream relay agent uses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初のケースでは、「ダウンストリームソースポート」フィールドの値はゼロに設定されます。他の2つのケースでは、フィールドの値は、ダウンストリームリレーエージェントが使用するUDPポート番号に設定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an IPv6 server receives a Relay-forward message with the &#34;Relay Source Port Option&#34;, it MUST copy the option when constructing the Relay-reply chain in response to the Relay-forward message. This option MUST NOT appear in any message other than a Relay-forward or Relay-reply message. Additionally, the IPv6 server MUST check and use the UDP source port from the UDP packet of the Relay-forward message in replying to the relay agent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6サーバーは、「リレーソースポートオプション」でリレー転送メッセージを受信すると、リレー転送メッセージに応答してリレー応答チェーンを構築するときに、オプションをコピーする必要があります。このオプションは、Relay-forwardまたはRelay-replyメッセージ以外のメッセージに表示してはなりません（MUST NOT）。さらに、IPv6サーバーは、リレーエージェントに応答する際に、リレー転送メッセージのUDPパケットからのUDPソースポートをチェックして使用する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a relay agent receives a Relay-reply message with the &#34;Relay Source Port Option&#34; from a server or from an upstream relay agent, if the &#34;Downstream Source Port&#34; field in the option is non-zero, it MUST use this UDP port number to forward the Relay-reply message to the downstream relay agent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リレーエージェントがサーバーまたはアップストリームリレーエージェントから「リレーソースポートオプション」を含むリレー応答メッセージを受信するとき、オプションの「ダウンストリームソースポート」フィールドがゼロ以外の場合、このUDPポートを使用する必要があります。リレー応答メッセージをダウンストリームリレーエージェントに転送するための番号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-3--Compatibility">
5.3. Compatibility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. 互換性
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Sites that need relay agents to specify a source port need to install new DHCP server and DHCP relay agent software with this feature. If a site installs only DHCP relay agent software with this feature, there is no possibility that the DHCP server will be able to communicate to the relay agent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
送信元ポートを指定するためにリレーエージェントが必要なサイトでは、この機能を備えた新しいDHCPサーバーとDHCPリレーエージェントソフトウェアをインストールする必要があります。サイトがこの機能を備えたDHCPリレーエージェントソフトウェアのみをインストールする場合、DHCPサーバーがリレーエージェントと通信できる可能性はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-4--Deployment-Considerations">
5.4. Deployment Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. 導入に関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
During deployment, the operator and/or user of the new DHCP play port implementation should upgrade the DHCP server before the relay implementations are deployed. This would ensure that the erroneous case noted in Section 5.3 is not encountered. If the upstream relay agent or server does not support this extension, this DHCP relay port feature needs to be disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
展開中、新しいDHCP再生ポート実装のオペレーターやユーザーは、リレー実装が展開される前にDHCPサーバーをアップグレードする必要があります。これにより、セクション5.3で指摘された誤ったケースが発生しないことが保証されます。上流のリレーエージェントまたはサーバーがこの拡張機能をサポートしていない場合、このDHCPリレーポート機能を無効にする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the DHCP relay port implementation is deployed, the default relay agent behavior should use the DHCP UDP port, and it is recommended that the configuration be set up to allow for the mode of operation where a non-DHCP port can be used for the DHCP relay agents.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DHCPリレーポート実装が展開されている場合、デフォルトのリレーエージェント動作はDHCP UDPポートを使用する必要があり、非DHCPポートをDHCPに使用できる動作モードを許可するように構成をセットアップすることをお勧めしますリレーエージェント。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the network uses a firewall to block or allow DHCP packets with both static UDP source and destination port numbers, this may no longer match the packets from new DHCP relay agent and server software with this extension. The firewall rules need to be modified to match only the DHCP server side of the UDP port number and, if necessary, IP addresses and other attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ネットワークがファイアウォールを使用して、静的なUDP送信元ポート番号と宛先ポート番号の両方を持つDHCPパケットをブロックまたは許可する場合、これはこの拡張機能を持つ新しいDHCPリレーエージェントおよびサーバーソフトウェアからのパケットと一致しなくなる可能性があります。ファイアウォールルールは、UDPポート番号のDHCPサーバー側と、必要に応じてIPアドレスとその他の属性のみに一致するように変更する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--Example-of-an-IPv6-Cascaded-Relay">
6. Example of an IPv6-Cascaded Relay
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. IPv6-Cascadedリレーの例
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An example of IPv6-cascaded relay agents with the &#34;Relay Source Port Option&#34; is shown below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「リレーソースポートオプション」を使用したIPv6カスケードリレーエージェントの例を以下に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
              (forward)          (forward)          (forward)
      Relay1 ----------&gt; Relay2 ----------&gt; Relay3 ----------&gt; Server
          (1000)              (547)              (547)
               (reply)            (reply)            (reply)
             &lt;----------        &lt;----------        &lt;----------
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the above diagram, all the IPv6 devices support this generalized UDP source port extension except for Relay3. Relay1 is the only relay agent device that uses a non-DHCP UDP port (not 547). Relay2 is the upstream device of Relay1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上の図では、Relay3を除くすべてのIPv6デバイスがこの一般化されたUDPソースポート拡張をサポートしています。 Relay1は、非DHCP UDPポート（547ではない）を使用する唯一のリレーエージェントデバイスです。 Relay2は、Relay1のアップストリームデバイスです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Both Relay1 and Relay2 include the &#34;Relay Source Port Option&#34; in the Relay-forward message. Relay1 sets the &#34;Downstream Source Port&#34; field in the option to zero. Relay2 notices that the &#34;Relay Source Port Option&#34; is included in the message from Relay1, and it determines that the UDP source port used by Relay1 is 1000. Relay2 will include the &#34;Relay Source Port Option&#34;, and it sets the &#34;Downstream Source Port&#34; field in the option to 1000. The IPv6 server copies the &#34;Relay Source Port Option&#34; when replying with the Relay-reply message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リレー1とリレー2の両方で、リレー転送メッセージに「リレーソースポートオプション」が含まれています。 Relay1は、オプションの「ダウンストリームソースポート」フィールドをゼロに設定します。リレー2は、「リレーソースポートオプション」がリレー1からのメッセージに含まれていることを認識し、リレー1が使用するUDPソースポートが1000であると判断します。リレー2は「リレーソースポートオプション」を含み、「ダウンストリームソースを設定します。オプションの[ポート]フィールドを1000に変更します。IPv6サーバーは、リレー応答メッセージで返信するときに、[リレーソースポートオプション]をコピーします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When Relay2 receives the Relay-reply message with the &#34;Relay Source Port Option&#34;, it finds that the &#34;Downstream Source Port&#34; field has the value of 1000. Relay2 then uses this port number in the UDP packet when sending the Relay-reply message to Relay1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relay2は、「Relay Source Port Option」を含むリレー応答メッセージを受信すると、「Downstream Source Port」フィールドの値が1000であることを検出します。Relay2は、リレー応答メッセージを送信するときに、UDPパケットでこのポート番号を使用します。リレー1へ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When Relay1 receives the Relay-reply message with the &#34;Relay Source Port Option&#34;, it finds that the &#34;Downstream Source Port&#34; field has the value of zero. Relay1 then uses the normal IPv6 port 547 in the packet sending the Relay-reply message to its downstream relay agent or uses UDP port 546 to an IPv6 client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relay1が「Relay Source Port Option」を含むリレー応答メッセージを受信すると、「Downstream Source Port」フィールドの値がゼロであることがわかります。次に、Relay1は、リレー応答メッセージをダウンストリームリレーエージェントに送信するパケットで通常のIPv6ポート547を使用するか、IPv6クライアントにUDPポート546を使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This DHCP extension works with any combination of IPv6-cascaded relay agents, as long as the relay agent that uses a non-DHCP UDP port (not 547) and its upstream relay device support this generalized UDP source port extension.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このDHCP拡張は、非DHCP UDPポート（547ではない）を使用するリレーエージェントとそのアップストリームリレーデバイスがこの汎用UDPソースポート拡張をサポートしている限り、IPv6カスケードリレーエージェントの任意の組み合わせで機能します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Similar to the above example, but now assume that Relay2 uses the UDP source port of 2000 instead of 547 as in the diagram. The Relay3 device needs to support this DHCP extension and it will set 2000 in its &#34;Downstream Source Port&#34; field of the option in the Relay-forward message. When the DHCP server sends the DHCP Relay-reply to Relay3, Relay3 finds that its own relay option has this &#34;Downstream Source Port&#34; with the value of 2000. Relay3 will use this UDP port when sending the Relay-reply message to Relay2. Relay2 finds its own relay option also has this &#34;Downstream Source Port&#34; with the value of 1000. Relay2 will use this UDP port when sending the Relay-reply message to Relay1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の例と同様ですが、Relay2が図のように547ではなく2000のUDP送信元ポートを使用すると仮定します。リレー3デバイスはこのDHCP拡張をサポートする必要があり、リレー転送メッセージのオプションの「ダウンストリームソースポート」フィールドに2000を設定します。 DHCPサーバーがDHCPリレー応答をリレー3に送信すると、リレー3は自身のリレーオプションにこの「ダウンストリームソースポート」の値が2000であることを検出します。リレー3は、リレー2にリレー応答メッセージを送信するときにこのUDPポートを使用します。リレー2は独自のリレーオプションを見つけ、値が1000のこの「ダウンストリームソースポート」も持っています。リレー2は、リレー応答メッセージをリレー1に送信するときにこのUDPポートを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--IANA-Considerations">
7. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. IANAに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA has registered &#34;DHCPv4 Relay Source Port Sub-option&#34; (19) for the IPv4 &#34;Relay Agent Information&#34; option within the &#34;DHCP Relay Agent Sub-Option Codes&#34; registry &lt;https://www.iana.org/assignments/ bootp-dhcp-parameters&gt; [RFC3046].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANAは、「DHCPリレーエージェントサブオプションコード」レジストリ&lt;https://www.iana.org/assignments/ bootp内のIPv4「リレーエージェント情報」オプションに「DHCPv4リレーソースポートサブオプション」（19）を登録しました-dhcp-parameters&gt; [RFC3046]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA has registered &#34;OPTION_RELAY_PORT&#34; (135) for the DHCPv6 &#34;Relay Source Port Option&#34; within the DHCPv6 &#34;Option Codes&#34; registry &lt;http://www.iana.org/assignments/dhcpv6-parameters&#34;&gt; [RFC3315].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANAは、DHCPv6「オプションコード」レジストリ&lt;http://www.iana.org/assignments/dhcpv6-parameters &#34;&gt; [RFC3315]内のDHCPv6「リレーソースポートオプション」の「OPTION_RELAY_PORT」（135）を登録しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8--Security-Considerations">
8. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. セキュリティに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3118] and [RFC3315] described many of the threats in using DHCP. This extension does not raise additional security issues.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3118]と[RFC3315]は、DHCPの使用における脅威の多くについて説明しました。この拡張機能は、追加のセキュリティ問題を引き起こしません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="9--Normative-References">
9. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. 引用文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;https://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、&lt;https://www.rfc-editor.org/info/ rfc2119&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2131] Droms, R., &#34;Dynamic Host Configuration Protocol&#34;, RFC 2131, DOI 10.17487/RFC2131, March 1997, &lt;https://www.rfc-editor.org/info/rfc2131&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2131] Droms、R。、「Dynamic Host Configuration Protocol」、RFC 2131、DOI 10.17487 / RFC2131、1997年3月、&lt;https://www.rfc-editor.org/info/rfc2131&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3046] Patrick, M., &#34;DHCP Relay Agent Information Option&#34;, RFC 3046, DOI 10.17487/RFC3046, January 2001, &lt;https://www.rfc-editor.org/info/rfc3046&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3046] Patrick、M。、「DHCPリレーエージェント情報オプション」、RFC 3046、DOI 10.17487 / RFC3046、2001年1月、&lt;https://www.rfc-editor.org/info/rfc3046&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3118] Droms, R., Ed. and W. Arbaugh, Ed., &#34;Authentication for DHCP Messages&#34;, RFC 3118, DOI 10.17487/RFC3118, June 2001, &lt;https://www.rfc-editor.org/info/rfc3118&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3118] Droms、R.、Ed。 W. Arbaugh編、「Authentication for DHCP Messages」、RFC 3118、DOI 10.17487 / RFC3118、2001年6月、&lt;https://www.rfc-editor.org/info/rfc3118&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3315] Droms, R., Ed., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &#34;Dynamic Host Configuration Protocol for IPv6 (DHCPv6)&#34;, RFC 3315, DOI 10.17487/RFC3315, July 2003, &lt;https://www.rfc-editor.org/info/rfc3315&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3315] Droms、R.、Ed。、Bound、J.、Volz、B.、Lemon、T.、Perkins、C.、and M. Carney、 &#34;Dynamic Host Configuration Protocol for IPv6（DHCPv6）&#34;、RFC 3315 、DOI 10.17487 / RFC3315、2003年7月、&lt;https://www.rfc-editor.org/info/rfc3315&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8174] Leiba, B., &#34;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&#34;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8174] Leiba、B。、「RFC 2119キーワードの大文字と小文字のあいまいさ」、BCP 14、RFC 8174、DOI 10.17487 / RFC8174、2017年5月、&lt;https://www.rfc-editor.org/info/ rfc8174&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgments
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors would like to thank Peter Arberg, Luyuan Fang, Bhanu Gopalasetty, Scott Kelly, Andre Kostur, Victor Kuarsingh, Ted Lemon, Adam Roach, Kishore Seshadri, and Jackelyn Shen for their review and comments of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントのレビューとコメントを提供してくれたPeter Arberg、Luyuan Fang、Bhanu Gopalasetty、Scott Kelly、Andre Kostur、Victor Kuarsingh、Ted Lemon、Adam Roach、Kishore Seshadri、およびJackelyn Shenに感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors would like to thank Bernie Volz for discussions that led to the definition of the &#34;Relay Source Port Sub-option&#34; and DHCPv6 &#34;Relay Source Port Option&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者は、「リレーソースポートサブオプション」とDHCPv6「リレーソースポートオプション」の定義につながった議論についてバーニーヴォルツに感謝したいと思います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Naiming Shen Cisco Systems 560 McCarthy Blvd. Milpitas, CA 95035 United States of America
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ナイミングシェンシスコシステムズ560マッカーシーブルバード。ミルピタス、カリフォルニア州95035アメリカ合衆国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: naiming@cisco.com
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Enke Chen Cisco Systems 560 McCarthy Blvd. Milpitas, CA 95035 United States of America
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エンケチェンCisco Systems 560 McCarthy Blvd.ミルピタス、カリフォルニア州95035アメリカ合衆国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: enkechen@cisco.com
        </pre>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
