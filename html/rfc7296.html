<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 7296 - Internet Key Exchange Protocol Version 2 (IKEv2) 日本語訳</title>
  <meta name="description" content="RFC 7296は、Internet Key Exchange Protocol Version 2 (IKEv2)に関する文書で、安全なIP通信を確立するためのセッション鍵とセキュリティアソシエーションを交渉するプロトコルを定義しています。このプロトコルは、特にVPN接続やIPsecプロトコルでの使用を目的としており、認証、鍵交換、セキュリティポリシーの確立を効率的に行うことができます。IKEv2は、以前のバージョンであるIKEv1（RFC 2409）を改良し、シンプルさと効率性を向上させています。関連するRFCには、RFC 4306（IKEv2の以前のバージョン）、RFC 2409（IKEv1）、およびRFC 4301（IPsecのセキュリティアーキテクチャ）があります。">
  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./master.css">
  <script src="./index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7296</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc7296">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 7296 - Internet Key Exchange Protocol Version 2 (IKEv2) 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc7296">
            https://datatracker.ietf.org/doc/html/rfc7296
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 7296 - インターネットキー交換プロトコルバージョン2（IKEv2）</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div id="rfc_summary">
      <div class="card mb-3">
        <div class="card-body">
          <p class="card-text">[要約] RFC 7296は、Internet Key Exchange Protocol Version 2 (IKEv2)に関する文書で、安全なIP通信を確立するためのセッション鍵とセキュリティアソシエーションを交渉するプロトコルを定義しています。このプロトコルは、特にVPN接続やIPsecプロトコルでの使用を目的としており、認証、鍵交換、セキュリティポリシーの確立を効率的に行うことができます。IKEv2は、以前のバージョンであるIKEv1（RFC 2409）を改良し、シンプルさと効率性を向上させています。関連するRFCには、RFC 4306（IKEv2の以前のバージョン）、RFC 2409（IKEv1）、およびRFC 4301（IPsecのセキュリティアーキテクチャ）があります。</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                        C. Kaufman
Request for Comments: 7296                                     Microsoft
STD: 79                                                       P. Hoffman
Obsoletes: 5996                                           VPN Consortium
Category: Standards Track                                         Y. Nir
ISSN: 2070-1721                                              Check Point
                                                               P. Eronen
                                                             Independent
                                                              T. Kivinen
                                                           INSIDE Secure
                                                            October 2014
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
Internet Key Exchange Protocol Version 2 (IKEv2)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
インターネットキー交換プロトコルバージョン2（IKEv2）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes version 2 of the Internet Key Exchange (IKE) protocol. IKE is a component of IPsec used for performing mutual authentication and establishing and maintaining Security Associations (SAs). This document obsoletes RFC 5996, and includes all of the errata for it. It advances IKEv2 to be an Internet Standard.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、インターネットキーエクスチェンジ（IKE）プロトコルのバージョン2について説明します。 IKEは、相互認証を実行し、セキュリティアソシエーション（SA）を確立および維持するために使用されるIPsecのコンポーネントです。このドキュメントはRFC 5996を廃止し、そのためのすべてのエラッタが含まれています。 IKEv2をインターネット標準に進化させます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 5741のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7296.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc7296で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2014 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびこの文書の発行日に有効なIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象となります。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントには、2008年11月10日より前に公開または公開されたIETFドキュメントまたはIETFコントリビューションの素材が含まれている場合があります。 IETF標準プロセス外。このような資料の著作権を管理する人から適切なライセンスを取得せずに、このドキュメントをIETF標準プロセス外で変更したり、その派生物をIETF標準プロセス外で作成したりすることはできません。 RFCとして、またはそれを英語以外の言語に翻訳するための出版物。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................5
      1.1. Usage Scenarios ............................................7
           1.1.1. Security Gateway to Security Gateway in
                  Tunnel Mode .........................................7
           1.1.2. Endpoint-to-Endpoint Transport Mode .................8
           1.1.3. Endpoint to Security Gateway in Tunnel Mode .........8
           1.1.4. Other Scenarios .....................................9
      1.2. The Initial Exchanges ......................................9
      1.3. The CREATE_CHILD_SA Exchange ..............................13
           1.3.1. Creating New Child SAs with the
                  CREATE_CHILD_SA Exchange ...........................14
           1.3.2. Rekeying IKE SAs with the CREATE_CHILD_SA
                  Exchange ...........................................16
           1.3.3. Rekeying Child SAs with the CREATE_CHILD_SA
                  Exchange ...........................................16
      1.4. The INFORMATIONAL Exchange ................................17
           1.4.1. Deleting an SA with INFORMATIONAL Exchanges ........18
      1.5. Informational Messages outside of an IKE SA ...............19
      1.6. Requirements Terminology ..................................20
      1.7. Significant Differences between RFC 4306 and RFC 5996 .....20
      1.8. Differences between RFC 5996 and This Document ............23
   2. IKE Protocol Details and Variations ............................23
      2.1. Use of Retransmission Timers ..............................24
      2.2. Use of Sequence Numbers for Message ID ....................25
      2.3. Window Size for Overlapping Requests ......................26
      2.4. State Synchronization and Connection Timeouts .............28
      2.5. Version Numbers and Forward Compatibility .................30
      2.6. IKE SA SPIs and Cookies ...................................32
           2.6.1. Interaction of COOKIE and INVALID_KE_PAYLOAD .......35
      2.7. Cryptographic Algorithm Negotiation .......................35
      2.8. Rekeying ..................................................36
           2.8.1. Simultaneous Child SA Rekeying .....................38
           2.8.2. Simultaneous IKE SA Rekeying .......................40
           2.8.3. Rekeying the IKE SA versus Reauthentication ........42
      2.9. Traffic Selector Negotiation ..............................42
           2.9.1. Traffic Selectors Violating Own Policy .............45
           2.9.2. Traffic Selectors in Rekeying ......................46
      2.10. Nonces ...................................................46
      2.11. Address and Port Agility .................................47
      2.12. Reuse of Diffie-Hellman Exponentials .....................47
      2.13. Generating Keying Material ...............................48
      2.14. Generating Keying Material for the IKE SA ................49
      2.15. Authentication of the IKE SA .............................50
      2.16. Extensible Authentication Protocol Methods ...............52
      2.17. Generating Keying Material for Child SAs .................54
      2.18. Rekeying IKE SAs Using a CREATE_CHILD_SA Exchange ........55
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
      2.19. Requesting an Internal Address on a Remote Network .......56
      2.20. Requesting the Peer&#39;s Version ............................58
      2.21. Error Handling ...........................................58
           2.21.1. Error Handling in IKE_SA_INIT .....................59
           2.21.2. Error Handling in IKE_AUTH ........................59
           2.21.3. Error Handling after IKE SA is Authenticated ......60
           2.21.4. Error Handling Outside IKE SA .....................60
      2.22. IPComp ...................................................61
      2.23. NAT Traversal ............................................62
           2.23.1. Transport Mode NAT Traversal ......................66
      2.24. Explicit Congestion Notification (ECN) ...................70
      2.25. Exchange Collisions ......................................70
           2.25.1. Collisions while Rekeying or Closing Child SAs ....71
           2.25.2. Collisions while Rekeying or Closing IKE SAs ......71
   3. Header and Payload Formats .....................................72
      3.1. The IKE Header ............................................72
      3.2. Generic Payload Header ....................................75
      3.3. Security Association Payload ..............................77
           3.3.1. Proposal Substructure ..............................80
           3.3.2. Transform Substructure .............................81
           3.3.3. Valid Transform Types by Protocol ..................85
           3.3.4. Mandatory Transform IDs ............................85
           3.3.5. Transform Attributes ...............................86
           3.3.6. Attribute Negotiation ..............................88
      3.4. Key Exchange Payload ......................................89
      3.5. Identification Payloads ...................................90
      3.6. Certificate Payload .......................................92
      3.7. Certificate Request Payload ...............................95
      3.8. Authentication Payload ....................................97
      3.9. Nonce Payload .............................................98
      3.10. Notify Payload ...........................................99
           3.10.1. Notify Message Types .............................101
      3.11. Delete Payload ..........................................104
      3.12. Vendor ID Payload .......................................105
      3.13. Traffic Selector Payload ................................106
           3.13.1. Traffic Selector .................................108
      3.14. Encrypted Payload .......................................110
      3.15. Configuration Payload ...................................112
           3.15.1. Configuration Attributes .........................113
           3.15.2. Meaning of INTERNAL_IP4_SUBNET and
                   INTERNAL_IP6_SUBNET ..............................116
           3.15.3. Configuration Payloads for IPv6 ..................118
           3.15.4. Address Assignment Failures ......................119
      3.16. Extensible Authentication Protocol (EAP) Payload ........120
   4. Conformance Requirements ......................................122
   5. Security Considerations .......................................124
      5.1. Traffic Selector Authorization ...........................127
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   6. IANA Considerations ...........................................128
   7. References ....................................................128
      7.1. Normative References .....................................128
      7.2. Informative References ...................................130
   Appendix A. Summary of Changes from IKEv1 ........................136
   Appendix B. Diffie-Hellman Groups ................................137
     B.1. Group 1 - 768-bit MODP ....................................137
     B.2. Group 2 - 1024-bit MODP ...................................137
   Appendix C. Exchanges and Payloads ...............................138
     C.1. IKE_SA_INIT Exchange ......................................138
     C.2. IKE_AUTH Exchange without EAP .............................138
     C.3. IKE_AUTH Exchange with EAP ................................139
     C.4. CREATE_CHILD_SA Exchange for Creating or Rekeying
          Child SAs .................................................140
     C.5. CREATE_CHILD_SA Exchange for Rekeying the IKE SA ..........140
     C.6. INFORMATIONAL Exchange ....................................141
   Acknowledgements .................................................141
   Authors&#39; Addresses ...............................................142
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IP Security (IPsec) provides confidentiality, data integrity, access control, and data source authentication to IP datagrams. These services are provided by maintaining shared state between the source and the sink of an IP datagram. This state defines, among other things, the specific services provided to the datagram, which cryptographic algorithms will be used to provide the services, and the keys used as input to the cryptographic algorithms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPセキュリティ（IPsec）は、IPデータグラムに機密性、データ整合性、アクセス制御、およびデータソース認証を提供します。これらのサービスは、IPデータグラムのソースとシンクの間で共有状態を維持することによって提供されます。この状態は、とりわけ、データグラムに提供される特定のサービス、サービスを提供するために使用される暗号化アルゴリズム、および暗号化アルゴリズムへの入力として使用されるキーを定義します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Establishing this shared state in a manual fashion does not scale well. Therefore, a protocol to establish this state dynamically is needed. This document describes such a protocol -- the Internet Key Exchange (IKE). Version 1 of IKE was defined in RFCs 2407 [DOI], 2408 [ISAKMP], and 2409 [IKEV1]. IKEv2 replaced all of those RFCs. IKEv2 was defined in [IKEV2] (RFC 4306) and was clarified in [Clarif] (RFC 4718). [RFC5996] replaced and updated RFCs 4306 and 4718. This document replaces RFC 5996. IKEv2 as stated in RFC 4306 was a change to the IKE protocol that was not backward compatible. RFC 5996 revised RFC 4306 to provide a clarification of IKEv2, making minimal changes to the IKEv2 protocol. This document replaces RFC 5996, slightly revising it to make it suitable for progression to Internet Standard. A list of the significant differences between RFCs 4306 and 5996 is given in Section 1.7, and differences between RFC 5996 and this document are given in Section 1.8.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この共有状態を手動で確立することは、適切に拡張できません。したがって、この状態を動的に確立するプロトコルが必要です。このドキュメントでは、このようなプロトコル、つまりインターネットキーエクスチェンジ（IKE）について説明します。 IKEのバージョン1は、RFC 2407 [DOI]、2408 [ISAKMP]、および2409 [IKEV1]で定義されています。 IKEv2はこれらすべてのRFCを置き換えました。 IKEv2は[IKEV2]（RFC 4306）で定義され、[Clarif]（RFC 4718）で明確にされました。 [RFC5996]はRFC 4306および4718を置き換え、更新しました。このドキュメントはRFC 5996を置き換えます。RFC4306で述べられているIKEv2は、後方互換性のないIKEプロトコルへの変更でした。 RFC 5996はIKEv2の明確化を提供するためにRFC 4306を改訂し、IKEv2プロトコルに最小限の変更を加えました。このドキュメントはRFC 5996に代わるもので、インターネット標準への移行に適するように少し修正されています。 RFC 4306と5996の重要な違いのリストはセクション1.7にあり、RFC 5996とこのドキュメントの違いはセクション1.8にあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE performs mutual authentication between two parties and establishes an IKE Security Association (SA) that includes shared secret information that can be used to efficiently establish SAs for Encapsulating Security Payload (ESP) [ESP] or Authentication Header (AH) [AH] and a set of cryptographic algorithms to be used by the SAs to protect the traffic that they carry. In this document, the term &#34;suite&#34; or &#34;cryptographic suite&#34; refers to a complete set of algorithms used to protect an SA. An initiator proposes one or more suites by listing supported algorithms that can be combined into suites in a mix-and-match fashion. IKE can also negotiate use of IP Compression (IPComp) [IP-COMP] in connection with an ESP or AH SA. The SAs for ESP or AH that get set up through that IKE SA we call &#34;Child SAs&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEは2つのパーティ間で相互認証を実行し、カプセル化セキュリティペイロード（ESP）[ESP]または認証ヘッダー（AH）[AH]のSAを効率的に確立するために使用できる共有秘密情報を含むIKE Security Association（SA）を確立します。 SAが使用するトラフィックを保護するためにSAが使用する暗号化アルゴリズムのセット。このドキュメントでは、「スイート」または「暗号スイート」という用語は、SAを保護するために使用されるアルゴリズムの完全なセットを指します。イニシエーターは、組み合わせて組み合わせてスイートに組み合わせることができるサポートされているアルゴリズムをリストすることにより、1つ以上のスイートを提案します。 IKEは、ESPまたはAH SAに関連してIP圧縮（IPComp）[IP-COMP]の使用をネゴシエートすることもできます。そのIKE SAを通じてセットアップされるESPまたはAHのSAは、「子SA」と呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All IKE communications consist of pairs of messages: a request and a response. The pair is called an &#34;exchange&#34;, and is sometimes called a &#34;request/response pair&#34;. The first two exchanges of messages establishing an IKE SA are called the IKE_SA_INIT exchange and the IKE_AUTH exchange; subsequent IKE exchanges are called either CREATE_CHILD_SA exchanges or INFORMATIONAL exchanges. In the common case, there is a single IKE_SA_INIT exchange and a single IKE_AUTH exchange (a total of four messages) to establish the IKE SA and the first Child SA. In exceptional cases, there may be more than one of each of these exchanges. In all cases, all IKE_SA_INIT exchanges MUST complete before any other exchange type, then all IKE_AUTH exchanges MUST complete, and following that, any number of CREATE_CHILD_SA and INFORMATIONAL exchanges may occur in any order. In some scenarios, only a single Child SA is needed between the IPsec endpoints, and therefore there would be no additional exchanges. Subsequent exchanges MAY be used to establish additional Child SAs between the same authenticated pair of endpoints and to perform housekeeping functions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのIKE通信は、メッセージのペア（要求と応答）で構成されています。このペアは「交換」と呼ばれ、「要求/応答ペア」と呼ばれることもあります。 IKE SAを確立するメッセージの最初の2つの交換は、IKE_SA_INIT交換およびIKE_AUTH交換と呼ばれます。後続のIKE交換は、CREATE_CHILD_SA交換またはINFORMATIONAL交換と呼ばれます。一般的なケースでは、IKE SAと最初の子SAを確立するために、単一のIKE_SA_INIT交換と単一のIKE_AUTH交換（合計4つのメッセージ）があります。例外的なケースでは、これらの交換のそれぞれが複数ある場合があります。すべての場合において、すべてのIKE_SA_INIT交換は他の交換タイプの前に完了する必要があり、すべてのIKE_AUTH交換は完了しなければなりません。その後、任意の数のCREATE_CHILD_SAおよびINFORMATIONAL交換が任意の順序で発生します。一部のシナリオでは、IPsecエンドポイント間で必要な子SAは1つだけなので、追加の交換はありません。後続の交換は、同じ認証されたエンドポイントのペア間に追加の子SAを確立し、ハウスキーピング機能を実行するために使用される場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE message flow always consists of a request followed by a response. It is the responsibility of the requester to ensure reliability. If the response is not received within a timeout interval, the requester needs to retransmit the request (or abandon the connection).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEメッセージフローは常に、要求とそれに続く応答で構成されます。信頼性を確保するのは要求者の責任です。タイムアウト間隔内に応答が受信されない場合、リクエスタは要求を再送信する（または接続を破棄する）必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first exchange of an IKE session, IKE_SA_INIT, negotiates security parameters for the IKE SA, sends nonces, and sends Diffie-Hellman values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEセッションの最初の交換であるIKE_SA_INITは、IKE SAのセキュリティパラメータをネゴシエートし、ナンスを送信し、Diffie-Hellman値を送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The second exchange, IKE_AUTH, transmits identities, proves knowledge of the secrets corresponding to the two identities, and sets up an SA for the first (and often only) AH or ESP Child SA (unless there is failure setting up the AH or ESP Child SA, in which case the IKE SA is still established without the Child SA).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2番目の交換IKE_AUTHは、IDを送信し、2つのIDに対応する秘密の知識を証明し、最初の（多くの場合のみ）AHまたはESP子SAのSAを設定します（AHまたはESP子の設定に失敗がない限り） SA。その場合、IKE SAはまだ子SAなしで確立されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The types of subsequent exchanges are CREATE_CHILD_SA (which creates a Child SA) and INFORMATIONAL (which deletes an SA, reports error conditions, or does other housekeeping). Every request requires a response. An INFORMATIONAL request with no payloads (other than the empty Encrypted payload required by the syntax) is commonly used as a check for liveness. These subsequent exchanges cannot be used until the initial exchanges have completed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
後続の交換のタイプは、CREATE_CHILD_SA（子SAを作成する）とINFORMATIONAL（SAを削除する、エラー状態を報告する、またはその他のハウスキーピングを行う）です。すべてのリクエストには応答が必要です。ペイロードを持たないINFORMATIONALリクエスト（構文で必要な空の暗号化されたペイロード以外）は、一般的に活性のチェックとして使用されます。これらの後続の交換は、最初の交換が完了するまで使用できません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the description that follows, we assume that no errors occur. Modifications to the flow when errors occur are described in Section 2.21.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下の説明では、エラーが発生しないことを前提としています。エラーが発生した場合のフローの変更については、セクション2.21で説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-1--Usage-Scenarios">
1.1. Usage Scenarios
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1. 使用シナリオ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE is used to negotiate ESP or AH SAs in a number of different scenarios, each with its own special requirements.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEは、それぞれ独自の特別な要件を持つさまざまなシナリオでESPまたはAH SAをネゴシエートするために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-1-1--Security-Gateway-to-Security-Gateway-in-Tunnel-Mode">
1.1.1. Security Gateway to Security Gateway in Tunnel Mode
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1.1. セキュリティゲートウェイからトンネルモードのセキュリティゲートウェイ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                +-+-+-+-+-+            +-+-+-+-+-+
                |         | IPsec      |         |
   Protected    |Tunnel   | tunnel     |Tunnel   |     Protected
   Subnet   &lt;--&gt;|Endpoint |&lt;----------&gt;|Endpoint |&lt;--&gt; Subnet
                |         |            |         |
                +-+-+-+-+-+            +-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
Figure 1: Security Gateway to Security Gateway Tunnel
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
図1：Security Gateway to Security Gatewayトンネル
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, neither endpoint of the IP connection implements IPsec, but network nodes between them protect traffic for part of the way. Protection is transparent to the endpoints, and depends on ordinary routing to send packets through the tunnel endpoints for processing. Each endpoint would announce the set of addresses &#34;behind&#34; it, and packets would be sent in tunnel mode where the inner IP header would contain the IP addresses of the actual endpoints.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、IP接続のどちらのエンドポイントもIPsecを実装していませんが、それらの間のネットワークノードは途中でトラフィックを保護しています。保護はエンドポイントに対して透過的であり、処理のためにトンネルエンドポイントを介してパケットを送信する通常のルーティングに依存します。各エンドポイントは、その「背後」のアドレスのセットをアナウンスし、パケットはトンネルモードで送信され、内部IPヘッダーには実際のエンドポイントのIPアドレスが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-1-2--Endpoint-to-Endpoint-Transport-Mode">
1.1.2. Endpoint-to-Endpoint Transport Mode
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1.2. エンドポイントからエンドポイントへのトランスポートモード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   +-+-+-+-+-+                                          +-+-+-+-+-+
   |         |                 IPsec transport          |         |
   |Protected|                or tunnel mode SA         |Protected|
   |Endpoint |&lt;----------------------------------------&gt;|Endpoint |
   |         |                                          |         |
   +-+-+-+-+-+                                          +-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
Figure 2: Endpoint to Endpoint
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
図2：エンドポイント間
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, both endpoints of the IP connection implement IPsec, as required of hosts in [IPSECARCH]. Transport mode will commonly be used with no inner IP header. A single pair of addresses will be negotiated for packets to be protected by this SA. These endpoints MAY implement application-layer access controls based on the IPsec authenticated identities of the participants. This scenario enables the end-to-end security that has been a guiding principle for the Internet since [ARCHPRINC], [TRANSPARENCY], and a method of limiting the inherent problems with complexity in networks noted by [ARCHGUIDEPHIL]. Although this scenario may not be fully applicable to the IPv4 Internet, it has been deployed successfully in specific scenarios within intranets using IKEv1. It should be more broadly enabled during the transition to IPv6 and with the adoption of IKEv2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、[IPSECARCH]のホストの必要に応じて、IP接続の両方のエンドポイントがIPsecを実装します。トランスポートモードは通常、内部IPヘッダーなしで使用されます。パケットがこのSAによって保護されるように、アドレスの単一のペアがネゴシエートされます。これらのエンドポイントは、参加者のIPsec認証済みIDに基づいて、アプリケーション層のアクセス制御を実装してもよい（MAY）。このシナリオでは、[ARCHPRINC]、[TRANSPARENCY]以降、インターネットの指針となっているエンドツーエンドのセキュリティ、および[ARCHGUIDEPHIL]によって指摘されたネットワークの複雑さに関する固有の問題を制限する方法が可能になります。このシナリオはIPv4インターネットに完全に適用できるわけではありませんが、IKEv1を使用するイントラネット内の特定のシナリオで正常に展開されています。 IPv6への移行中およびIKEv2の採用により、より広範囲に有効化する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is possible in this scenario that one or both of the protected endpoints will be behind a network address translation (NAT) node, in which case the tunneled packets will have to be UDP encapsulated so that port numbers in the UDP headers can be used to identify individual endpoints &#34;behind&#34; the NAT (see Section 2.23).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、保護されたエンドポイントの一方または両方がネットワークアドレス変換（NAT）ノードの背後にある可能性があります。その場合、UDPヘッダーのポート番号を使用して、トンネルパケットをUDPカプセル化する必要があります。 NATの「背後」にある個々のエンドポイントを識別します（セクション2.23を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-1-3--Endpoint-to-Security-Gateway-in-Tunnel-Mode">
1.1.3. Endpoint to Security Gateway in Tunnel Mode
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1.3. トンネルモードのエンドポイントからSecurity Gateway
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   +-+-+-+-+-+                          +-+-+-+-+-+
   |         |         IPsec            |         |     Protected
   |Protected|         tunnel           |Tunnel   |     Subnet
   |Endpoint |&lt;------------------------&gt;|Endpoint |&lt;--- and/or
   |         |                          |         |     Internet
   +-+-+-+-+-+                          +-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
Figure 3: Endpoint to Security Gateway Tunnel
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
図3：エンドポイントからセキュリティゲートウェイへのトンネル
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 In this scenario, a protected endpoint (typically a portable roaming computer) connects back to its corporate network through an IPsec-protected tunnel. It might use this tunnel only to access information on the corporate network, or it might tunnel all of its traffic back through the corporate network in order to take advantage of protection provided by a corporate firewall against Internet-based attacks. In either case, the protected endpoint will want an IP address associated with the security gateway so that packets returned to it will go to the security gateway and be tunneled back. This IP address may be static or may be dynamically allocated by the security gateway. In support of the latter case, IKEv2 includes a mechanism (namely, configuration payloads) for the initiator to request an IP address owned by the security gateway for use for the duration of its SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
このシナリオでは、保護されたエンドポイント（通常はポータブルローミングコンピューター）が、IPsecで保護されたトンネルを介して企業ネットワークに接続します。このトンネルは、企業ネットワーク上の情報にアクセスするためだけに使用する場合もあれば、企業ファイアウォールを介してすべてのトラフィックをトンネルして、企業ファイアウォールによって提供されるインターネットベースの攻撃からの保護を利用する場合もあります。どちらの場合でも、保護されたエンドポイントは、セキュリティゲートウェイに関連付けられたIPアドレスを必要とするため、エンドポイントに返されたパケットはセキュリティゲートウェイに送られ、トンネリングされます。このIPアドレスは静的な場合もあれば、セキュリティゲートウェイによって動的に割り当てられる場合もあります。後者のケースをサポートするために、IKEv2には、イニシエーターがSAの期間中使用するためにセキュリティゲートウェイが所有するIPアドレスを要求するためのメカニズム（つまり、設定ペイロード）が含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, packets will use tunnel mode. On each packet from the protected endpoint, the outer IP header will contain the source IP address associated with its current location (i.e., the address that will get traffic routed to the endpoint directly), while the inner IP header will contain the source IP address assigned by the security gateway (i.e., the address that will get traffic routed to the security gateway for forwarding to the endpoint). The outer destination address will always be that of the security gateway, while the inner destination address will be the ultimate destination for the packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、パケットはトンネルモードを使用します。保護されたエンドポイントからの各パケットで、外部IPヘッダーには現在の場所に関連付けられたソースIPアドレス（つまり、トラフィックがエンドポイントに直接ルーティングされるアドレス）が含まれ、内部IPヘッダーにはソースIPアドレスが含まれますセキュリティゲートウェイ（つまり、エンドポイントに転送するためにトラフィックをセキュリティゲートウェイにルーティングするアドレス）によって割り当てられます。外部の宛先アドレスは常にセキュリティゲートウェイのアドレスですが、内部の宛先アドレスはパケットの最終的な宛先です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, it is possible that the protected endpoint will be behind a NAT. In that case, the IP address as seen by the security gateway will not be the same as the IP address sent by the protected endpoint, and packets will have to be UDP encapsulated in order to be routed properly. Interaction with NATs is covered in detail in Section 2.23.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、保護されたエンドポイントがNATの背後にある可能性があります。その場合、セキュリティゲートウェイから見たIPアドレスは、保護されたエンドポイントから送信されたIPアドレスと同じではなく、パケットを正しくルーティングするにはUDPカプセル化する必要があります。 NATとの相互作用については、セクション2.23で詳しく説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-1-4--Other-Scenarios">
1.1.4. Other Scenarios
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1.4. その他のシナリオ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Other scenarios are possible, as are nested combinations of the above. One notable example combines aspects of Sections 1.1.1 and 1.1.3. A subnet may make all external accesses through a remote security gateway using an IPsec tunnel, where the addresses on the subnet are routed to the security gateway by the rest of the Internet. An example would be someone&#39;s home network being virtually on the Internet with static IP addresses even though connectivity is provided by an ISP that assigns a single dynamically assigned IP address to the user&#39;s security gateway (where the static IP addresses and an IPsec relay are provided by a third party located elsewhere).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記のネストされた組み合わせと同様に、他のシナリオも可能です。 1つの注目すべき例は、セクション1.1.1と1.1.3の側面を組み合わせたものです。サブネットは、IPsecトンネルを使用してリモートセキュリティゲートウェイを介してすべての外部アクセスを行うことができます。サブネット上のアドレスは、インターネットの残りの部分によってセキュリティゲートウェイにルーティングされます。例としては、静的に割り当てられた単一のIPアドレスをユーザーのセキュリティゲートウェイに割り当てるISPによって接続が提供されていても、静的IPアドレスを使用して仮想的にインターネット上にいる誰かのホームネットワーク（静的IPアドレスとIPsecリレーは、他の場所にある第三者）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-2--The-Initial-Exchanges">
1.2. The Initial Exchanges
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.2. 最初の交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Communication using IKE always begins with IKE_SA_INIT and IKE_AUTH exchanges (known in IKEv1 as Phase 1). These initial exchanges normally consist of four messages, though in some scenarios that number can grow. All communications using IKE consist of request/ response pairs. We&#39;ll describe the base exchange first, followed by variations. The first pair of messages (IKE_SA_INIT) negotiate cryptographic algorithms, exchange nonces, and do a Diffie-Hellman exchange [DH].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IKEを使用した通信は、常にIKE_SA_INITおよびIKE_AUTH交換（IKEv1ではフェーズ1として知られています）で始まります。これらの最初の交換は通常4つのメッセージで構成されますが、シナリオによってはその数が増えることもあります。 IKEを使用するすべての通信は、要求/応答のペアで構成されます。最初にベース交換について説明し、次にバリエーションについて説明します。メッセージの最初のペア（IKE_SA_INIT）は、暗号アルゴリズムをネゴシエートし、ナンスを交換し、Diffie-Hellman交換[DH]を行います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The second pair of messages (IKE_AUTH) authenticate the previous messages, exchange identities and certificates, and establish the first Child SA. Parts of these messages are encrypted and integrity protected with keys established through the IKE_SA_INIT exchange, so the identities are hidden from eavesdroppers and all fields in all the messages are authenticated. See Section 2.14 for information on how the encryption keys are generated. (A man-in-the-middle attacker who cannot complete the IKE_AUTH exchange can nonetheless see the identity of the initiator.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2番目のメッセージのペア（IKE_AUTH）は、前のメッセージを認証し、IDと証明書を交換して、最初の子SAを確立します。これらのメッセージの一部は暗号化され、整合性はIKE_SA_INIT交換を通じて確立されたキーで保護されるため、IDは盗聴者から隠され、すべてのメッセージのすべてのフィールドが認証されます。暗号化キーの生成方法については、セクション2.14を参照してください。 （それでも、IKE_AUTH交換を完了できない中間者攻撃者は、開始者のIDを見ることができます。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All messages following the initial exchange are cryptographically protected using the cryptographic algorithms and keys negotiated in the IKE_SA_INIT exchange. These subsequent messages use the syntax of the Encrypted payload described in Section 3.14, encrypted with keys that are derived as described in Section 2.14. All subsequent messages include an Encrypted payload, even if they are referred to in the text as &#34;empty&#34;. For the CREATE_CHILD_SA, IKE_AUTH, or INFORMATIONAL exchanges, the message following the header is encrypted and the message including the header is integrity protected using the cryptographic algorithms negotiated for the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初の交換に続くすべてのメッセージは、IKE_SA_INIT交換でネゴシエートされた暗号化アルゴリズムとキーを使用して暗号化されて保護されます。これらの後続のメッセージは、セクション3.14で説明されている暗号化ペイロードの構文を使用し、セクション2.14で説明されているように導出されたキーで暗号化されています。以降のメッセージには、本文で「空」と呼ばれている場合でも、暗号化されたペイロードが含まれています。 CREATE_CHILD_SA、IKE_AUTH、またはINFORMATIONAL交換の場合、ヘッダーに続くメッセージは暗号化され、ヘッダーを含むメッセージは、IKE SAについてネゴシエートされた暗号化アルゴリズムを使用して整合性が保護されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Every IKE message contains a Message ID as part of its fixed header. This Message ID is used to match up requests and responses, and to identify retransmissions of messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのIKEメッセージには、固定ヘッダーの一部としてメッセージIDが含まれています。このメッセージIDは、要求と応答を照合し、メッセージの再送信を識別するために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the following descriptions, the payloads contained in the message are indicated by names as listed below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下の説明では、メッセージに含まれるペイロードは、以下にリストされている名前で示されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Notation    Payload
   -----------------------------------------
   AUTH        Authentication
   CERT        Certificate
   CERTREQ     Certificate Request
   CP          Configuration
   D           Delete
   EAP         Extensible Authentication
   HDR         IKE header (not a payload)
   IDi         Identification - Initiator
   IDr         Identification - Responder
   KE          Key Exchange
   Ni, Nr      Nonce
   N           Notify
   SA          Security Association
   SK          Encrypted and Authenticated
   TSi         Traffic Selector - Initiator
   TSr         Traffic Selector - Responder
   V           Vendor ID
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The details of the contents of each payload are described in Section 3. Payloads that may optionally appear will be shown in brackets, such as [CERTREQ]; this indicates that a Certificate Request payload can optionally be included.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各ペイロードの内容の詳細については、セクション3で説明します。オプションで表示される可能性のあるペイロードは、[CERTREQ]のように角括弧で囲んで示します。これは、証明書要求ペイロードをオプションで含めることができることを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initial exchanges are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初の交換は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR, SAi1, KEi, Ni  --&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR contains the Security Parameter Indexes (SPIs), version numbers, Exchange Type, Message ID, and flags of various sorts. The SAi1 payload states the cryptographic algorithms the initiator supports for the IKE SA. The KE payload sends the initiator&#39;s Diffie-Hellman value. Ni is the initiator&#39;s nonce.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDRには、セキュリティパラメータインデックス（SPI）、バージョン番号、Exchangeタイプ、メッセージID、およびさまざまな種類のフラグが含まれています。 SAi1ペイロードは、イニシエーターがIKE SAに対してサポートする暗号化アルゴリズムを示します。 KEペイロードは、イニシエーターのDiffie-Hellman値を送信します。 Niはイニシエーターのナンスです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-- HDR, SAr1, KEr, Nr, [CERTREQ]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-HDR、SAr1、KEr、Nr、[CERTREQ]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder chooses a cryptographic suite from the initiator&#39;s offered choices and expresses that choice in the SAr1 payload, completes the Diffie-Hellman exchange with the KEr payload, and sends its nonce in the Nr payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダは、イニシエータが提供する選択肢から暗号スイートを選択し、その選択をSAr1ペイロードで表現し、KErペイロードとのDiffie-Hellman交換を完了し、Noncペイロードでそのナンスを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At this point in the negotiation, each party can generate a quantity called SKEYSEED (see Section 2.14), from which all keys are derived for that IKE SA. The messages that follow are encrypted and integrity protected in their entirety, with the exception of the message headers. The keys used for the encryption and integrity protection are derived from SKEYSEED and are known as SK_e (encryption) and SK_a (authentication, a.k.a. integrity protection); see Sections 2.13 and 2.14 for details on the key derivation. A separate SK_e and SK_a is computed for each direction. In addition to the keys SK_e and SK_a derived from the Diffie-Hellman value for protection of the IKE SA, another quantity SK_d is derived and used for derivation of further keying material for Child SAs. The notation SK { ... } indicates that these payloads are encrypted and integrity protected using that direction&#39;s SK_e and SK_a.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ネゴシエーションのこの時点で、各パーティはSKEYSEED（セクション2.14を参照）と呼ばれる量を生成でき、そこからすべてのキーがそのIKE SA用に導出されます。続くメッセージは、メッセージヘッダーを除いて、暗号化され、完全性が完全に保護されています。暗号化と整合性保護に使用されるキーはSKEYSEEDから派生し、SK_e（暗号化）およびSK_a（認証、別名整合性保護）として知られています。キーの派生の詳細については、セクション2.13および2.14を参照してください。方向ごとに個別のSK_eおよびSK_aが計算されます。 IKE SAの保護のためにDiffie-Hellman値から導出されたキーSK_eおよびSK_aに加えて、別の数量SK_dが導出され、子SAのさらなるキーイングマテリアルの導出に使用されます。 SK {...}という表記は、これらのペイロードが暗号化され、その方向のSK_eおよびSK_aを使用して整合性が保護されていることを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR, SK {IDi, [CERT,] [CERTREQ,] [IDr,] AUTH, SAi2, TSi, TSr} --&gt;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR、SK {IDi、[CERT、] [CERTREQ、] [IDr、] AUTH、SAi2、TSi、TSr}-&gt;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator asserts its identity with the IDi payload, proves knowledge of the secret corresponding to IDi and integrity protects the contents of the first message using the AUTH payload (see Section 2.15). It might also send its certificate(s) in CERT payload(s) and a list of its trust anchors in CERTREQ payload(s). If any CERT payloads are included, the first certificate provided MUST contain the public key used to verify the AUTH field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、IDiペイロードを使用してIDをアサートし、IDiに対応する秘密の知識を証明し、整合性はAUTHペイロードを使用して最初のメッセージのコンテンツを保護します（セクション2.15を参照）。また、証明書をCERTペイロードで送信し、トラストアンカーのリストをCERTREQペイロードで送信する場合もあります。 CERTペイロードが含まれている場合、提供される最初の証明書には、AUTHフィールドの確認に使用される公開鍵が含まれている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The optional payload IDr enables the initiator to specify to which of the responder&#39;s identities it wants to talk. This is useful when the machine on which the responder is running is hosting multiple identities at the same IP address. If the IDr proposed by the initiator is not acceptable to the responder, the responder might use some other IDr to finish the exchange. If the initiator then does not accept the fact that responder used an IDr different than the one that was requested, the initiator can close the SA after noticing the fact.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションのペイロードIDrを使用すると、イニシエーターは、どのレスポンダのIDと対話したいかを指定できます。これは、レスポンダーが実行されているマシンが同じIPアドレスで複数のIDをホストしている場合に役立ちます。イニシエーターによって提案されたIDrがレスポンダーに受け入れられない場合、レスポンダーは他のIDrを使用して交換を完了する可能性があります。次に、イニシエーターが、レスポンダーが要求されたIDrとは異なるIDrを使用したという事実を受け入れない場合、イニシエーターはその事実に気付いた後にSAを閉じることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Traffic Selectors (TSi and TSr) are discussed in Section 2.9.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トラフィックセレクター（TSiおよびTSr）については、セクション2.9で説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator begins negotiation of a Child SA using the SAi2 payload. The final fields (starting with SAi2) are described in the description of the CREATE_CHILD_SA exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、SAi2ペイロードを使用して子SAのネゴシエーションを開始します。最後のフィールド（SAi2で始まる）は、CREATE_CHILD_SA交換の説明で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-- HDR, SK {IDr, [CERT,] AUTH, SAr2, TSi, TSr}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-HDR、SK {IDr、[CERT、] AUTH、SAr2、TSi、TSr}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder asserts its identity with the IDr payload, optionally sends one or more certificates (again with the certificate containing the public key used to verify AUTH listed first), authenticates its identity and protects the integrity of the second message with the AUTH payload, and completes negotiation of a Child SA with the additional fields described below in the CREATE_CHILD_SA exchange. Both parties in the IKE_AUTH exchange MUST verify that all signatures and Message Authentication Codes (MACs) are computed correctly. If either side uses a shared secret for authentication, the names in the ID payload MUST correspond to the key used to generate the AUTH payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダはIDrペイロードでそのアイデンティティをアサートし、オプションで1つ以上の証明書を送信し（これも最初にリストされたAUTHを検証するために使用される公開鍵を含む証明書で）、アイデンティティを認証し、AUTHペイロードで2番目のメッセージの整合性を保護します。 CREATE_CHILD_SA交換で以下に説明する追加フ​​ィールドを使用して、子SAのネゴシエーションを完了します。 IKE_AUTH交換の両当事者は、すべての署名とメッセージ認証コード（MAC）が正しく計算されていることを確認する必要があります。どちらかの側が認証に共有シークレットを使用する場合、IDペイロードの名前は、AUTHペイロードの生成に使用されるキーに対応する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Because the initiator sends its Diffie-Hellman value in the IKE_SA_INIT, it must guess the Diffie-Hellman group that the responder will select from its list of supported groups. If the initiator guesses wrong, the responder will respond with a Notify payload of type INVALID_KE_PAYLOAD indicating the selected group. In this case, the initiator MUST retry the IKE_SA_INIT with the corrected Diffie-Hellman group. The initiator MUST again propose its full set of acceptable cryptographic suites because the rejection message was unauthenticated and otherwise an active attacker could trick the endpoints into negotiating a weaker suite than a stronger one that they both prefer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
イニシエーターはIKE_SA_INITでDiffie-Hellman値を送信するため、サポートされているグループのリストからレスポンダーが選択するDiffie-Hellmanグループを推測する必要があります。イニシエーターが間違って推測した場合、レスポンダーは、選択されたグループを示すINVALID_KE_PAYLOADタイプのNotifyペイロードで応答します。この場合、イニシエーターは、修正されたDiffie-Hellmanグループを使用してIKE_SA_INITを再試行する必要があります。拒否メッセージは認証されておらず、アクティブな攻撃者はエンドポイントをだまして、両方が好む強力なスイートよりも弱いスイートをネゴシエートする可能性があるため、イニシエーターは許容可能な暗号スイートの完全なセットを再度提案する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If creating the Child SA during the IKE_AUTH exchange fails for some reason, the IKE SA is still created as usual. The list of Notify message types in the IKE_AUTH exchange that do not prevent an IKE SA from being set up include at least the following: NO_PROPOSAL_CHOSEN, TS_UNACCEPTABLE, SINGLE_PAIR_REQUIRED, INTERNAL_ADDRESS_FAILURE, and FAILED_CP_REQUIRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_AUTH交換中に子SAの作成が何らかの理由で失敗した場合でも、IKE SAは通常どおり作成されます。 IKE SAのセットアップを妨げないIKE_AUTH交換の通知メッセージタイプのリストには、少なくとも次のものが含まれます：NO_PROPOSAL_CHOSEN、TS_UNACCEPTABLE、SINGLE_PAIR_REQUIRED、INTERNAL_ADDRESS_FAILURE、およびFAILED_CP_REQUIRED。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the failure is related to creating the IKE SA (for example, an AUTHENTICATION_FAILED Notify error message is returned), the IKE SA is not created. Note that although the IKE_AUTH messages are encrypted and integrity protected, if the peer receiving this Notify error message has not yet authenticated the other end (or if the peer fails to authenticate the other end for some reason), the information needs to be treated with caution. More precisely, assuming that the MAC verifies correctly, the sender of the error Notify message is known to be the responder of the IKE_SA_INIT exchange, but the sender&#39;s identity cannot be assured.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
失敗がIKE SAの作成に関連している場合（たとえば、AUTHENTICATION_FAILED Notifyエラーメッセージが返される）、IKE SAは作成されません。 IKE_AUTHメッセージは暗号化されて整合性が保護されていますが、このNotifyエラーメッセージを受信するピアがもう一方の端をまだ認証していない場合（またはピアが何らかの理由でもう一方の端を認証できない場合）は、情報を注意。より正確には、MACが正しく検証されると仮定すると、エラー通知メッセージの送信者はIKE_SA_INIT交換の応答者であることがわかっていますが、送信者のIDは保証されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that IKE_AUTH messages do not contain KEi/KEr or Ni/Nr payloads. Thus, the SA payloads in the IKE_AUTH exchange cannot contain Transform Type 4 (Diffie-Hellman group) with any value other than NONE. Implementations SHOULD omit the whole transform substructure instead of sending value NONE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_AUTHメッセージには、KEi / KErまたはNi / Nrペイロードが含まれていないことに注意してください。したがって、IKE_AUTH交換のSAペイロードには、NONE以外の値を持つTransform Type 4（Diffie-Hellmanグループ）を含めることはできません。実装は、値NONEを送信する代わりに、変換サブ構造全体を省略すべきです（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-3--The-CREATECHILDSA-Exchange">
1.3. The CREATE_CHILD_SA Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.3. CREATE_CHILD_SA交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA exchange is used to create new Child SAs and to rekey both IKE SAs and Child SAs. This exchange consists of a single request/response pair, and some of its function was referred to as a Phase 2 exchange in IKEv1. It MAY be initiated by either end of the IKE SA after the initial exchanges are completed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CREATE_CHILD_SA交換を使用して、新しい子SAを作成し、IKE SAと子SAの両方を再生成します。この交換は単一の要求/応答ペアで構成され、その機能の一部はIKEv1ではフェーズ2交換と呼ばれていました。最初の交換が完了した後、IKE SAのどちらかの端によって開始される場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An SA is rekeyed by creating a new SA and then deleting the old one. This section describes the first part of rekeying, the creation of new SAs; Section 2.8 covers the mechanics of rekeying, including moving traffic from old to new SAs and the deletion of the old SAs. The two sections must be read together to understand the entire process of rekeying.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAは、新しいSAを作成してから古いSAを削除することにより、鍵が再生成されます。このセクションでは、鍵の再作成の最初の部分である新しいSAの作成について説明します。セクション2.8は、古いSAから新しいSAへのトラフィックの移動や古いSAの削除など、鍵の再生成の仕組みをカバーしています。キー再生成のプロセス全体を理解するには、2つのセクションを一緒に読む必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Either endpoint may initiate a CREATE_CHILD_SA exchange, so in this section the term initiator refers to the endpoint initiating this exchange. An implementation MAY refuse all CREATE_CHILD_SA requests within an IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
どちらのエンドポイントもCREATE_CHILD_SA交換を開始できるため、このセクションでは、イニシエーターという用語は、この交換を開始するエンドポイントを指します。実装は、IKE SA内のすべてのCREATE_CHILD_SA要求を拒否してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA request MAY optionally contain a KE payload for an additional Diffie-Hellman exchange to enable stronger guarantees of forward secrecy for the Child SA. The keying material for the Child SA is a function of SK_d established during the establishment of the IKE SA, the nonces exchanged during the CREATE_CHILD_SA exchange, and the Diffie-Hellman value (if KE payloads are included in the CREATE_CHILD_SA exchange).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CREATE_CHILD_SA要求には、オプションで、追加のDiffie-Hellman交換用のKEペイロードを含めて、子SAの転送秘密のより強力な保証を可能にすることができます（MAY）。子SAのキー情報は、IKE SAの確立中に確立されたSK_d、CREATE_CHILD_SA交換中に交換されたナンス、およびDiffie-Hellman値（KEペイロードがCREATE_CHILD_SA交換に含まれている場合）の関数です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a CREATE_CHILD_SA exchange includes a KEi payload, at least one of the SA offers MUST include the Diffie-Hellman group of the KEi. The Diffie-Hellman group of the KEi MUST be an element of the group the initiator expects the responder to accept (additional Diffie-Hellman groups can be proposed). If the responder selects a proposal using a different Diffie-Hellman group (other than NONE), the responder MUST reject the request and indicate its preferred Diffie-Hellman group in the INVALID_KE_PAYLOAD Notify payload. There are two octets of data associated with this notification: the accepted Diffie-Hellman group number in big endian order. In the case of such a rejection, the CREATE_CHILD_SA exchange fails, and the initiator will probably retry the exchange with a Diffie-Hellman proposal and KEi in the group that the responder gave in the INVALID_KE_PAYLOAD Notify payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CREATE_CHILD_SA交換にKEiペイロードが含まれている場合、SAオファーの少なくとも1つにKEiのDiffie-Hellmanグループを含める必要があります。 KEiのDiffie-Hellmanグループは、イニシエーターがレスポンダーが受け入れることを期待するグループの要素でなければなりません（追加のDiffie-Hellmanグループを提案できます）。レスポンダが別のDiffie-Hellmanグループ（NONE以外）を使用して提案を選択した場合、レスポンダはリクエストを拒否し、INVALID_KE_PAYLOAD Notifyペイロードで優先Diffie-Hellmanグループを示す必要があります。この通知には2オクテットのデータが関連付けられています。ビッグエンディアン順の受け入れられたDiffie-Hellmanグループ番号です。そのような拒否の場合、CREATE_CHILD_SA交換は失敗し、イニシエーターはおそらくDiffie-Hellmanプロポーザルと、レスポンダがINVALID_KE_PAYLOAD通知ペイロードで指定したグループのKEiを使用して交換を再試行します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder sends a NO_ADDITIONAL_SAS notification to indicate that a CREATE_CHILD_SA request is unacceptable because the responder is unwilling to accept any more Child SAs on this IKE SA. This notification can also be used to reject IKE SA rekey. Some minimal implementations may only accept a single Child SA setup in the context of an initial IKE exchange and reject any subsequent attempts to add more.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダはNO_ADDITIONAL_SAS通知を送信して、レスポンダがこのIKE SAの子SAをこれ以上受け入れたくないため、CREATE_CHILD_SA要求が受け入れられないことを示します。この通知は、IKE SAキー再生成を拒否するためにも使用できます。一部の最小限の実装では、最初のIKE交換のコンテキストで単一の子SAセットアップのみを受け入れ、それ以上追加しようとする試みを拒否する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-3-1--Creating-New-Child-SAs-with-the-CREATECHILDSA-Exchange">
1.3.1. Creating New Child SAs with the CREATE_CHILD_SA Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.3.1. CREATE_CHILD_SA交換を使用した新しい子SAの作成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Child SA may be created by sending a CREATE_CHILD_SA request. The CREATE_CHILD_SA request for creating a new Child SA is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAは、CREATE_CHILD_SA要求を送信することで作成できます。新しい子SAを作成するためのCREATE_CHILD_SA要求は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR, SK {SA, Ni, [KEi,]
              TSi, TSr}  --&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator sends SA offer(s) in the SA payload, a nonce in the Ni payload, optionally a Diffie-Hellman value in the KEi payload, and the proposed Traffic Selectors for the proposed Child SA in the TSi and TSr payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、SAペイロードでSAオファー、Niペイロードでnonce、オプションでKEiペイロードのDiffie-Hellman値、およびTSiペイロードとTSrペイロードで提案された子SAの提案されたトラフィックセレクターを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA response for creating a new Child SA is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しい子SAを作成するためのCREATE_CHILD_SA応答は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-- HDR, SK {SA, Nr, [KEr,]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-HDR、SK {SA、Nr、[KEr、]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-41">
TSi, TSr}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-41">
TSi、TSr}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder replies (using the same Message ID to respond) with the accepted offer in an SA payload, a nonce in the Nr payload, and a Diffie-Hellman value in the KEr payload if KEi was included in the request and the selected cryptographic suite includes that group.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
応答者は、SAペイロードで受け入れられたオファー、Nrペイロードでナンス、KEiがリクエストと選択された暗号スイートに含まれている場合はKErペイロードでDiffie-Hellman値を使用して（同じメッセージIDを使用して応答します）応答します。そのグループを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Traffic Selectors for traffic to be sent on that SA are specified in the TS payloads in the response, which may be a subset of what the initiator of the Child SA proposed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
そのSAで送信されるトラフィックのトラフィックセレクターは、応答のTSペイロードで指定されます。これは、子SAのイニシエーターが提案したもののサブセットである場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The USE_TRANSPORT_MODE notification MAY be included in a request message that also includes an SA payload requesting a Child SA. It requests that the Child SA use transport mode rather than tunnel mode for the SA created. If the request is accepted, the response MUST also include a notification of type USE_TRANSPORT_MODE. If the responder declines the request, the Child SA will be established in tunnel mode. If this is unacceptable to the initiator, the initiator MUST delete the SA. Note: Except when using this option to negotiate transport mode, all Child SAs will use tunnel mode.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
USE_TRANSPORT_MODE通知は、子SAを要求するSAペイロードも含む要求メッセージに含めることができます（MAY）。作成されたSAに対して、子SAがトンネルモードではなくトランスポートモードを使用するように要求します。要求が受け入れられる場合、応答にはタイプUSE_TRANSPORT_MODEの通知も含まれている必要があります。応答側が要求を拒否した場合、子SAはトンネルモードで確立されます。これがイニシエーターに受け入れられない場合、イニシエーターはSAを削除する必要があります。注：このオプションを使用してトランスポートモードをネゴシエートする場合を除き、すべての子SAはトンネルモードを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The ESP_TFC_PADDING_NOT_SUPPORTED notification asserts that the sending endpoint will not accept packets that contain Traffic Flow Confidentiality (TFC) padding over the Child SA being negotiated. If neither endpoint accepts TFC padding, this notification is included in both the request and the response. If this notification is included in only one of the messages, TFC padding can still be sent in the other direction.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESP_TFC_PADDING_NOT_SUPPORTED通知は、ネゴシエートされている子SAのトラフィックフロー機密性（TFC）パディングを含むパケットを送信エンドポイントが受け付けないことを表明します。どちらのエンドポイントもTFCパディングを受け入れない場合、この通知は要求と応答の両方に含まれます。この通知がメッセージの1つだけに含まれている場合でも、TFCパディングは逆方向に送信できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NON_FIRST_FRAGMENTS_ALSO notification is used for fragmentation control. See [IPSECARCH] for a fuller explanation. Both parties need to agree to sending non-first fragments before either party does so. It is enabled only if NON_FIRST_FRAGMENTS_ALSO notification is included in both the request proposing an SA and the response accepting it. If the responder does not want to send or receive non-first fragments, it only omits NON_FIRST_FRAGMENTS_ALSO notification from its response, but does not reject the whole Child SA creation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NON_FIRST_FRAGMENTS_ALSO通知は、フラグメンテーション制御に使用されます。詳細については、[IPSECARCH]を参照してください。どちらの当事者も、最初のフラグメント以外のフラグメントを送信することに同意する必要があります。 SAを提案する要求とそれを受け入れる応答の両方にNON_FIRST_FRAGMENTS_ALSO通知が含まれている場合にのみ有効になります。レスポンダが最初以外のフラグメントの送受信を望まない場合、レスポンダは応答からNON_FIRST_FRAGMENTS_ALSO通知のみを省略しますが、子SAの作成全体を拒否しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IPCOMP_SUPPORTED notification, covered in Section 2.22, can also be included in the exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.22で説明されているIPCOMP_SUPPORTED通知も交換に含めることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A failed attempt to create a Child SA SHOULD NOT tear down the IKE SA: there is no reason to lose the work done to set up the IKE SA. See Section 2.21 for a list of error messages that might occur if creating a Child SA fails.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAの作成に失敗した場合は、IKE SAを破棄しないでください。IKESAを設定するために行った作業を失う理由はありません。子SAの作成が失敗した場合に発生する可能性のあるエラーメッセージのリストについては、セクション2.21を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-3-2--Rekeying-IKE-SAs-with-the-CREATECHILDSA-Exchange">
1.3.2. Rekeying IKE SAs with the CREATE_CHILD_SA Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.3.2. CREATE_CHILD_SA Exchangeを使用したIKE SAの鍵の再生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA request for rekeying an IKE SA is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAの鍵を再生成するためのCREATE_CHILD_SA要求は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR, SK {SA, Ni, KEi} --&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator sends SA offer(s) in the SA payload, a nonce in the Ni payload, and a Diffie-Hellman value in the KEi payload. The KEi payload MUST be included. A new initiator SPI is supplied in the SPI field of the SA payload. Once a peer receives a request to rekey an IKE SA or sends a request to rekey an IKE SA, it SHOULD NOT start any new CREATE_CHILD_SA exchanges on the IKE SA that is being rekeyed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、SAペイロードでSAオファーを送信し、Niペイロードでナンスを送信し、KEiペイロードでDiffie-Hellman値を送信します。 KEiペイロードを含める必要があります。 SAペイロードのSPIフィールドに新しいイニシエーターSPIが提供されます。ピアがIKE SAのキー再生成の要求を受信するか、IKE SAのキー再生成の要求を送信すると、キー再生成されているIKE SAで新しいCREATE_CHILD_SA交換を開始しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA response for rekeying an IKE SA is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAの鍵を再生成するためのCREATE_CHILD_SA応答は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                                &lt;--  HDR, SK {SA, Nr, KEr}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder replies (using the same Message ID to respond) with the accepted offer in an SA payload, a nonce in the Nr payload, and a Diffie-Hellman value in the KEr payload if the selected cryptographic suite includes that group. A new responder SPI is supplied in the SPI field of the SA payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
応答者は、SAペイロードで受け入れられたオファー、Nrペイロードでナンス、選択した暗号スイートにそのグループが含まれている場合はKErペイロードでDiffie-Hellman値を使用して（同じメッセージIDを使用して応答します）応答します。 SAペイロードのSPIフィールドに新しいレスポンダーSPIが提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The new IKE SA has its message counters set to 0, regardless of what they were in the earlier IKE SA. The first IKE requests from both sides on the new IKE SA will have Message ID 0. The old IKE SA retains its numbering, so any further requests (for example, to delete the IKE SA) will have consecutive numbering. The new IKE SA also has its window size reset to 1, and the initiator in this rekey exchange is the new &#34;original initiator&#34; of the new IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいIKE SAのメッセージカウンターは、以前のIKE SAの内容に関係なく、0に設定されています。新しいIKE SAの両側からの最初のIKE要求のメッセージIDは0です。古いIKE SAはその番号を保持するため、それ以降の要求（IKE SAの削除など）には連続した番号が付けられます。新しいIKE SAのウィンドウサイズも1にリセットされ、このキー再生成交換のイニシエーターは、新しいIKE SAの新しい「元のイニシエーター」です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 2.18 also covers IKE SA rekeying in detail.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.18では、IKE SAのキー更新についても詳しく説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-3-3--Rekeying-Child-SAs-with-the-CREATECHILDSA-Exchange">
1.3.3. Rekeying Child SAs with the CREATE_CHILD_SA Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.3.3. CREATE_CHILD_SA交換による子SAの鍵の再生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA request for rekeying a Child SA is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAの鍵を再生成するためのCREATE_CHILD_SA要求は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR, SK {N(REKEY_SA), SA, Ni, [KEi,]
       TSi, TSr}   --&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator sends SA offer(s) in the SA payload, a nonce in the Ni payload, optionally a Diffie-Hellman value in the KEi payload, and the proposed Traffic Selectors for the proposed Child SA in the TSi and TSr payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、SAペイロードでSAオファー、Niペイロードでnonce、オプションでKEiペイロードのDiffie-Hellman値、およびTSiペイロードとTSrペイロードで提案された子SAの提案されたトラフィックセレクターを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The notifications described in Section 1.3.1 may also be sent in a rekeying exchange. Usually, these will be the same notifications that were used in the original exchange; for example, when rekeying a transport mode SA, the USE_TRANSPORT_MODE notification will be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション1.3.1で説明されている通知は、鍵の交換で送信することもできます。通常、これらは元の交換で使用されたものと同じ通知になります。たとえば、トランスポートモードSAのキーを再生成する場合、USE_TRANSPORT_MODE通知が使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The REKEY_SA notification MUST be included in a CREATE_CHILD_SA exchange if the purpose of the exchange is to replace an existing ESP or AH SA. The SA being rekeyed is identified by the SPI field in the Notify payload; this is the SPI the exchange initiator would expect in inbound ESP or AH packets. There is no data associated with this Notify message type. The Protocol ID field of the REKEY_SA notification is set to match the protocol of the SA we are rekeying, for example, 3 for ESP and 2 for AH.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
交換の目的が既存のESPまたはAH SAを置き換えることである場合、REKEY_SA通知をCREATE_CHILD_SA交換に含める必要があります。キーが再生成されるSAは、通知ペイロードのSPIフィールドによって識別されます。これは、交換の開始側がインバウンドESPまたはAHパケットで期待するSPIです。この通知メッセージタイプに関連付けられたデータはありません。 REKEY_SA通知のプロトコルIDフィールドは、キーを再生成するSAのプロトコルと一致するように設定されています。たとえば、ESPの場合は3、AHの場合は2です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA response for rekeying a Child SA is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAの鍵を再生成するためのCREATE_CHILD_SA応答は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-- HDR, SK {SA, Nr, [KEr,] TSi, TSr}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-32">
&lt;-HDR、SK {SA、Nr、[KEr、] TSi、TSr}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder replies (using the same Message ID to respond) with the accepted offer in an SA payload, a nonce in the Nr payload, and a Diffie-Hellman value in the KEr payload if KEi was included in the request and the selected cryptographic suite includes that group.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
応答者は、SAペイロードで受け入れられたオファー、Nrペイロードでナンス、KEiがリクエストと選択された暗号スイートに含まれている場合はKErペイロードでDiffie-Hellman値を使用して（同じメッセージIDを使用して応答します）応答します。そのグループを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Traffic Selectors for traffic to be sent on that SA are specified in the TS payloads in the response, which may be a subset of what the initiator of the Child SA proposed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
そのSAで送信されるトラフィックのトラフィックセレクターは、応答のTSペイロードで指定されます。これは、子SAのイニシエーターが提案したもののサブセットである場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-4--The-INFORMATIONAL-Exchange">
1.4. The INFORMATIONAL Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.4. 情報交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At various points during the operation of an IKE SA, peers may desire to convey control messages to each other regarding errors or notifications of certain events. To accomplish this, IKE defines an INFORMATIONAL exchange. INFORMATIONAL exchanges MUST ONLY occur after the initial exchanges and are cryptographically protected with the negotiated keys. Note that some informational messages, not exchanges, can be sent outside the context of an IKE SA. Section 2.21 also covers error messages in great detail.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAの動作中のさまざまな時点で、ピアは、特定のイベントのエラーまたは通知に関する制御メッセージを相互に伝達したい場合があります。これを実現するために、IKEは情報交換を定義しています。情報交換は、最初の交換後にのみ発生し、ネゴシエートされたキーで暗号的に保護されている必要があります。交換ではなく、一部の情報メッセージがIKE SAのコンテキストの外部に送信される可能性があることに注意してください。セクション2.21では、エラーメッセージについても詳しく説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Control messages that pertain to an IKE SA MUST be sent under that IKE SA. Control messages that pertain to Child SAs MUST be sent under the protection of the IKE SA that generated them (or its successor if the IKE SA was rekeyed).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAに関連する制御メッセージは、そのIKE SAの下で送信する必要があります。子SAに関連する制御メッセージは、それらを生成したIKE SA（またはIKE SAが再生成された場合は後続）の保護の下で送信する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Messages in an INFORMATIONAL exchange contain zero or more Notification, Delete, and Configuration payloads. The recipient of an INFORMATIONAL exchange request MUST send some response; otherwise, the sender will assume the message was lost in the network and will retransmit it. That response MAY be an empty message. The request message in an INFORMATIONAL exchange MAY also contain no payloads. This is the expected way an endpoint can ask the other endpoint to verify that it is alive.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
INFORMATIONAL交換のメッセージには、ゼロ以上の通知、削除、および構成ペイロードが含まれます。 INFORMATIONAL交換要求の受信者は、何らかの応答を送信する必要があります。そうしないと、送信者はメッセージがネットワークで失われたと見なし、メッセージを再送信します。その応答は空のメッセージであるかもしれません。 INFORMATIONAL交換の要求メッセージにもペイロードが含まれない場合があります。これは、エンドポイントが他のエンドポイントに、それが有効であることを確認するように求めることができる予想される方法です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The INFORMATIONAL exchange is defined as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INFORMATIONAL交換は次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR, SK {[N,] [D,]
       [CP,] ...}  --&gt;
                                &lt;--  HDR, SK {[N,] [D,]
                                         [CP,] ...}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The processing of an INFORMATIONAL exchange is determined by its component payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INFORMATIONAL交換の処理は、そのコンポーネントペイロードによって決定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-4-1--Deleting-an-SA-with-INFORMATIONAL-Exchanges">
1.4.1. Deleting an SA with INFORMATIONAL Exchanges
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.4.1. 情報交換を伴うSAの削除
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESP and AH SAs always exist in pairs, with one SA in each direction. When an SA is closed, both members of the pair MUST be closed (that is, deleted). Each endpoint MUST close its incoming SAs and allow the other endpoint to close the other SA in each pair. To delete an SA, an INFORMATIONAL exchange with one or more Delete payloads is sent listing the SPIs (as they would be expected in the headers of inbound packets) of the SAs to be deleted. The recipient MUST close the designated SAs. Note that one never sends Delete payloads for the two sides of an SA in a single message. If there are many SAs to delete at the same time, one includes Delete payloads for the inbound half of each SA pair in the INFORMATIONAL exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESP SAとAH SAは常にペアで存在し、各方向に1つのSAがあります。 SAがクローズされると、ペアの両方のメンバーがクローズされる（つまり、削除される）必要があります。各エンドポイントは着信SAを閉じ、他のエンドポイントが各ペアの他のSAを閉じることを許可する必要があります。 SAを削除するには、削除するSAのSPI（インバウンドパケットのヘッダーで予想される）をリストした1つ以上のDeleteペイロードを持つINFORMATIONAL交換を送信します。受信者は指定されたSAを閉じる必要があります。 1つのメッセージでSAの両側に削除ペイロードを送信することは決してないことに注意してください。同時に削除するSAが多数ある場合は、INFORMATIONAL交換の各SAペアのインバウンド半分の削除ペイロードが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Normally, the response in the INFORMATIONAL exchange will contain Delete payloads for the paired SAs going in the other direction. There is one exception. If, by chance, both ends of a set of SAs independently decide to close them, each may send a Delete payload and the two requests may cross in the network. If a node receives a delete request for SAs for which it has already issued a delete request, it MUST delete the outgoing SAs while processing the request and the incoming SAs while processing the response. In that case, the responses MUST NOT include Delete payloads for the deleted SAs, since that would result in duplicate deletion and could in theory delete the wrong SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通常、INFORMATIONAL交換の応答には、反対方向に向かうペアのSAの削除ペイロードが含まれます。例外が1つあります。偶然にも、SAのセットの両端が個別にそれらを閉じることを決定した場合、それぞれが削除ペイロードを送信し、2つの要求がネットワークを通過する可能性があります。ノードがすでに削除要求を発行したSAの削除要求を受信した場合、ノードは、要求の処理中に発信SAを、応答の処理中に着信SAを削除する必要があります。その場合、応答には削除されたSAの削除ペイロードを含めてはなりません。削除ペイロードが重複して削除され、理論的には間違ったSAが削除される可能性があるためです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Similar to ESP and AH SAs, IKE SAs are also deleted by sending an INFORMATIONAL exchange. Deleting an IKE SA implicitly closes any remaining Child SAs negotiated under it. The response to a request that deletes the IKE SA is an empty INFORMATIONAL response.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESPおよびAH SAと同様に、IKE SAもINFORMATIONAL交換を送信することによって削除されます。 IKE SAを削除すると、その下でネゴシエートされた残りの子SAが暗黙的に閉じられます。 IKE SAを削除する要求への応答は、空のINFORMATIONAL応答です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Half-closed ESP or AH connections are anomalous, and a node with auditing capability should probably audit their existence if they persist. Note that this specification does not specify time periods, so it is up to individual endpoints to decide how long to wait. A node MAY refuse to accept incoming data on half-closed connections but MUST NOT unilaterally close them and reuse the SPIs. If connection state becomes sufficiently messed up, a node MAY close the IKE SA, as described above. It can then rebuild the SAs it needs on a clean base under a new IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ハーフクローズのESPまたはAH接続は異常であり、監査機能を備えたノードは、それらが存続する場合、おそらくそれらの存在を監査する必要があります。この仕様では期間を指定していないため、待機時間を決定するのは個々のエンドポイント次第です。ノードは、ハーフクローズ接続で着信データの受け入れを拒否してもよいが、一方的にそれらをクローズしてSPIを再利用してはならない（MUST NOT）。接続状態が十分にめちゃくちゃになると、ノードは上記のようにIKE SAを閉じてもよい（MAY）。その後、必要なSAを新しいIKE SAの下のクリーンベースで再構築できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-5--Informational-Messages-outside-of-an-IKE-SA">
1.5. Informational Messages outside of an IKE SA
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.5. IKE SA外の情報メッセージ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are some cases in which a node receives a packet that it cannot process, but it may want to notify the sender about this situation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ノードが処理できないパケットを受信する場合がありますが、この状況について送信者に通知する必要がある場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If an ESP or AH packet arrives with an unrecognized SPI. This might be due to the receiving node having recently crashed and lost state, or because of some other system malfunction or attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ESPまたはAHパケットが認識されないSPIで到着した場合。これは、最近クラッシュして状態が失われた受信ノード、またはその他のシステムの誤動作や攻撃が原因である可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If an encrypted IKE request packet arrives on port 500 or 4500 with an unrecognized IKE SPI. This might be due to the receiving node having recently crashed and lost state, or because of some other system malfunction or attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 暗号化されたIKE要求パケットが、認識されないIKE SPIでポート500または4500に到着した場合。これは、最近クラッシュして状態が失われた受信ノード、またはその他のシステムの誤動作や攻撃が原因である可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If an IKE request packet arrives with a higher major version number than the implementation supports.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKE要求パケットが、実装でサポートされているよりも大きなメジャーバージョン番号で到着した場合。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the first case, if the receiving node has an active IKE SA to the IP address from whence the packet came, it MAY send an INVALID_SPI notification of the wayward packet over that IKE SA in an INFORMATIONAL exchange. The Notification Data contains the SPI of the invalid packet. The recipient of this notification cannot tell whether the SPI is for AH or ESP, but this is not important because in many cases the SPIs will be different for the two. If no suitable IKE SA exists, the node MAY send an informational message without cryptographic protection to the source IP address, using the source UDP port as the destination port if the packet was UDP (UDP-encapsulated ESP or AH). In this case, it should only be used by the recipient as a hint that something might be wrong (because it could easily be forged). This message is not part of an INFORMATIONAL exchange, and the receiving node MUST NOT respond to it because doing so could cause a message loop. The message is constructed as follows: there are no IKE SPI values that would be meaningful to the recipient of such a notification; using zero values or random values are both acceptable, this being the exception to the rule in Section 3.1 that prohibits zero IKE Initiator SPIs. The Initiator
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初のケースでは、受信ノードが、パケットが来たときからIPアドレスへのアクティブなIKE SAを持っている場合、情報交換でそのIKE SAを介して、送信パケットのINVALID_SPI通知を送信できます（MAY）。通知データには、無効なパケットのSPIが含まれています。この通知の受信者は、SPIがAH用かESP用かを判別できませんが、多くの場合、SPIは2つで異なるため、これは重要ではありません。適切なIKE SAが存在しない場合、パケットがUDP（UDPカプセル化ESPまたはAH）の場合、送信元UDPポートを宛先ポートとして使用して、ノードは暗号化保護なしで情報メッセージを送信元IPアドレスに送信できます（MAY）。この場合、受信者は、何かが間違っている可能性があることを示すヒントとしてのみ使用する必要があります（簡単に偽造できるため）。このメッセージは情報交換の一部ではなく、メッセージループを引き起こす可能性があるため、受信ノードはそれに応答してはなりません。メッセージは次のように構成されます。そのような通知の受信者にとって意味のあるIKE SPI値はありません。ゼロ値またはランダム値のどちらも使用できますが、これは、IKEイニシエーターSPIをゼロにすることを禁止するセクション3.1の規則の例外です。イニシエーター
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
flag is set to 1, the Response flag is set to 0, and the version flags are set in the normal fashion; these flags are described in Section 3.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
フラグは1に設定され、応答フラグは0に設定され、バージョンフラグは通常の方法で設定されます。これらのフラグについては、セクション3.1で説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the second and third cases, the message is always sent without cryptographic protection (outside of an IKE SA), and includes either an INVALID_IKE_SPI or an INVALID_MAJOR_VERSION notification (with no notification data). The message is a response message, and thus it is sent to the IP address and port from whence it came with the same IKE SPIs and the Message ID and Exchange Type are copied from the request. The Response flag is set to 1, and the version flags are set in the normal fashion.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2番目と3番目のケースでは、メッセージは常に暗号保護なしで送信され（IKE SAの外部）、INVALID_IKE_SPIまたはINVALID_MAJOR_VERSION通知が含まれます（通知データなし）。メッセージは応答メッセージであるため、同じIKE SPIが付属しているIPアドレスとポートに送信され、メッセージIDと交換タイプが要求からコピーされます。応答フラグは1に設定され、バージョンフラグは通常の方法で設定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-6--Requirements-Terminology">
1.6. Requirements Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.6. 要件の用語
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Definitions of the primitive terms in this document (such as Security Association or SA) can be found in [IPSECARCH]. It should be noted that parts of IKEv2 rely on some of the processing rules in [IPSECARCH], as described in various sections of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの基本的な用語の定義（セキュリティアソシエーションやSAなど）は、[IPSECARCH]にあります。このドキュメントのさまざまなセクションで説明されているように、IKEv2の一部は[IPSECARCH]の処理ルールの一部に依存していることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [MUSTSHOULD].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントのキーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、および「OPTIONAL」は、 [MUSTSHOULD]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-7--Significant-Differences-between-RFC-4306-and-RFC-5996">
1.7. Significant Differences between RFC 4306 and RFC 5996
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.7. RFC 4306とRFC 5996の大きな違い
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document contains clarifications and amplifications to IKEv2 [IKEV2]. Many of the clarifications are based on [Clarif]. The changes listed in that document were discussed in the IPsec Working Group and, after the Working Group was disbanded, on the IPsec mailing list. That document contains detailed explanations of areas that were unclear in IKEv2, and is thus useful to implementers of IKEv2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントには、IKEv2 [IKEV2]の説明と拡張が含まれています。説明の多くは[Clarif]に基づいています。そのドキュメントに記載されている変更は、IPsecワーキンググループで議論され、ワー​​キンググループが解体された後、IPsecメーリングリストで議論されました。そのドキュメントには、IKEv2で不明確であった領域の詳細な説明が含まれているため、IKEv2の実装者に役立ちます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The protocol described in this document retains the same major version number (2) and minor version number (0) as was used in RFC 4306. That is, the version number is *not* changed from RFC 4306. The small number of technical changes listed here are not expected to affect RFC 4306 implementations that have already been deployed at the time of publication of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントで説明されているプロトコルは、RFC 4306で使用されていたものと同じメジャーバージョン番号（2）とマイナーバージョン番号（0）を保持します。つまり、バージョン番号はRFC 4306から変更されていません。ここに記載されている内容は、このドキュメントの公開時に既に展開されているRFC 4306の実装に影響を与えるとは考えられていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document makes the figures and references a bit more consistent than they were in [IKEV2].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、図と参照を[IKEV2]よりも少し一貫性のあるものにします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 IKEv2 developers have noted that the SHOULD-level requirements in RFC 4306 are often unclear in that they don&#39;t say when it is OK to not obey the requirements. They also have noted that there are MUST-level requirements that are not related to interoperability. This document has more explanation of some of these requirements. All non-capitalized uses of the words SHOULD and MUST now mean their normal English sense, not the interoperability sense of [MUSTSHOULD].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IKEv2開発者は、RFC 4306のSHOULDレベルの要件は、要件に従わないことをいつ許可するかについては明言しないため、しばしば不明確であると指摘しています。彼らはまた、相互運用性に関連しないMUSTレベルの要件があることに注意しました。このドキュメントでは、これらの要件のいくつかについて詳しく説明しています。大文字で表記されていないすべての単語の使用は、[MUSTSHOULD]の相互運用性の意味ではなく、通常の英語の意味を意味する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2 (and IKEv1) developers have noted that there is a great deal of material in the tables of codes in Section 3.10.1 in RFC 4306. This leads to implementers not having all the needed information in the main body of the document. Much of the material from those tables has been moved into the associated parts of the main body of the document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2（およびIKEv1）の開発者は、RFC 4306のセクション3.10.1のコードの表に多くの内容があることを指摘しています。これにより、実装者はドキュメントの本文に必要なすべての情報が含まれなくなります。これらのテーブルの資料の多くは、ドキュメントの本文の関連部分に移動されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document removes discussion of nesting AH and ESP. This was a mistake in RFC 4306 caused by the lag between finishing RFC 4306 and RFC 4301. Basically, IKEv2 is based on RFC 4301, which does not include &#34;SA bundles&#34; that were part of RFC 2401. While a single packet can go through IPsec processing multiple times, each of these passes uses a separate SA, and the passes are coordinated by the forwarding tables. In IKEv2, each of these SAs has to be created using a separate CREATE_CHILD_SA exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、AHとESPのネストに関する説明を削除します。これは、RFC 4306の終了とRFC 4301の間の遅延が原因で発生した、RFC 4306の誤りです。基本的に、IKEv2はRFC 4301に基づいており、RFC 2401の一部であった「SAバンドル」は含まれていません。 IPsecは複数回処理され、これらの各パスは個別のSAを使用し、パスは転送テーブルによって調整されます。 IKEv2では、これらの各SAは、別個のCREATE_CHILD_SA交換を使用して作成する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document removes discussion of the INTERNAL_ADDRESS_EXPIRY configuration attribute because its implementation was very problematic. Implementations that conform to this document MUST ignore proposals that have configuration attribute type 5, the old value for INTERNAL_ADDRESS_EXPIRY. This document also removed INTERNAL_IP6_NBNS as a configuration attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、実装に非常に問題があったため、INTERNAL_ADDRESS_EXPIRY構成属性の説明を削除します。このドキュメントに準拠する実装は、構成属性タイプ5、INTERNAL_ADDRESS_EXPIRYの古い値を持つ提案を無視する必要があります。このドキュメントでは、設定属性としてINTERNAL_IP6_NBNSも削除されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document removes the allowance for rejecting messages in which the payloads were not in the &#34;right&#34; order; now implementations MUST NOT reject them. This is due to the lack of clarity where the orders for the payloads are described.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、ペイロードが「正しい」順序になっていないメッセージを拒否するための許可を削除しています。現在、実装はそれらを拒否してはなりません。これは、ペイロードの順序が記述されている場所が明確でないためです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The lists of items from RFC 4306 that ended up in the IANA registry were trimmed to only include items that were actually defined in RFC 4306. Also, many of those lists are now preceded with the very important instruction to developers that they really should look at the IANA registry at the time of development because new items have been added since RFC 4306.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANAレジストリに登録されたRFC 4306の項目のリストは、RFC 4306で実際に定義された項目のみを含むようにトリミングされました。また、これらのリストの多くの前には、開発者が実際に確認する必要がある非常に重要な指示が付いています。 RFC 4306以降に新しい項目が追加されたため、開発時のIANAレジストリ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document adds clarification on when notifications are and are not sent encrypted, depending on the state of the negotiation at the time.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、そのときのネゴシエーションの状態に応じて、通知が暗号化されて送信される場合と送信されない場合の明確化を追加します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document discusses more about how to negotiate combined-mode ciphers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、複合モード暗号をネゴシエートする方法について詳しく説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Section 1.3.2, &#34;The KEi payload SHOULD be included&#34; was changed to be &#34;The KEi payload MUST be included&#34;. This also led to changes in Section 2.18.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション1.3.2で、「KEiペイロードを含める必要があります」が「KEiペイロードを含める必要があります」に変更されました。これにより、セクション2.18も変更されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Section 2.1, there is new material covering how the initiator&#39;s SPI and/or IP is used to differentiate if this is a &#34;half-open&#34; IKE SA or a new request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.1には、イニシエーターのSPIまたはIP、あるいはその両方を使用して、これが「ハーフオープン」IKE SAであるか、新しいリクエストであるかを区別するための新しい資料があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document clarifies the use of the critical flag in Section 2.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、セクション2.5のクリティカルフラグの使用について説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Section 2.8, &#34;Note that, when rekeying, the new Child SA MAY have different Traffic Selectors and algorithms than the old one&#34; was changed to &#34;Note that, when rekeying, the new Child SA SHOULD NOT have different Traffic Selectors and algorithms than the old one&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.8で、「キーを再生成するときに、新しい子SAは古いものとは異なるトラフィックセレクターとアルゴリズムを持っている場合があることに注意してください」が「キーを再生成するとき、新しい子SAは古いもの&#34;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The new Section 2.8.2 covers simultaneous IKE SA rekeying.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいセクション2.8.2では、IKE SAの同時キー更新について説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document adds the restriction in Section 2.13 that all pseudorandom functions (PRFs) used with IKEv2 MUST take variable-sized keys. This should not affect any implementations because there were no standardized PRFs that have fixed-size keys.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、セクション2.13に、IKEv2で使用されるすべての疑似ランダム関数（PRF）が可変サイズのキーを使用する必要があるという制限を追加しています。固定サイズのキーを持つ標準化されたPRFがなかったため、これは実装に影響を与えません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 2.18 requires doing a Diffie-Hellman exchange when rekeying the IKE_SA. In theory, RFC 4306 allowed a policy where the Diffie-Hellman exchange was optional, but this was not useful (or appropriate) when rekeying the IKE_SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.18では、IKE_SAの鍵を再生成するときにDiffie-Hellman交換を行う必要があります。理論的には、RFC 4306は、Diffie-Hellman交換がオプションであるポリシーを許可しましたが、IKE_SAの鍵を再生成する場合、これは役に立ちません（または適切ではありません）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 2.21 has been greatly expanded to cover the different cases where error responses are needed and the appropriate responses to them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.21は大幅に拡張され、エラー応答が必要なさまざまなケースとそれらへの適切な応答がカバーされています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 2.23 clarified that, in NAT traversal, now both UDP-encapsulated IPsec packets and non-UDP-encapsulated IPsec packets need to be understood when receiving.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.23は、NATトラバーサルで、UDPカプセル化IPsecパケットと非UDPカプセル化IPsecパケットの両方を受信時に理解する必要があることを明らかにしました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added Section 2.23.1 to describe NAT traversal when transport mode is requested.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トランスポートモードが要求された場合のNATトラバーサルを説明するためにセクション2.23.1を追加しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added Section 2.25 to explain how to act when there are timing collisions when deleting and/or rekeying SAs, and two new error notifications (TEMPORARY_FAILURE and CHILD_SA_NOT_FOUND) were defined.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAを削除または再キーイングするときにタイミングの衝突がある場合の対処方法を説明するためにセクション2.25を追加し、2つの新しいエラー通知（TEMPORARY_FAILUREおよびCHILD_SA_NOT_FOUND）が定義されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Section 3.6, &#34;Implementations MUST support the &#34;http:&#34; scheme for hash-and-URL lookup. The behavior of other URL schemes is not currently specified, and such schemes SHOULD NOT be used in the absence of a document specifying them&#34; was added.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション3.6で、「実装はハッシュとURLルックアップの「http：」スキームをサポートする必要があります。他のURLスキームの動作は現在指定されていません。そのようなスキームは、それらを指定するドキュメントがない場合は使用しないでください」でした。追加されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Section 3.15.3, a pointer to a new document that is related to configuration of IPv6 addresses was added.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3.15.3項では、IPv6アドレスの構成に関連する新しいドキュメントへのポインタが追加されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Appendix C was expanded and clarified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
付録Cが拡張および明確化されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1-8--Differences-between-RFC-5996-and-This-Document">
1.8. Differences between RFC 5996 and This Document
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.8. RFC 5996とこのドキュメントの違い
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Clarified in the Abstract and the Introduction section that the status of this document is Internet Standard.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
要約および概要のセクションで、このドキュメントのステータスがインターネット標準であることを明確にしました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The new Section 2.9.2 covers Traffic Selectors in rekeying.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいセクション2.9.2は、キー再生成におけるトラフィックセレクターをカバーしています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added reference to RFC 6989 when reusing Diffie-Hellman exponentials (Section 2.12).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Diffie-Hellman指数を再利用する場合のRFC 6989への参照を追加（セクション2.12）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added name &#34;Last Substruc&#34; for the Proposal Substructure and Transform Substructure header (Sections 3.3.1 and 3.3.2) for the 0 (last) or 2/3 (more) field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0（最後）または2/3（詳細）フィールドのProposal SubstructureおよびTransform Substructureヘッダー（セクション3.3.1および3.3.2）に「Last Substruc」という名前を追加しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added reference to RFC 6989 when using groups that are not Sophie Germain Modular Exponentiation (MODP) groups (Section 3.3.2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Sophie Germain Modular Exponentiation（MODP）グループではないグループを使用する場合のRFC 6989への参照を追加（セクション3.3.2）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added reference to RFC 4945 in the Identification Payloads section (Section 3.5).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
識別ペイロードセクション（セクション3.5）にRFC 4945への参照を追加しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Deprecated Raw RSA public keys in Section 3.6. There is new work in progress adding a more generic format for raw public keys.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション3.6で非推奨のRaw RSA公開鍵。未加工の公開鍵のより一般的な形式を追加する新しい作業が進行中です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Fixed Sections 3.6 and 3.10 as specified in the errata for RFC 5996 (RFC Errata IDs 2707 and 3036).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5996のエラッタ（RFCエラッタID 2707および3036）で指定されているセクション3.6および3.10を修正しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Added a note in the IANA Considerations section (Section 6) about deprecating the Raw RSA Key, and removed the old contents (which was already done during RFC 5996 processing). Added a note that IANA should update all references to RFC 5996 to point to this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
未加工のRSAキーの廃止に関するIANAの考慮事項セクション（セクション6）にメモを追加し、古いコンテンツ（RFC 5996処理中に既に行われていた）を削除しました。 IANAがこのドキュメントを指すようにRFC 5996へのすべての参照を更新する必要があるというメモを追加しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--IKE-Protocol-Details-and-Variations">
2. IKE Protocol Details and Variations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. IKEプロトコルの詳細とバリエーション
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 IKE normally listens and sends on UDP port 500, though IKE messages may also be received on UDP port 4500 with a slightly different format (see Section 2.23). Since UDP is a datagram (unreliable) protocol, IKE includes in its definition recovery from transmission errors, including packet loss, packet replay, and packet forgery. IKE is designed to function so long as (1) at least one of a series of retransmitted packets reaches its destination before timing out; and (2) the channel is not so full of forged and replayed packets so as to exhaust the network or CPU capacities of either endpoint. Even in the absence of those minimum performance requirements, IKE is designed to fail cleanly (as though the network were broken).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IKEは通常、UDPポート500でリッスンして送信しますが、IKEメッセージはUDPポート4500でもわずかに異なる形式で受信される場合があります（セクション2.23を参照）。 UDPはデータグラム（信頼性の低い）プロトコルであるため、IKEの定義には、パケット損失、パケットの再生、パケットの偽造などの伝送エラーからの回復が含まれます。 IKEは、（1）一連の再送信されたパケットの少なくとも1つがタイムアウトする前に宛先に到達する限り機能するように設計されています。 （2）チャネルが偽造および再生されたパケットでいっぱいではないため、いずれかのエンドポイントのネットワークまたはCPU容量を使い果たしてしまう。これらの最小パフォーマンス要件がない場合でも、IKEは（ネットワークが切断されたかのように）完全に失敗するように設計されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although IKEv2 messages are intended to be short, they contain structures with no hard upper bound on size (in particular, digital certificates), and IKEv2 itself does not have a mechanism for fragmenting large messages. IP defines a mechanism for fragmentation of oversized UDP messages, but implementations vary in the maximum message size supported. Furthermore, use of IP fragmentation opens an implementation to denial-of-service (DoS) attacks [DOSUDPPROT]. Finally, some NAT and/or firewall implementations may block IP fragments.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2メッセージは短くすることを目的としていますが、サイズにハード上限のない構造（特にデジタル証明書）が含まれており、IKEv2自体には大きなメッセージをフラグメント化するメカニズムがありません。 IPは、特大のUDPメッセージを断片化するメカニズムを定義していますが、サポートされる最大メッセージサイズは実装によって異なります。さらに、IPフラグメンテーションを使用すると、サービス拒否（DoS）攻撃の実装が開かれます[DOSUDPPROT]。最後に、NATやファイアウォールの実装によっては、IPフラグメントがブロックされる場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All IKEv2 implementations MUST be able to send, receive, and process IKE messages that are up to 1280 octets long, and they SHOULD be able to send, receive, and process messages that are up to 3000 octets long. IKEv2 implementations need to be aware of the maximum UDP message size supported and MAY shorten messages by leaving out some certificates or cryptographic suite proposals if that will keep messages below the maximum. Use of the &#34;Hash and URL&#34; formats rather than including certificates in exchanges where possible can avoid most problems. Implementations and configuration need to keep in mind, however, that if the URL lookups are possible only after the Child SA is established, recursion issues could prevent this technique from working.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのIKEv2実装は、最大1280オクテットのIKEメッセージを送信、受信、処理できなければならず、最大3000オクテットのメッセージを送信、受信、処理できる必要があります（SHOULD）。 IKEv2実装は、サポートされる最大UDPメッセージサイズを認識している必要があり、メッセージが最大値を下回る場合は、証明書または暗号スイートの提案を省略して、メッセージを短くすることができます（MAY）。可能な場合は交換に証明書を含めるのではなく、「ハッシュおよびURL」形式を使用すると、ほとんどの問題を回避できます。ただし、実装と構成では、子SAが確立された後にのみURLルックアップが可能である場合、再帰の問題によりこの手法が機能しなくなる可能性があることに留意する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The UDP payload of all packets containing IKE messages sent on port 4500 MUST begin with the prefix of four zeros; otherwise, the receiver won&#39;t know how to handle them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポート4500で送信されるIKEメッセージを含むすべてのパケットのUDPペイロードは、4つのゼロのプレフィックスで始まる必要があります。そうしないと、受信者はそれらを処理する方法を知りません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-1--Use-of-Retransmission-Timers">
2.1. Use of Retransmission Timers
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. 再送信タイマーの使用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All messages in IKE exist in pairs: a request and a response. The setup of an IKE SA normally consists of two exchanges. Once the IKE SA is set up, either end of the Security Association may initiate requests at any time, and there can be many requests and responses &#34;in flight&#34; at any given moment. But each message is labeled as either a request or a response, and for each exchange, one end of the Security Association is the initiator and the other is the responder.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEのすべてのメッセージは、要求と応答のペアで存在します。 IKE SAのセットアップは通常、2つの交換で構成されます。 IKE SAがセットアップされると、セキュリティアソシエーションのいずれかの端がいつでも要求を開始する可能性があり、任意の時点で多くの要求と応答が「進行中」になる可能性があります。ただし、各メッセージには要求または応答のいずれかのラベルが付けられ、交換ごとに、セキュリティアソシエーションの一端がイニシエーターになり、もう一端がレスポンダーになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 For every pair of IKE messages, the initiator is responsible for retransmission in the event of a timeout. The responder MUST never retransmit a response unless it receives a retransmission of the request. In that event, the responder MUST ignore the retransmitted request except insofar as it causes a retransmission of the response. The initiator MUST remember each request until it receives the corresponding response. The responder MUST remember each response until it receives a request whose sequence number is larger than or equal to the sequence number in the response plus its window size (see Section 2.3). In order to allow saving memory, responders are allowed to forget the response after a timeout of several minutes. If the responder receives a retransmitted request for which it has already forgotten the response, it MUST ignore the request (and not, for example, attempt constructing a new response).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IKEメッセージのすべてのペアについて、タイムアウトの発生時にイニシエーターが再送信を担当します。応答側は、要求の再送信を受信しない限り、応答を再送信してはなりません（MUST）。その場合、レスポンダは、応答の再送信が発生する場合を除いて、再送信された要求を無視する必要があります。イニシエーターは、対応する応答を受信するまで、各要求を記憶する必要があります。レスポンダは、シーケンス番号が応答のシーケンス番号にウィンドウサイズを加えた値以上であるリクエストを受信するまで、各応答を記憶しなければなりません（セクション2.3を参照）。メモリを節約できるようにするため、レスポンダは数分のタイムアウト後に応答を忘れることができます。レスポンダが、すでに応答を忘れている再送信された要求を受信した場合、その要求を無視する必要があります（たとえば、新しい応答の構築を試みないでください）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE is a reliable protocol: the initiator MUST retransmit a request until it either receives a corresponding response or deems the IKE SA to have failed. In the latter case, the initiator discards all state associated with the IKE SA and any Child SAs that were negotiated using that IKE SA. A retransmission from the initiator MUST be bitwise identical to the original request. That is, everything starting from the IKE header (the IKE SA initiator&#39;s SPI onwards) must be bitwise identical; items before it (such as the IP and UDP headers) do not have to be identical.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEは信頼できるプロトコルです。イニシエーターは、対応する応答を受信するか、IKE SAが失敗したと見なすまで、要求を再送信する必要があります。後者の場合、イニシエーターは、IKE SAおよびそのIKE SAを使用してネゴシエートされたすべての子SAに関連するすべての状態を破棄します。イニシエーターからの再送信は、元の要求とビットごとに同一である必要があります。つまり、IKEヘッダー（IKE SAイニシエーターのSPI以降）から始まるすべてのものは、ビットごとに同一である必要があります。その前の項目（IPヘッダーやUDPヘッダーなど）は同じである必要はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Retransmissions of the IKE_SA_INIT request require some special handling. When a responder receives an IKE_SA_INIT request, it has to determine whether the packet is a retransmission belonging to an existing &#34;half-open&#34; IKE SA (in which case the responder retransmits the same response), or a new request (in which case the responder creates a new IKE SA and sends a fresh response), or it belongs to an existing IKE SA where the IKE_AUTH request has been already received (in which case the responder ignores it).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_SA_INIT要求の再送信には、特別な処理が必要です。レスポンダは、IKE_SA_INIT要求を受信すると、パケットが既存の「ハーフオープン」IKE SA（この場合、レスポンダが同じ応答を再送信する）に属する再送信であるか、または新しい要求（この場合、レスポンダは新しいIKE SAを作成して新しい応答を送信します）、またはIKE_AUTH要求が既に受信されている既存のIKE SAに属しています（この場合、レスポンダは無視します）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is not sufficient to use the initiator&#39;s SPI and/or IP address to differentiate between these three cases because two different peers behind a single NAT could choose the same initiator SPI. Instead, a robust responder will do the IKE SA lookup using the whole packet, its hash, or the Ni payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
単一のNATの背後にある2つの異なるピアが同じイニシエーターSPIを選択する可能性があるため、これら3つのケースを区別するためにイニシエーターのSPIまたはIPアドレス、あるいはその両方を使用するだけでは不十分です。代わりに、堅牢なレスポンダは、パケット全体、そのハッシュ、またはNiペイロードを使用してIKE SAルックアップを実行します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The retransmission policy for one-way messages is somewhat different from that for regular messages. Because no acknowledgement is ever sent, there is no reason to gratuitously retransmit one-way messages. Given that all these messages are errors, it makes sense to send them only once per &#34;offending&#34; packet, and only retransmit if further offending packets are received. Still, it also makes sense to limit retransmissions of such error messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一方向メッセージの再送信ポリシーは、通常のメッセージの再送信ポリシーとは多少異なります。確認応答は送信されないため、一方向のメッセージを不当に再送信する理由はありません。これらすべてのメッセージがエラーであることを考えると、「問題のある」パケットごとに1回だけメッセージを送信し、さらに問題のあるパケットを受信した場合にのみ再送信するのが理にかなっています。それでも、そのようなエラーメッセージの再送信を制限することは理にかなっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-2--Use-of-Sequence-Numbers-for-Message-ID">
2.2. Use of Sequence Numbers for Message ID
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. メッセージIDのシーケンス番号の使用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Every IKE message contains a Message ID as part of its fixed header. This Message ID is used to match up requests and responses and to identify retransmissions of messages. Retransmission of a message MUST use the same Message ID as the original message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのIKEメッセージには、固定ヘッダーの一部としてメッセージIDが含まれています。このメッセージIDは、要求と応答を照合し、メッセージの再送信を識別するために使用されます。メッセージの再送信には、元のメッセージと同じメッセージIDを使用する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Message ID is a 32-bit quantity, which is zero for the IKE_SA_INIT messages (including retries of the message due to responses such as COOKIE and INVALID_KE_PAYLOAD), and incremented for each subsequent exchange. Thus, the first pair of IKE_AUTH messages will have an ID of 1, the second (when EAP is used) will be 2, and so on. The Message ID is reset to zero in the new IKE SA after the IKE SA is rekeyed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
メッセージIDは32ビットの量であり、IKE_SA_INITメッセージ（COOKIEやINVALID_KE_PAYLOADなどの応答によるメッセージの再試行を含む）の場合はゼロであり、後続の交換ごとに増分されます。したがって、IKE_AUTHメッセージの最初のペアのIDは1になり、2番目のペア（EAPが使用されている場合）は2になります。メッセージIDは、IKE SAの鍵の再生成後、新しいIKE SAでゼロにリセットされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each endpoint in the IKE Security Association maintains two &#34;current&#34; Message IDs: the next one to be used for a request it initiates and the next one it expects to see in a request from the other end. These counters increment as requests are generated and received. Responses always contain the same Message ID as the corresponding request. That means that after the initial exchange, each integer n may appear as the Message ID in four distinct messages: the nth request from the original IKE initiator, the corresponding response, the nth request from the original IKE responder, and the corresponding response. If the two ends make a very different number of requests, the Message IDs in the two directions can be very different. There is no ambiguity in the messages, however, because the Initiator and Response flags in the message header specify which of the four messages a particular one is.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE Security Associationの各エンドポイントは、2つの「現在の」メッセージIDを保持します。次のメッセージIDは、開始するリクエストに使用され、次のエンドポイントは、他の端からのリクエストで表示されることを期待しています。これらのカウンタは、要求が生成されて受信されると増加します。応答には常に、対応する要求と同じメッセージIDが含まれます。つまり、最初の交換後、各整数nは4つの異なるメッセージのメッセージIDとして表示される可能性があります。元のIKEイニシエーターからのn番目の要求、対応する応答、元のIKEレスポンダーからのn番目の要求、および対応する応答です。両端が非常に異なる数のリクエストを行う場合、2つの方向のメッセージIDは非常に異なる可能性があります。ただし、メッセージヘッダーのInitiatorフラグとResponseフラグは、特定のメッセージが4つのメッセージのどれであるかを指定するため、メッセージに曖昧さはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Throughout this document, &#34;initiator&#34; refers to the party who initiated the exchange being described. The &#34;original initiator&#34; always refers to the party who initiated the exchange that resulted in the current IKE SA. In other words, if the &#34;original responder&#34; starts rekeying the IKE SA, that party becomes the &#34;original initiator&#34; of the new IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメント全体で、「開始者」とは、説明されている交換を開始した当事者を指します。 「元の開始者」は常に、現在のIKE SAをもたらした交換を開始した当事者を指します。つまり、「元のレスポンダ」がIKE SAの鍵の再生成を開始すると、そのパーティは新しいIKE SAの「元のイニシエータ」になります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that Message IDs are cryptographically protected and provide protection against message replays. In the unlikely event that Message IDs grow too large to fit in 32 bits, the IKE SA MUST be closed or rekeyed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
メッセージIDは暗号で保護され、メッセージの再生に対する保護を提供することに注意してください。メッセージIDが32ビットに収まらないほど大きくなるというまれなイベントでは、IKE SAを閉じるか、キーを再設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-3--Window-Size-for-Overlapping-Requests">
2.3. Window Size for Overlapping Requests
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3. 重複するリクエストのウィンドウサイズ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SET_WINDOW_SIZE notification asserts that the sending endpoint is capable of keeping state for multiple outstanding exchanges, permitting the recipient to send multiple requests before getting a response to the first. The data associated with a SET_WINDOW_SIZE notification MUST be 4 octets long and contain the big endian representation of the number of messages the sender promises to keep. The window size is always one until the initial exchanges complete.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SET_WINDOW_SIZE通知は、送信側エンドポイントが未解決の複数の交換の状態を保持できることを表明し、受信者が最初の応答を受け取る前に複数の要求を送信できるようにします。 SET_WINDOW_SIZE通知に関連付けられたデータは、4オクテットの長さである必要があり、送信者が保持することを約束するメッセージ数のビッグエンディアン表現を含んでいる必要があります。ウィンドウサイズは、最初の交換が完了するまで常に1です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE endpoint MUST wait for a response to each of its messages before sending a subsequent message unless it has received a SET_WINDOW_SIZE Notify message from its peer informing it that the peer is prepared to maintain state for multiple outstanding messages in order to allow greater throughput.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEエンドポイントは、ピアからSET_WINDOW_SIZE通知メッセージを受信して​​いない限り、後続のメッセージを送信する前に、各メッセージへの応答を待機する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After an IKE SA is set up, in order to maximize IKE throughput, an IKE endpoint MAY issue multiple requests before getting a response to any of them, up to the limit set by its peer&#39;s SET_WINDOW_SIZE. These requests may pass one another over the network. An IKE endpoint MUST be prepared to accept and process a request while it has a request outstanding in order to avoid a deadlock in this situation. An IKE endpoint may also accept and process multiple requests while it has a request outstanding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAがセットアップされた後、IKEスループットを最大化するために、IKEエンドポイントは、ピアのSET_WINDOW_SIZEによって設定された制限まで、それらのいずれかに対する応答を取得する前に複数の要求を発行できます（MAY）。これらの要求は、ネットワークを介して互いに渡される場合があります。この状況でのデッドロックを回避するために、IKEエンドポイントは、未処理の要求がある間に要求を受け入れて処理する準備をしなければなりません。 IKEエンドポイントは、未処理の要求がある間に複数の要求を受け入れて処理することもあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE endpoint MUST NOT exceed the peer&#39;s stated window size for transmitted IKE requests. In other words, if the responder stated its window size is N, then when the initiator needs to make a request X, it MUST wait until it has received responses to all requests up through request X-N. An IKE endpoint MUST keep a copy of (or be able to regenerate exactly) each request it has sent until it receives the corresponding response. An IKE endpoint MUST keep a copy of (or be able to regenerate exactly) the number of previous responses equal to its declared window size in case its response was lost and the initiator requests its retransmission by retransmitting the request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEエンドポイントは、送信されたIKE要求に対してピアが指定したウィンドウサイズを超えてはなりません（MUST NOT）。言い換えると、レスポンダがウィンドウサイズがNであると述べた場合、イニシエータが要求Xを行う必要がある場合、要求X-Nまでのすべての要求に対する応答を受信するまで待機する必要があります。 IKEエンドポイントは、対応する応答を受信するまで、送信した各要求のコピーを保持する（または正確に再生成できる）必要があります。 IKEエンドポイントは、応答が失われ、イニシエーターが要求を再送信することによって再送信を要求した場合に備えて、以前の応答のコピーを宣言されたウィンドウサイズと同じに保つ（または正確に再生成できる）必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE endpoint supporting a window size greater than one ought to be capable of processing incoming requests out of order to maximize performance in the event of network failures or packet reordering.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1つ以上のウィンドウサイズをサポートするIKEエンドポイントは、ネットワーク障害やパケットの並べ替えが発生した場合のパフォーマンスを最大化するために、着信要求を順不同で処理できる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The window size is normally a (possibly configurable) property of a particular implementation, and is not related to congestion control (unlike the window size in TCP, for example). In particular, what the responder should do when it receives a SET_WINDOW_SIZE notification containing a smaller value than is currently in effect is not defined. Thus, there is currently no way to reduce the window size of an existing IKE SA; you can only increase it. When rekeying an IKE SA, the new IKE SA starts with window size 1 until it is explicitly increased by sending a new SET_WINDOW_SIZE notification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ウィンドウサイズは通常、特定の実装の（おそらく構成可能な）プロパティであり、輻輳制御とは関係ありません（たとえば、TCPのウィンドウサイズとは異なります）。特に、現在有効な値よりも小さい値を含むSET_WINDOW_SIZE通知を受信したときにレスポンダが行うべきことは定義されていません。したがって、現在のところ、既存のIKE SAのウィンドウサイズを縮小する方法はありません。増やすことしかできません。 IKE SAのキーを再生成すると、新しいIKE SAはウィンドウサイズ1から始まり、新しいSET_WINDOW_SIZE通知を送信して明示的に増加されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The INVALID_MESSAGE_ID notification is sent when an IKE Message ID outside the supported window is received. This Notify message MUST NOT be sent in a response; the invalid request MUST NOT be acknowledged. Instead, inform the other side by initiating an INFORMATIONAL exchange with Notification Data containing the four-octet invalid Message ID. Sending this notification is OPTIONAL, and notifications of this type MUST be rate limited.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_MESSAGE_ID通知は、サポートされているウィンドウ外のIKEメッセージIDを受信したときに送信されます。この通知メッセージは、応答で送信してはなりません（MUST NOT）。無効なリクエストは確認してはなりません。代わりに、4オクテットの無効なメッセージIDを含む通知データとの情報交換を開始することにより、反対側に通知します。この通知の送信はオプションであり、このタイプの通知はレート制限されている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-4--State-Synchronization-and-Connection-Timeouts">
2.4. State Synchronization and Connection Timeouts
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.4. 状態同期と接続タイムアウト
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE endpoint is allowed to forget all of its state associated with an IKE SA and the collection of corresponding Child SAs at any time. This is the anticipated behavior in the event of an endpoint crash and restart. It is important when an endpoint either fails or reinitializes its state that the other endpoint detect those conditions and not continue to waste network bandwidth by sending packets over discarded SAs and having them fall into a black hole.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEエンドポイントは、IKE SAに関連付けられているすべての状態と、対応する子SAのコレクションをいつでも忘れることができます。これは、エンドポイントがクラッシュして再起動した場合に予想される動作です。エンドポイントで障害が発生するか、その状態が再初期化されると、他のエンドポイントがこれらの状態を検出し、破棄されたSAにパケットを送信してブラックホールに分類され、ネットワーク帯域幅を無駄に消費しないことが重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The INITIAL_CONTACT notification asserts that this IKE SA is the only IKE SA currently active between the authenticated identities. It MAY be sent when an IKE SA is established after a crash, and the recipient MAY use this information to delete any other IKE SAs it has to the same authenticated identity without waiting for a timeout. This notification MUST NOT be sent by an entity that may be replicated (e.g., a roaming user&#39;s credentials where the user is allowed to connect to the corporate firewall from two remote systems at the same time). The INITIAL_CONTACT notification, if sent, MUST be in the first IKE_AUTH request or response, not as a separate exchange afterwards; receiving parties MAY ignore it in other messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INITIAL_CONTACT通知は、このIKE SAが、認証されたID間で現在アクティブな唯一のIKE SAであることを表明します。これは、クラッシュ後にIKE SAが確立されたときに送信される場合があり、受信者はこの情報を使用して、タイムアウトを待たずに、同じ認証済みIDに対する他のIKE SAを削除できます。この通知は、複製される可能性のあるエンティティ（たとえば、ローミングユーザーの資格情報（ユーザーが2つのリモートシステムから同時に企業のファイアウォールに接続することを許可されている場合）によって送信されてはいけません（MUST NOT）。 INITIAL_CONTACT通知は、送信される場合、その後の個別の交換としてではなく、最初のIKE_AUTH要求または応答に含まれる必要があります。受信側は他のメッセージでそれを無視してもよいです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since IKE is designed to operate in spite of DoS attacks from the network, an endpoint MUST NOT conclude that the other endpoint has failed based on any routing information (e.g., ICMP messages) or IKE messages that arrive without cryptographic protection (e.g., Notify messages complaining about unknown SPIs). An endpoint MUST conclude that the other endpoint has failed only when repeated attempts to contact it have gone unanswered for a timeout period or when a cryptographically protected INITIAL_CONTACT notification is received on a different IKE SA to the same authenticated identity. An endpoint should suspect that the other endpoint has failed based on routing information and initiate a request to see whether the other endpoint is alive. To check whether the other side is alive, IKE specifies an empty INFORMATIONAL request that (like all IKE requests) requires an acknowledgement (note that within the context of an IKE SA, an &#34;empty&#34; message consists of an IKE header followed by an Encrypted payload that contains no payloads). If a cryptographically protected (fresh, i.e., not retransmitted) message has been received from the other side recently, unprotected Notify messages MAY be ignored. Implementations MUST limit the rate at which they take actions based on unprotected messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEはネットワークからのDoS攻撃にも関わらず動作するように設計されているため、エンドポイントは、ルーティング情報（ICMPメッセージなど）または暗号保護なしで到着したIKEメッセージ（通知メッセージなど）に基づいて、他のエンドポイントが失敗したと結論付けてはなりません（MUST NOT）。不明なSPIについての不満）。エンドポイントは、他のエンドポイントへの接続試行がタイムアウト期間中に無応答になった場合、または暗号で保護されたINITIAL_CONTACT通知が同じ認証済みIDに対する別のIKE SAで受信された場合にのみ、他のエンドポイントが失敗したと結論付ける必要があります。エンドポイントは、他のエンドポイントがルーティング情報に基づいて失敗したことを疑い、他のエンドポイントが生きているかどうかを確認する要求を開始する必要があります。反対側が生きているかどうかを確認するために、IKEは空のINFORMATIONAL要求を指定します（すべてのIKE要求と同様に）確認が必要です（IKE SAのコンテキスト内では、「空の」メッセージはIKEヘッダーとそれに続く暗号化ペイロードを含まないペイロード）。暗号で保護された（新鮮な、つまり再送信されていない）メッセージが相手側から最近受信された場合、保護されていない通知メッセージは無視される場合があります。実装は、保護されていないメッセージに基づいてアクションを実行する速度を制限する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The number of retries and length of timeouts are not covered in this specification because they do not affect interoperability. It is suggested that messages be retransmitted at least a dozen times over a period of at least several minutes before giving up on an SA, but different environments may require different rules. To be a good network citizen, retransmission times MUST increase exponentially to avoid flooding the network and making an existing congestion situation worse. If there has only been outgoing traffic on all of the SAs associated with an IKE SA, it is essential to confirm liveness of the other endpoint to avoid black holes. If no cryptographically protected messages have been received on an IKE SA or any of its Child SAs recently, the system needs to perform a liveness check in order to prevent sending messages to a dead peer. (This is sometimes called &#34;dead peer detection&#34; or &#34;DPD&#34;, although it is really detecting live peers, not dead ones.) Receipt of a fresh cryptographically protected message on an IKE SA or any of its Child SAs ensures liveness of the IKE SA and all of its Child SAs. Note that this places requirements on the failure modes of an IKE endpoint. An implementation needs to stop sending over any SA if some failure prevents it from receiving on all of the associated SAs. If a system creates Child SAs that can fail independently from one another without the associated IKE SA being able to send a delete message, then the system MUST negotiate such Child SAs using separate IKE SAs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
再試行の回数とタイムアウトの長さは相互運用性に影響を与えないため、この仕様では取り上げません。 SAをあきらめる前に、メッセージを少なくとも数分間にわたって少なくとも12回再送信することをお勧めしますが、環境によっては異なるルールが必要になる場合があります。優れたネットワーク市民になるには、ネットワークのフラッディングと既存の輻輳状況の悪化を回避するために、再送信時間が指数関数的に増加する必要があります。 IKE SAに関連付けられたすべてのSAで発信トラフィックしかなかった場合、ブラックホールを回避するために、他のエンドポイントの活性を確認することが不可欠です。暗号で保護されたメッセージがIKE SAまたはその子SAのいずれかで最近受信されていない場合、システムは、死んだピアへのメッセージの送信を防ぐために活性チェックを実行する必要があります。 （これは、「デッドピア検出」または「DPD」と呼ばれることもありますが、実際にはデッドピアではなく、ライブピアを検出しています。）IKE SAまたはそのいずれかの子SAで新しい暗号で保護されたメッセージを受信すると、IKEの活性が保証されます。 SAおよびそのすべての子SA。これは、IKEエンドポイントの障害モードに要件を課すことに注意してください。何らかの障害が原因で、関連付けられているすべてのSAで受信できない場合は、実装でSAの送信を停止する必要があります。システムが、関連するIKE SAが削除メッセージを送信できない状態で互いに独立して失敗する可能性のある子SAを作成する場合、システムは個別のIKE SAを使用してそのような子SAをネゴシエートする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One type of DoS attack on the initiator of an IKE SA can be avoided if the initiator takes proper care: since the first two messages of an SA setup are not cryptographically protected, an attacker could respond to the initiator&#39;s message before the genuine responder and poison the connection setup attempt. To prevent this, the initiator MAY be willing to accept multiple responses to its first message, treat each response as potentially legitimate, respond to each one, and then discard all the invalid half-open connections when it receives a valid cryptographically protected response to any one of its requests. Once a cryptographically valid response is received, all subsequent responses should be ignored whether or not they are cryptographically valid.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAのイニシエーターに対するDoS攻撃の1つのタイプは、イニシエーターが適切な注意を払えば回避できます。SAセットアップの最初の2つのメッセージは暗号的に保護されていないため、攻撃者は本物のレスポンダーと毒の前にイニシエーターのメッセージに応答できます。接続セットアップの試行。これを防ぐために、イニシエーターは最初のメッセージへの複数の応答を受け入れ、各応答を正当なものとして扱い、それぞれに応答し、暗号化で保護された有効な応答を受信すると、無効なハーフオープン接続をすべて破棄することができます（MAY）。その要求の1つ。暗号的に有効な応答が受信されると、その後のすべての応答は、それらが暗号的に有効であるかどうかに関係なく無視されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that with these rules, there is no reason to negotiate and agree upon an SA lifetime. If IKE presumes the partner is dead, based on repeated lack of acknowledgement to an IKE message, then the IKE SA and all Child SAs set up through that IKE SA are deleted.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらのルールでは、SAの有効期間について交渉して合意する理由はありません。 IKEメッセージへの確認応答の欠如が繰り返されることに基づいて、IKEがパートナーが停止していると推定した場合、IKE SAおよびそのIKE SAを介して設定されたすべての子SAが削除されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE endpoint may at any time delete inactive Child SAs to recover resources used to hold their state. If an IKE endpoint chooses to delete Child SAs, it MUST send Delete payloads to the other end notifying it of the deletion. It MAY similarly time out the IKE SA. Closing the IKE SA implicitly closes all associated Child SAs. In this case, an IKE endpoint SHOULD send a Delete payload indicating that it has closed the IKE SA unless the other endpoint is no longer responding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEエンドポイントは、非アクティブな子SAをいつでも削除して、状態を保持するために使用されたリソースを回復できます。 IKEエンドポイントが子SAを削除することを選択した場合、削除を通知する削除ペイロードを相手側に送信する必要があります。同様に、IKE SAがタイムアウトする場合があります。 IKE SAを閉じると、関連付けられているすべての子SAが暗黙的に閉じられます。この場合、IKEエンドポイントは、他のエンドポイントが応答しなくなっていない限り、IKE SAを閉じたことを示す削除ペイロードを送信する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-5--Version-Numbers-and-Forward-Compatibility">
2.5. Version Numbers and Forward Compatibility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5. バージョン番号と上位互換性
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes version 2.0 of IKE, meaning the major version number is 2 and the minor version number is 0. This document is a replacement for [IKEV2]. It is likely that some implementations will want to support version 1.0 and version 2.0, and in the future, other versions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IKEのバージョン2.0について説明しています。つまり、メジャーバージョン番号は2で、マイナーバージョン番号は0です。このドキュメントは、[IKEV2]の代わりです。一部の実装では、バージョン1.0とバージョン2.0、および将来的には他のバージョンのサポートが必要になる可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The major version number should be incremented only if the packet formats or required actions have changed so dramatically that an older version node would not be able to interoperate with a newer version node if it simply ignored the fields it did not understand and took the actions specified in the older specification. The minor version number indicates new capabilities, and MUST be ignored by a node with a smaller minor version number, but used for informational purposes by the node with the larger minor version number. For example, it might indicate the ability to process a newly defined Notify message type. The node with the larger minor version number would simply note that its correspondent would not be able to understand that message and therefore would not send it.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
メジャーバージョン番号は、パケット形式または必要なアクションが大幅に変更されたため、理解できないフィールドを単に無視して指定されたアクションを実行しただけで、古いバージョンのノードが新しいバージョンのノードと相互運用できない場合にのみ、インクリメントする必要があります。古い仕様では。マイナーバージョン番号は新しい機能を示し、小さいマイナーバージョン番号のノードでは無視される必要がありますが、大きいマイナーバージョン番号のノードでは情報提供の目的で使用されます。たとえば、新しく定義された通知メッセージタイプを処理する機能を示している場合があります。マイナーバージョン番号が大きいノードは、その通信相手がそのメッセージを理解できないため、メッセージを送信しないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an endpoint receives a message with a higher major version number, it MUST drop the message and SHOULD send an unauthenticated Notify message of type INVALID_MAJOR_VERSION containing the highest (closest) version number it supports. If an endpoint supports major version n, and major version m, it MUST support all versions between n and m. If it receives a message with a major version that it supports, it MUST respond with that version number. In order to prevent two nodes from being tricked into corresponding with a lower major version number than the maximum that they both support, IKE has a flag that indicates that the node is capable of speaking a higher major version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エンドポイントがより高いメジャーバージョン番号のメッセージを受信した場合、そのメッセージをドロップし、サポートする最も高い（最も近い）バージョン番号を含む、タイプINVALID_MAJOR_VERSIONの未認証のNotifyメッセージを送信する必要があります（SHOULD）。エンドポイントがメジャーバージョンnおよびメジャーバージョンmをサポートしている場合、nとmの間のすべてのバージョンをサポートする必要があります。サポートするメジャーバージョンのメッセージを受信した場合は、そのバージョン番号で応答する必要があります。 2つのノードがだまされて、両方がサポートする最大よりも小さいメジャーバージョン番号に対応するのを防ぐために、IKEには、ノードがより高いメジャーバージョン番号を読み込めることを示すフラグがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thus, the major version number in the IKE header indicates the version number of the message, not the highest version number that the transmitter supports. If the initiator is capable of speaking versions n, n+1, and n+2, and the responder is capable of speaking versions n and n+1, then they will negotiate speaking n+1, where the initiator will set a flag indicating its ability to speak a higher version. If they mistakenly (perhaps through an active attacker sending error messages) negotiate to version n, then both will notice that the other side can support a higher version number, and they MUST break the connection and reconnect using version n+1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
したがって、IKEヘッダーのメジャーバージョン番号は、メッセージのバージョン番号を示すものであり、トランスミッターがサポートする最大のバージョン番号ではありません。イニシエーターがバージョンn、n + 1、およびn + 2を話すことができ、レスポンダーがバージョンnおよびn + 1を話すことができる場合、それらはn + 1を話すようにネゴシエートし、イニシエーターはフラグを設定しますより高いバージョンを話す能力。誤って（おそらくアクティブな攻撃者がエラーメッセージを送信することにより）バージョンnにネゴシエートすると、どちらも相手側がより高いバージョン番号をサポートできることに気づき、接続を切断してバージョンn + 1を使用して再接続する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that IKEv1 does not follow these rules, because there is no way in v1 of noting that you are capable of speaking a higher version number. So an active attacker can trick two v2-capable nodes into speaking v1. When a v2-capable node negotiates down to v1, it should note that fact in its logs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv1はこれらのルールに従っていないことに注意してください。これは、v1には、より高いバージョン番号を話すことができることを通知する方法がないためです。そのため、アクティブな攻撃者は2つのv2対応ノードをだましてv1を話すように仕向けることができます。 v2対応ノードがv1にネゴシエートするとき、その事実をログに記録する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Also, for forward compatibility, all fields marked RESERVED MUST be set to zero by an implementation running version 2.0, and their content MUST be ignored by an implementation running version 2.0 (&#34;Be conservative in what you send and liberal in what you receive&#34; [IP]). In this way, future versions of the protocol can use those fields in a way that is guaranteed to be ignored by implementations that do not understand them. Similarly, payload types that are not defined are reserved for future use; implementations of a version where they are undefined MUST skip over those payloads and ignore their contents.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
また、上位互換性のために、RESERVEDとマークされたすべてのフィールドは、バージョン2.0を実行している実装によってゼロに設定する必要があり、バージョン2.0を実行している実装によってそれらのコンテンツを無視する必要があります（「送信する内容は慎重に、受信する内容は自由に」 IP]）。このようにして、プロトコルの将来のバージョンでは、それらのフィールドを理解しない実装では無視されることが保証されている方法でこれらのフィールドを使用できます。同様に、定義されていないペイロードタイプは将来の使用のために予約されています。未定義のバージョンの実装は、それらのペイロードをスキップして、その内容を無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2 adds a &#34;critical&#34; flag to each payload header for further flexibility for forward compatibility. If the critical flag is set and the payload type is unrecognized, the message MUST be rejected and the response to the IKE request containing that payload MUST include a Notify payload UNSUPPORTED_CRITICAL_PAYLOAD, indicating an unsupported critical payload was included. In that Notify payload, the Notification Data contains the one-octet payload type. If the critical flag is not set and the payload type is unsupported, that payload MUST be ignored. Payloads sent in IKE response messages MUST NOT have the critical flag set. Note that the critical flag applies only to the payload type, not the contents. If the payload type is recognized, but the payload contains something that is not (such as an unknown transform inside an SA payload, or an unknown Notify Message Type inside a Notify payload), the critical flag is ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2は、各ペイロードヘッダーに「クリティカル」フラグを追加して、上位互換性のための柔軟性をさらに高めます。クリティカルフラグが設定されていて、ペイロードタイプが認識されない場合、メッセージは拒否されなければならず、そのペイロードを含むIKE要求への応答には、サポートされていないクリティカルペイロードが含まれていたことを示す通知ペイロードUNSUPPORTED_CRITICAL_PAYLOADが含まれている必要があります。そのNotifyペイロードでは、通知データに1オクテットのペイロードタイプが含まれています。クリティカルフラグが設定されておらず、ペイロードタイプがサポートされていない場合、そのペイロードは無視する必要があります。 IKE応答メッセージで送信されるペイロードには、クリティカルフラグが設定されていてはなりません（MUST NOT）。クリティカルフラグはペイロードタイプにのみ適用され、コンテンツには適用されないことに注意してください。ペイロードタイプは認識されているが、ペイロードに含まれていないもの（SAペイロード内の不明な変換、またはNotifyペイロード内の不明な通知メッセージタイプなど）が含まれている場合、クリティカルフラグは無視されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although new payload types may be added in the future and may appear interleaved with the fields defined in this specification, implementations SHOULD send the payloads defined in this specification in the order shown in the figures in Sections 1 and 2; implementations MUST NOT reject as invalid a message with those payloads in any other order.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいペイロードタイプは将来追加される可能性があり、この仕様で定義されたフィールドとインターリーブされているように見えるかもしれませんが、実装では、セクション1および2の図に示す順序で、この仕様で定義されたペイロードを送信する必要があります。実装は、これらのペイロードが他の順序であるメッセージを無効として拒否してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-6--IKE-SA-SPIs-and-Cookies">
2.6. IKE SA SPIs and Cookies
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.6. IKE SA SPIおよびCookie
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initial two eight-octet fields in the header, called the &#34;IKE SPIs&#34;, are used as a connection identifier at the beginning of IKE packets. Each endpoint chooses one of the two SPIs and MUST choose them so as to be unique identifiers of an IKE SA. An SPI value of zero is special: it indicates that the remote SPI value is not yet known by the sender.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ヘッダーの最初の2つの8オクテットフィールドは、「IKE SPI」と呼ばれ、IKEパケットの先頭で接続識別子として使用されます。各エンドポイントは2つのSPIの1つを選択し、IKE SAの一意の識別子になるようにそれらを選択する必要があります。ゼロのSPI値は特別です。これは、リモートSPI値が送信者にまだ知られていないことを示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Incoming IKE packets are mapped to an IKE SA only using the packet&#39;s SPI, not using (for example) the source IP address of the packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
着信IKEパケットは、パケットの送信元IPアドレスなどを使用せず、パケットのSPIのみを使用してIKE SAにマッピングされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Unlike ESP and AH where only the recipient&#39;s SPI appears in the header of a message, in IKE the sender&#39;s SPI is also sent in every message. Since the SPI chosen by the original initiator of the IKE SA is always sent first, an endpoint with multiple IKE SAs open that wants to find the appropriate IKE SA using the SPI it assigned must look at the Initiator flag in the header to determine whether it assigned the first or the second eight octets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
受信者のSPIのみがメッセージのヘッダーに表示されるESPやAHとは異なり、IKEでは送信者のSPIもすべてのメッセージで送信されます。 IKE SAの元のイニシエーターによって選択されたSPIは常に最初に送信されるため、割り当てられたSPIを使用して適切なIKE SAを見つけたい複数のIKE SAが開いているエンドポイントは、ヘッダーのイニシエーターフラグを調べて、最初または2番目の8オクテットを割り当てた。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the first message of an initial IKE exchange, the initiator will not know the responder&#39;s SPI value and will therefore set that field to zero. When the IKE_SA_INIT exchange does not result in the creation of an IKE SA due to INVALID_KE_PAYLOAD, NO_PROPOSAL_CHOSEN, or COOKIE, the responder&#39;s SPI will be zero also in the response message. However, if the responder sends a non-zero responder SPI, the initiator should not reject the response for only that reason.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
初期IKE交換の最初のメッセージでは、イニシエーターはレスポンダーのSPI値を認識しないため、そのフィールドをゼロに設定します。 INVALID_KE_PAYLOAD、NO_PROPOSAL_CHOSEN、またはCOOKIEにより、IKE_SA_INIT交換でIKE SAが作成されない場合、レスポンダーのSPIは応答メッセージでもゼロになります。ただし、レスポンダがゼロ以外のレスポンダSPIを送信する場合、イニシエータはその理由だけで応答を拒否するべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Two expected attacks against IKE are state and CPU exhaustion, where the target is flooded with session initiation requests from forged IP addresses. These attacks can be made less effective if a responder uses minimal CPU and commits no state to an SA until it knows the initiator can receive packets at the address from which it claims to be sending them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEに対する2つの予想される攻撃は、状態とCPUの枯渇です。この場合、偽造されたIPアドレスからのセッション開始要求でターゲットがフラッディングされます。これらの攻撃は、レスポンダーが最小限のCPUを使用し、イニシエーターが送信元であると主張するアドレスでパケットを受信できることがわかるまでSAに状態をコミットしない場合、効果が低下する可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a responder detects a large number of half-open IKE SAs, it SHOULD reply to IKE_SA_INIT requests with a response containing the COOKIE notification. The data associated with this notification MUST be between 1 and 64 octets in length (inclusive), and its generation is described later in this section. If the IKE_SA_INIT response includes the COOKIE notification, the initiator MUST then retry the IKE_SA_INIT request, and include the COOKIE notification containing the received data as the first payload, and all other payloads unchanged. The initial exchange will then be as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダが多数のハーフオープンIKE SAを検出すると、COOKIE通知を含む応答でIKE_SA_INIT要求に応答する必要があります（SHOULD）。この通知に関連するデータは、長さが1〜64オクテット（両端を含む）である必要があり、その生成については、このセクションで後述します。 IKE_SA_INIT応答にCOOKIE通知が含まれている場合、イニシエーターはIKE_SA_INIT要求を再試行し、最初のペイロードとして受信したデータを含むCOOKIE通知を含めなければならず、他のすべてのペイロードは変更されません。初期交換は次のようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR(A,0), SAi1, KEi, Ni  --&gt;
                                &lt;--  HDR(A,0), N(COOKIE)
   HDR(A,0), N(COOKIE), SAi1,
       KEi, Ni  --&gt;
                                &lt;--  HDR(A,B), SAr1, KEr,
                                         Nr, [CERTREQ]
   HDR(A,B), SK {IDi, [CERT,]
       [CERTREQ,] [IDr,] AUTH,
       SAi2, TSi, TSr}  --&gt;
                                &lt;--  HDR(A,B), SK {IDr, [CERT,]
                                         AUTH, SAr2, TSi, TSr}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first two messages do not affect any initiator or responder state except for communicating the cookie. In particular, the message sequence numbers in the first four messages will all be zero and the message sequence numbers in the last two messages will be one. &#39;A&#39; is the SPI assigned by the initiator, while &#39;B&#39; is the SPI assigned by the responder.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初の2つのメッセージは、Cookieの通信を除いて、イニシエーターまたはレスポンダーの状態には影響しません。特に、最初の4つのメッセージのメッセージシーケンス番号はすべて0になり、最後の2つのメッセージのメッセージシーケンス番号は1になります。 「A」はイニシエーターによって割り当てられたSPI、「B」はレスポンダーによって割り当てられたSPIです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE implementation can implement its responder cookie generation in such a way as to not require any saved state to recognize its valid cookie when the second IKE_SA_INIT message arrives. The exact algorithms and syntax used to generate cookies do not affect interoperability and hence are not specified here. The following is an example of how an endpoint could use cookies to implement limited DoS protection.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE実装は、2番目のIKE_SA_INITメッセージが到着したときに有効なCookieを認識するために保存された状態を必要としないように、レスポンダCookie生成を実装できます。 Cookieの生成に使用される正確なアルゴリズムと構文は相互運用性に影響しないため、ここでは指定しません。以下は、エンドポイントがCookieを使用して制限されたDoS保護を実装する方法の例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A good way to do this is to set the responder cookie to be:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これを行う良い方法は、レスポンダーCookieを次のように設定することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Cookie = &lt;VersionIDofSecret&gt; | Hash(Ni | IPi | SPIi | &lt;secret&gt;)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 where &lt;secret&gt; is a randomly generated secret known only to the responder and periodically changed and | indicates concatenation. &lt;VersionIDofSecret&gt; should be changed whenever &lt;secret&gt; is regenerated. The cookie can be recomputed when the IKE_SA_INIT arrives the second time and compared to the cookie in the received message. If it matches, the responder knows that the cookie was generated since the last change to &lt;secret&gt; and that IPi must be the same as the source address it saw the first time. Incorporating SPIi into the calculation ensures that if multiple IKE SAs are being set up in parallel they will all get different cookies (assuming the initiator chooses unique SPIi&#39;s). Incorporating Ni in the hash ensures that an attacker who sees only message 2 can&#39;t successfully forge a message 3. Also, incorporating SPIi in the hash prevents an attacker from fetching one cookie from the other end, and then initiating many IKE_SA_INIT exchanges all with different initiator SPIs (and perhaps port numbers) so that the responder thinks that there are a lot of machines behind one NAT box that are all trying to connect.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
ここで、&lt;secret&gt;はランダムに生成されたシークレットであり、レスポンダだけが知っており、定期的に変更されます。連結を示します。 &lt;secret&gt;が再生成されるたびに、&lt;VersionIDofSecret&gt;を変更する必要があります。 Cookieは、IKE_SA_INITが2回目に到着したときに再計算され、受信メッセージのCookieと比較されます。一致する場合、レスポンダは、&lt;secret&gt;への最後の変更以降にCookieが生成されたこと、およびIPiが最初に確認したソースアドレスと同じである必要があることを認識しています。 SPIiを計算に組み込むことにより、複数のIKE SAが並行してセットアップされている場合、それらすべてが異なるCookieを取得することが保証されます（イニシエーターが固有のSPIiを選択すると想定）。ハッシュにNiを組み込むことで、メッセージ2のみを表示する攻撃者がメッセージ3を正常に偽造できないようにします。また、ハッシュにSPIiを組み込むことで、攻撃者が一方のCookieをもう一方の端からフェッチして、多くのIKE_SA_INIT交換を開始することを防ぎます。異なるイニシエーターSPI（およびおそらくポート番号）。これにより、レスポンダーは、1つのNATボックスの背後に、すべて接続しようとしているマシンがたくさんあると考えます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a new value for &lt;secret&gt; is chosen while there are connections in the process of being initialized, an IKE_SA_INIT might be returned with other than the current &lt;VersionIDofSecret&gt;. The responder in that case MAY reject the message by sending another response with a new cookie or it MAY keep the old value of &lt;secret&gt; around for a short time and accept cookies computed from either one. The responder should not accept cookies indefinitely after &lt;secret&gt; is changed, since that would defeat part of the DoS protection. The responder should change the value of &lt;secret&gt; frequently, especially if under attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
初期化の処理中の接続がある間に&lt;secret&gt;の新しい値が選択されると、現在の&lt;VersionIDofSecret&gt;以外のIKE_SA_INITが返される場合があります。その場合のレスポンダは、新しいCookieを使用して別の応答を送信することによりメッセージを拒否するか、または&lt;secret&gt;の古い値をしばらく保持し、いずれかから計算されたCookieを受け入れる場合があります。 &lt;secret&gt;が変更された後、レスポンダはCookieを無期限に受け入れないでください。DoS保護の一部を無効にするためです。特に攻撃を受けている場合、レスポンダは&lt;secret&gt;の値を頻繁に変更する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When one party receives an IKE_SA_INIT request containing a cookie whose contents do not match the value expected, that party MUST ignore the cookie and process the message as if no cookie had been included; usually this means sending a response containing a new cookie. The initiator should limit the number of cookie exchanges it tries before giving up, possibly using exponential back-off. An attacker can forge multiple cookie responses to the initiator&#39;s IKE_SA_INIT message, and each of those forged cookie replies will cause two packets to be sent: one packet from the initiator to the responder (which will reject those cookies), and one response from responder to initiator that includes the correct cookie.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ある当事者が、内容が期待される値と一致しないCookieを含むIKE_SA_INIT要求を受信した場合、その当事者はCookieを無視し、Cookieが含まれていないかのようにメッセージを処理する必要があります。通常、これは新しいCookieを含む応答を送信することを意味します。イニシエーターは、指数バックオフを使用して、あきらめる前に試行するCookie交換の数を制限する必要があります。攻撃者はイニシエーターのIKE_SA_INITメッセージへの複数のCookie応答を偽造でき、偽造されたそれらのCookie応答ごとに2つのパケットが送信されます。正しいcookieを含むイニシエーター。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A note on terminology: the term &#34;cookies&#34; originates with Karn and Simpson [PHOTURIS] in Photuris, an early proposal for key management with IPsec, and it has persisted. The Internet Security Association and Key Management Protocol (ISAKMP) [ISAKMP] fixed message header includes two eight-octet fields called &#34;cookies&#34;, and that syntax is used by both IKEv1 and IKEv2, although in IKEv2 they are referred to as the &#34;IKE SPI&#34; and there is a new separate field in a Notify payload holding the cookie.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
用語に関する注記：「クッキー」という用語は、IPsecによる鍵管理の初期の提案であるPhoturisのKarn and Simpson [PHOTURIS]に由来し、現在も存続しています。インターネットセキュリティアソシエーションおよびキー管理プロトコル（ISAKMP）[ISAKMP]固定メッセージヘッダーには、「クッキー」と呼ばれる2つの8オクテットフィールドが含まれ、その構文はIKEv1とIKEv2の両方で使用されますが、IKEv2では「IKE」と呼ばれます。 SPI」、およびCookieを保持するNotifyペイロードに新しい個別のフィールドがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-6-1--Interaction-of-COOKIE-and-INVALIDKEPAYLOAD">
2.6.1. Interaction of COOKIE and INVALID_KE_PAYLOAD
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.6.1. COOKIEとINVALID_KE_PAYLOADの相互作用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are two common reasons why the initiator may have to retry the IKE_SA_INIT exchange: the responder requests a cookie or wants a different Diffie-Hellman group than was included in the KEi payload. If the initiator receives a cookie from the responder, the initiator needs to decide whether or not to include the cookie in only the next retry of the IKE_SA_INIT request, or in all subsequent retries as well.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターがIKE_SA_INIT交換を再試行しなければならない一般的な理由は2つあります。レスポンダーがCookieを要求するか、KEiペイロードに含まれていたものとは異なるDiffie-Hellmanグループを必要とします。イニシエーターがレスポンダーからCookieを受信した場合、イニシエーターはIKE_SA_INIT要求の次の再試行のみに、または後続のすべての再試行にもCookieを含めるかどうかを決定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the initiator includes the cookie only in the next retry, one additional round trip may be needed in some cases. An additional round trip is needed also if the initiator includes the cookie in all retries, but the responder does not support this. For instance, if the responder includes the KEi payloads in cookie calculation, it will reject the request by sending a new cookie.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターが次の再試行時にのみCookieを含める場合、場合によっては、さらに1回の往復が必要になることがあります。イニシエーターがすべての再試行にCookieを含めたが、レスポンダーがこれをサポートしていない場合も、追加のラウンドトリップが必要です。たとえば、レスポンダがKEiペイロードをCookieの計算に含めると、新しいCookieを送信してリクエストを拒否します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If both peers support including the cookie in all retries, a slightly shorter exchange can happen.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
両方のピアがすべての再試行にCookieを含めることをサポートしている場合、わずかに短い交換が発生する可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                   Responder
   -----------------------------------------------------------
   HDR(A,0), SAi1, KEi, Ni --&gt;
                           &lt;-- HDR(A,0), N(COOKIE)
   HDR(A,0), N(COOKIE), SAi1, KEi, Ni  --&gt;
                           &lt;-- HDR(A,0), N(INVALID_KE_PAYLOAD)
   HDR(A,0), N(COOKIE), SAi1, KEi&#39;, Ni --&gt;
                           &lt;-- HDR(A,B), SAr1, KEr, Nr
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Implementations SHOULD support this shorter exchange, but MUST NOT fail if other implementations do not support this shorter exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
実装はこの短い交換をサポートする必要がありますが、他の実装がこの短い交換をサポートしていない場合でも失敗してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-7--Cryptographic-Algorithm-Negotiation">
2.7. Cryptographic Algorithm Negotiation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.7. 暗号アルゴリズム交渉
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type known as &#34;SA&#34; indicates a proposal for a set of choices of IPsec protocols (IKE, ESP, or AH) for the SA as well as cryptographic algorithms associated with each protocol.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「SA」と呼ばれるペイロードタイプは、SAのIPsecプロトコル（IKE、ESP、またはAH）の一連の選択肢の提案と、各プロトコルに関連付けられた暗号化アルゴリズムを示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An SA payload consists of one or more proposals. Each proposal includes one protocol. Each protocol contains one or more transforms -- each specifying a cryptographic algorithm. Each transform contains zero or more attributes (attributes are needed only if the Transform ID does not completely specify the cryptographic algorithm).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAペイロードは、1つ以上の提案で構成されています。各提案には1つのプロトコルが含まれています。各プロトコルには、1つ以上の変換が含まれています。それぞれが暗号アルゴリズムを指定しています。各変換には、0個以上の属性が含まれます（属性は、変換IDが暗号化アルゴリズムを完全に指定していない場合にのみ必要です）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This hierarchical structure was designed to efficiently encode proposals for cryptographic suites when the number of supported suites is large because multiple values are acceptable for multiple transforms. The responder MUST choose a single suite, which may be any subset of the SA proposal following the rules below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この階層構造は、サポートされているスイートの数が多い場合に暗号スイートの提案を効率的にエンコードするように設計されています。これは、複数の変換で複数の値が受け入れられるためです。レスポンダは単一のスイートを選択する必要があります。これは、以下のルールに従うSA提案の任意のサブセットである可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each proposal contains one protocol. If a proposal is accepted, the SA response MUST contain the same protocol. The responder MUST accept a single proposal or reject them all and return an error. The error is given in a notification of type NO_PROPOSAL_CHOSEN.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各提案には1つのプロトコルが含まれています。プロポーザルが受け入れられる場合、SA応答には同じプロトコルが含まれている必要があります。レスポンダは、単一の提案を受け入れるか、それらすべてを拒否してエラーを返す必要があります。エラーは、タイプNO_PROPOSAL_CHOSENの通知で示されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each IPsec protocol proposal contains one or more transforms. Each transform contains a Transform Type. The accepted cryptographic suite MUST contain exactly one transform of each type included in the proposal. For example: if an ESP proposal includes transforms ENCR_3DES, ENCR_AES w/keysize 128, ENCR_AES w/keysize 256, AUTH_HMAC_MD5, and AUTH_HMAC_SHA, the accepted suite MUST contain one of the ENCR_ transforms and one of the AUTH_ transforms. Thus, six combinations are acceptable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各IPsecプロトコルの提案には、1つ以上の変換が含まれています。各変換には、変換タイプが含まれています。承認された暗号スイートには、提案に含まれる各タイプの変換を1つだけ含める必要があります。例：ESPプロポーザルにトランスフォームENCR_3DES、ENCR_AES w / keysize 128、ENCR_AES w / keysize 256、AUTH_HMAC_MD5、およびAUTH_HMAC_SHAが含まれている場合、承認されたスイートにはENCR_トランスフォームの1つとAUTH_トランスフォームの1つが含まれている必要があります。したがって、6つの組み合わせが許容されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an initiator proposes both normal ciphers with integrity protection as well as combined-mode ciphers, then two proposals are needed. One of the proposals includes the normal ciphers with the integrity algorithms for them, and the other proposal includes all the combined-mode ciphers without the integrity algorithms (because combined-mode ciphers are not allowed to have any integrity algorithm other than &#34;NONE&#34;).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターが整合性保護を備えた通常の暗号と複合モード暗号の両方を提案する場合、2つの提案が必要です。提案の1つには、整合性アルゴリズムを備えた通常の暗号が含まれており、もう1つの提案には、整合性アルゴリズムなしのすべての複合モード暗号が含まれています（「複合モード暗号は、「NONE」以外の整合性アルゴリズムを許可されていないため）。 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-8--Rekeying">
2.8. Rekeying
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.8. 鍵の再生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE, ESP, and AH Security Associations use secret keys that should be used only for a limited amount of time and to protect a limited amount of data. This limits the lifetime of the entire Security Association. When the lifetime of a Security Association expires, the Security Association MUST NOT be used. If there is demand, new Security Associations MAY be established. Reestablishment of Security Associations to take the place of ones that expire is referred to as &#34;rekeying&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE、ESP、およびAHのセキュリティアソシエーションは、限られた時間だけ使用し、限られた量のデータを保護するために使用する必要がある秘密鍵を使用します。これにより、セキュリティアソシエーション全体の寿命が制限されます。セキュリティアソシエーションの有効期限が切れると、セキュリティアソシエーションを使用してはなりません（MUST NOT）。需要があれば、新しいセキュリティアソシエーションが設立されるかもしれません。期限切れになったセキュリティアソシエーションの代わりとなるセキュリティアソシエーションの再確立は、「キーの再生成」と呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To allow for minimal IPsec implementations, the ability to rekey SAs without restarting the entire IKE SA is optional. An implementation MAY refuse all CREATE_CHILD_SA requests within an IKE SA. If an SA has expired or is about to expire and rekeying attempts using the mechanisms described here fail, an implementation MUST close the IKE SA and any associated Child SAs and then MAY start new ones. Implementations may wish to support in-place rekeying of SAs, since doing so offers better performance and is likely to reduce the number of packets lost during the transition.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最小限のIPsec実装を可能にするために、IKE SA全体を再起動せずにSAを再生成する機能はオプションです。実装は、IKE SA内のすべてのCREATE_CHILD_SA要求を拒否してもよい（MAY）。 SAの有効期限が切れているか、まもなく切れて、ここで説明するメカニズムを使用した鍵の再作成が失敗した場合、実装はIKE SAと関連するすべての子SAを閉じてから、新しいSAを開始する必要があります。 SAのインプレースキー更新をサポートすると、パフォーマンスが向上し、移行中に失われるパケット数が減少する可能性があるため、実装ではサポートが必要になる場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To rekey a Child SA within an existing IKE SA, create a new, equivalent SA (see Section 2.17 below), and when the new one is established, delete the old one. Note that, when rekeying, the new Child SA SHOULD NOT have different Traffic Selectors and algorithms than the old one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
既存のIKE SA内の子SAのキーを再設定するには、同等の新しいSAを作成し（セクション2.17を参照）、新しいSAが確立されたら、古いSAを削除します。キーを再生成する場合、新しい子SAは古いものとは異なるトラフィックセレクターとアルゴリズムを使用してはならないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To rekey an IKE SA, establish a new equivalent IKE SA (see Section 2.18 below) with the peer to whom the old IKE SA is shared using a CREATE_CHILD_SA within the existing IKE SA. An IKE SA so created inherits all of the original IKE SA&#39;s Child SAs, and the new IKE SA is used for all control messages needed to maintain those Child SAs. After the new equivalent IKE SA is created, the initiator deletes the old IKE SA, and the Delete payload to delete itself MUST be the last request sent over the old IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAのキーを再生成するには、既存のIKE SA内のCREATE_CHILD_SAを使用して、古いIKE SAが共有されているピアと同等の新しいIKE SA（以下のセクション2.18を参照）を確立します。このように作成されたIKE SAは、元のIKE SAの子SAをすべて継承し、新しいIKE SAは、それらの子SAを維持するために必要なすべての制御メッセージに使用されます。新しい同等のIKE SAが作成された後、イニシエーターは古いIKE SAを削除し、それ自体を削除するための削除ペイロードは、古いIKE SA経由で送信された最後の要求でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAs should be rekeyed proactively, i.e., the new SA should be established before the old one expires and becomes unusable. Enough time should elapse between the time the new SA is established and the old one becomes unusable so that traffic can be switched over to the new SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAは事前にキーを再生成する必要があります。つまり、古いSAの有効期限が切れて使用できなくなる前に、新しいSAを確立する必要があります。新しいSAが確立されてから古いSAが使用できなくなるまでに十分な時間が経過するため、トラフィックを新しいSAに切り替えることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A difference between IKEv1 and IKEv2 is that in IKEv1 SA lifetimes were negotiated. In IKEv2, each end of the SA is responsible for enforcing its own lifetime policy on the SA and rekeying the SA when necessary. If the two ends have different lifetime policies, the end with the shorter lifetime will end up always being the one to request the rekeying. If an SA has been inactive for a long time and if an endpoint would not initiate the SA in the absence of traffic, the endpoint MAY choose to close the SA instead of rekeying it when its lifetime expires. It can also do so if there has been no traffic since the last time the SA was rekeyed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv1とIKEv2の違いは、IKEv1ではSAライフタイムがネゴシエートされたことです。 IKEv2では、SAの両端が独自のライフタイムポリシーをSAに適用し、必要に応じてSAのキーを再生成します。両端のライフタイムポリシーが異なる場合、ライフタイムが短い方の端が常に鍵の再生成を要求するものになります。 SAが長期間非アクティブであり、トラフィックがない場合にエンドポイントがSAを開始しない場合、エンドポイントは、ライフタイムの期限が切れたときにSAを再キー化する代わりにSAを閉じることを選択できます（MAY）。前回SAの鍵が再設定されてからトラフィックがなかった場合にも、これを行うことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that IKEv2 deliberately allows parallel SAs with the same Traffic Selectors between common endpoints. One of the purposes of this is to support traffic quality of service (QoS) differences among the SAs (see [DIFFSERVFIELD], [DIFFSERVARCH], and Section 4.1 of [DIFFTUNNEL]). Hence unlike IKEv1, the combination of the endpoints and the Traffic Selectors may not uniquely identify an SA between those endpoints, so the IKEv1 rekeying heuristic of deleting SAs on the basis of duplicate Traffic Selectors SHOULD NOT be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2では、意図的に、共通のエンドポイント間で同じトラフィックセレクターを持つ並列SAを許可しています。これの目的の1つは、SA間のトラフィックのサービス品質（QoS）の違いをサポートすることです（[DIFFSERVFIELD]、[DIFFSERVARCH]、および[DIFFTUNNEL]のセクション4.1を参照）。したがって、IKEv1とは異なり、エンドポイントとトラフィックセレクターの組み合わせは、それらのエンドポイント間のSAを一意に識別できない可能性があるため、重複するトラフィックセレクターに基づいてSAを削除するIKEv1キー再生成ヒューリスティックは使用しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 There are timing windows -- particularly in the presence of lost packets -- where endpoints may not agree on the state of an SA. The responder to a CREATE_CHILD_SA MUST be prepared to accept messages on an SA before sending its response to the creation request, so there is no ambiguity for the initiator. The initiator MAY begin sending on an SA as soon as it processes the response. The initiator, however, cannot receive on a newly created SA until it receives and processes the response to its CREATE_CHILD_SA request. How, then, is the responder to know when it is OK to send on the newly created SA?
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
エンドポイントがSAの状態に同意しない可能性のあるタイミングウィンドウがあります（特に、失われたパケットがある場合）。 CREATE_CHILD_SAへの応答側は、作成要求への応答を送信する前に、SA上のメッセージを受け入れる準備ができていなければなりません。イニシエーターは、応答を処理するとすぐにSAでの送信を開始する場合があります。ただし、イニシエーターは、CREATE_CHILD_SA要求への応答を受信して​​処理するまで、新しく作成されたSAを受信できません。では、レスポンダは、新しく作成されたSAで送信してもよいことをどのようにして知るのでしょうか。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
From a technical correctness and interoperability perspective, the responder MAY begin sending on an SA as soon as it sends its response to the CREATE_CHILD_SA request. In some situations, however, this could result in packets unnecessarily being dropped, so an implementation MAY defer such sending.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
技術的な正確性と相互運用性の観点から、レスポンダは、CREATE_CHILD_SAリクエストへの応答を送信するとすぐに、SAで送信を開始する場合があります。ただし、状況によっては、パケットが不必要にドロップされる可能性があるため、実装はそのような送信を延期する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder can be assured that the initiator is prepared to receive messages on an SA if either (1) it has received a cryptographically valid message on the other half of the SA pair, or (2) the new SA rekeys an existing SA and it receives an IKE request to close the replaced SA. When rekeying an SA, the responder continues to send traffic on the old SA until one of those events occurs. When establishing a new SA, the responder MAY defer sending messages on a new SA until either it receives one or a timeout has occurred. If an initiator receives a message on an SA for which it has not received a response to its CREATE_CHILD_SA request, it interprets that as a likely packet loss and retransmits the CREATE_CHILD_SA request. An initiator MAY send a dummy ESP message on a newly created ESP SA if it has no messages queued in order to assure the responder that the initiator is ready to receive messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダは、（1）SAペアのもう一方の半分で暗号的に有効なメッセージを受信した場合、または（2）新しいSAが既存のSAとそのキーを再生成した場合に、SAでメッセージを受信する準備ができていることを保証できます。置き換えられたSAを閉じるためのIKE要求を受け取ります。 SAのキーを再生成すると、レスポンダは、これらのイベントの1つが発生するまで、古いSAでトラフィックを送信し続けます。新しいSAを確立するとき、レスポンダは、それを受信するか、タイムアウトが発生するまで、新しいSAでのメッセージの送信を延期できます（MAY）。イニシエーターがCREATE_CHILD_SA要求への応答を受信して​​いないSAでメッセージを受信した場合、イニシエーターはそれをパケット損失の可能性があると解釈し、CREATE_CHILD_SA要求を再送信します。イニシエータがメッセージを受信する準備ができていることをレスポンダに保証するためにキューにメッセージがキューにない場合、イニシエータは新しく作成されたESP SAにダミーのESPメッセージを送信してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-8-1--Simultaneous-Child-SA-Rekeying">
2.8.1. Simultaneous Child SA Rekeying
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.8.1. 子供のSAの同時更新
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the two ends have the same lifetime policies, it is possible that both will initiate a rekeying at the same time (which will result in redundant SAs). To reduce the probability of this happening, the timing of rekeying requests SHOULD be jittered (delayed by a random amount of time after the need for rekeying is noticed).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2つの端のライフタイムポリシーが同じである場合、両方が同時に鍵の再生成を開始する可能性があります（これにより、SAが冗長になります）。これが発生する可能性を減らすために、鍵の再生成リクエストのタイミングは揺らがれる必要があります（再生成の必要性が通知された後、ランダムな時間遅れます）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This form of rekeying may temporarily result in multiple similar SAs between the same pairs of nodes. When there are two SAs eligible to receive packets, a node MUST accept incoming packets through either SA. If redundant SAs are created through such a collision, the SA created with the lowest of the four nonces used in the two exchanges SHOULD be closed by the endpoint that created it. &#34;Lowest&#34; means an octet-by-octet comparison (instead of, for instance, comparing the nonces as large integers). In other words, start by comparing the first octet; if they&#39;re equal, move to the next octet, and so on. If you reach the end of one nonce, that nonce is the lower one. The node that initiated the surviving rekeyed SA should delete the replaced SA after the new one is established.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この形式のキー再生成により、同じノードのペア間に一時的に複数の類似したSAが生じる可能性があります。パケットの受信に適格なSAが2つある場合、ノードはいずれかのSAを通じて着信パケットを受け入れる必要があります。そのような衝突によって冗長なSAが作成された場合、2つの交換で使用される4つのノンスのうち最も低いもので作成されたSAは、それを作成したエンドポイントによって閉じられる必要があります。 「最低」とは、オクテットごとの比較を意味します（たとえば、ナンスを大きな整数として比較するのではなく）。つまり、最初のオクテットを比較することから始めます。等しい場合は、次のオクテットに移動します。 1つのノンスの終わりに到達した場合、そのノンスは下位のノンスです。再キーイングされたSAを開始したノードは、新しいSAが確立された後で、置き換えられたSAを削除する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following is an explanation on the impact this has on implementations. Assume that hosts A and B have an existing Child SA pair with SPIs (SPIa1,SPIb1), and both start rekeying it at the same time:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下は、これが実装に与える影響についての説明です。ホストAとホストBにSPI（SPIa1、SPIb1）を持つ既存の子SAペアがあり、両方が同時にキーの再生成を開始するとします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Host A                            Host B
   -------------------------------------------------------------------
   send req1: N(REKEY_SA,SPIa1),
       SA(..,SPIa2,..),Ni1,..  --&gt;
                                &lt;--  send req2: N(REKEY_SA,SPIb1),
                                         SA(..,SPIb2,..),Ni2
   recv req2 &lt;--
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At this point, A knows there is a simultaneous rekeying happening. However, it cannot yet know which of the exchanges will have the lowest nonce, so it will just note the situation and respond as usual.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この時点で、Aは同時にキーの再生成が行われていることを認識しています。ただし、どの交換がナンスが最も低いかはまだわからないため、状況を記録し、通常どおりに応答します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   send resp2: SA(..,SPIa3,..),
        Nr1,..  --&gt;
                                --&gt;  recv req1
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Now B also knows that simultaneous rekeying is going on. It responds as usual.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これでBは、同時鍵更新が行われていることも知っています。通常通り対応します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                               &lt;--  send resp1: SA(..,SPIb3,..),
                                        Nr2,..
   recv resp1 &lt;--
                               --&gt;  recv resp2
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At this point, there are three Child SA pairs between A and B (the old one and two new ones). A and B can now compare the nonces. Suppose that the lowest nonce was Nr1 in message resp2; in this case, B (the sender of req2) deletes the redundant new SA, and A (the node that initiated the surviving rekeyed SA), deletes the old one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この時点で、AとBの間に3つの子SAペアがあります（古いペアと2つの新しいペア）。 AとBはナンスを比較できるようになりました。最も低いnonceがメッセージresp2のNr1であったとします。この場合、B（req2の送信側）が冗長な新しいSAを削除し、A（キーの再生成されたSAを開始したノード）が古いSAを削除します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   send req3: D(SPIa1) --&gt;
                                &lt;--  send req4: D(SPIb2)
                                --&gt;  recv req3
                                &lt;--  send resp3: D(SPIb1)
   recv req4 &lt;--
   send resp4: D(SPIa3) --&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The rekeying is now finished.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これで鍵の更新が完了しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
However, there is a second possible sequence of events that can happen if some packets are lost in the network, resulting in retransmissions. The rekeying begins as usual, but A&#39;s first packet (req1) is lost.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ただし、ネットワークで一部のパケットが失われ、再送信が発生した場合に発生する可能性のあるイベントの2番目のシーケンスがあります。キーの再生成は通常どおり開始されますが、Aの最初のパケット（req1）は失われます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Host A                            Host B
   -------------------------------------------------------------------
   send req1: N(REKEY_SA,SPIa1),
       SA(..,SPIa2,..),
       Ni1,..  --&gt;  (lost)
                                &lt;--  send req2: N(REKEY_SA,SPIb1),
                                         SA(..,SPIb2,..),Ni2
   recv req2 &lt;--
   send resp2: SA(..,SPIa3,..),
       Nr1,.. --&gt;
                                --&gt;  recv resp2
                                &lt;--  send req3: D(SPIb1)
   recv req3 &lt;--
   send resp3: D(SPIa1) --&gt;
                                --&gt;  recv resp3
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
From B&#39;s point of view, the rekeying is now completed, and since it has not yet received A&#39;s req1, it does not even know that there was simultaneous rekeying. However, A will continue retransmitting the message, and eventually it will reach B.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Bの観点からは、キーの再生成はこれで完了し、Aのreq1をまだ受け取っていないため、同時のキー再生成があったことさえわかりません。ただし、Aはメッセージを再送信し続け、最終的にはBに到達します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   resend req1 --&gt;
                                --&gt;  recv req1
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To B, it looks like A is trying to rekey an SA that no longer exists; thus, B responds to the request with something non-fatal such as CHILD_SA_NOT_FOUND.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Bにとって、Aはもう存在しないSAの鍵を再設定しようとしているようです。したがって、Bは、CHILD_SA_NOT_FOUNDなどの致命的でない何かで要求に応答します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                                &lt;--  send resp1: N(CHILD_SA_NOT_FOUND)
   recv resp1 &lt;--
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When A receives this error, it already knows there was simultaneous rekeying, so it can ignore the error message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Aがこのエラーを受信した場合、Aは同時にキーの再生成があったことをすでに認識しているため、エラーメッセージを無視できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-8-2--Simultaneous-IKE-SA-Rekeying">
2.8.2. Simultaneous IKE SA Rekeying
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.8.2. IKE SAの同時更新
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Probably the most complex case occurs when both peers try to rekey the IKE_SA at the same time. Basically, the text in Section 2.8 applies to this case as well; however, it is important to ensure that the Child SAs are inherited by the correct IKE_SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
おそらく、最も複雑なケースは、両方のピアがIKE_SAを同時にキー再生成しようとしたときに発生します。基本的に、セクション2.8のテキストはこの場合にも適用されます。ただし、子SAが正しいIKE_SAによって確実に継承されるようにすることが重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The case where both endpoints notice the simultaneous rekeying works the same way as with Child SAs. After the CREATE_CHILD_SA exchanges, three IKE SAs exist between A and B: the old IKE SA and two new IKE SAs. The new IKE SA containing the lowest nonce SHOULD be deleted by the node that created it, and the other surviving new IKE SA MUST inherit all the Child SAs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
両方のエンドポイントが同時のキー更新に気付く場合は、子SAと同じように機能します。 CREATE_CHILD_SAの交換後、AとBの間に3つのIKE SAが存在します。古いIKE SAと2つの新しいIKE SAです。最も低いノンスを含む新しいIKE SAは、それを作成したノードによって削除されるべきであり（SHOULD）、残りの新しいIKE SAはすべての子SAを継承しなければなりません（MUST）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to normal simultaneous rekeying cases, there is a special case where one peer finishes its rekey before it even notices that other peer is doing a rekey. If only one peer detects a simultaneous rekey, redundant SAs are not created. In this case, when the peer that did not notice the simultaneous rekey gets the request to rekey the IKE SA that it has already successfully rekeyed, it SHOULD return TEMPORARY_FAILURE because it is an IKE SA that it is currently trying to close (whether or not it has already sent the delete notification for the SA). If the peer that did notice the simultaneous rekey gets the delete request from the other peer for the old IKE SA, it knows that the other peer did not detect the simultaneous rekey, and the first peer can forget its own rekey attempt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通常の同時キー更新のケースに加えて、他のピアがキー更新を行っていることに気付く前に、1つのピアがキー更新を完了するという特別なケースがあります。 1つのピアのみが同時キー更新を検出した場合、冗長SAは作成されません。この場合、同時キー更新に気付かなかったピアが、すでにキー再生成に成功したIKE SAのキー再生成要求を受け取ると、現在閉じようとしているIKE SAであるため、TEMPORARY_FAILUREを返す必要があります（SHOULDかどうか）。 SAの削除通知はすでに送信されています）。同時キー再生成に気付いたピアが、古いIKE SAに対して他のピアから削除要求を受け取った場合、他のピアが同時キー再生成を検出しなかったことを認識し、最初のピアが独自のキー再生成の試行を忘れることがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Host A                      Host B
   -------------------------------------------------------------------
   send req1:
        SA(..,SPIa1,..),Ni1,.. --&gt;
                             &lt;-- send req2: SA(..,SPIb1,..),Ni2,..
                             --&gt; recv req1
                             &lt;-- send resp1: SA(..,SPIb2,..),Nr2,..
   recv resp1 &lt;--
   send req3: D() --&gt;
                             --&gt; recv req3
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At this point, host B sees a request to close the IKE_SA. There&#39;s not much more to do than to reply as usual. However, at this point host B should stop retransmitting req2, since once host A receives resp3, it will delete all the state associated with the old IKE_SA and will not be able to reply to it.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この時点で、ホストBはIKE_SAを閉じる要求を確認します。いつものように返事をするだけです。ただし、この時点でホストBはreq2の再送信を停止する必要があります。ホストAがresp3を受信すると、古いIKE_SAに関連付けられているすべての状態が削除され、それに応答できなくなるためです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-29">
&lt;-- send resp3: ()
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-29">
&lt;-resp3を送信：()
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The TEMPORARY_FAILURE notification was not included in RFC 4306, and support of the TEMPORARY_FAILURE notification is not negotiated. Thus, older peers that implement RFC 4306 but not this document may receive these notifications. In that case, they will treat it the same as any other unknown error notification, and will stop the exchange. Because the other peer has already rekeyed the exchange, doing so does not have any ill effects.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TEMPORARY_FAILURE通知はRFC 4306に含まれておらず、TEMPORARY_FAILURE通知のサポートはネゴシエートされていません。したがって、このドキュメントではなくRFC 4306を実装する古いピアは、これらの通知を受信する可能性があります。その場合、他の不明なエラー通知と同じように扱い、交換を停止します。他のピアはすでに交換のキーを再生成しているので、それを行っても悪影響はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-8-3--Rekeying-the-IKE-SA-versus-Reauthentication">
2.8.3. Rekeying the IKE SA versus Reauthentication
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.8.3. IKE SAのキー再生成と再認証
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rekeying the IKE SA and reauthentication are different concepts in IKEv2. Rekeying the IKE SA establishes new keys for the IKE SA and resets the Message ID counters, but it does not authenticate the parties again (no AUTH or EAP payloads are involved).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAのキー再生成と再認証は、IKEv2では異なる概念です。 IKE SAの鍵を再生成すると、IKE SAの新しい鍵が確立され、メッセージIDカウンターがリセットされますが、パーティーは再度認証されません（AUTHまたはEAPペイロードは関係しません）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although rekeying the IKE SA may be important in some environments, reauthentication (the verification that the parties still have access to the long-term credentials) is often more important.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一部の環境ではIKE SAのキー再生成が重要な場合がありますが、多くの場合、再認証（当事者がまだ長期資格情報にアクセスできることの確認）がより重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2 does not have any special support for reauthentication. Reauthentication is done by creating a new IKE SA from scratch (using IKE_SA_INIT/IKE_AUTH exchanges, without any REKEY_SA Notify payloads), creating new Child SAs within the new IKE SA (without REKEY_SA Notify payloads), and finally deleting the old IKE SA (which deletes the old Child SAs as well).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2には、再認証に対する特別なサポートはありません。再認証は、新しいIKE SAを最初から作成し（IKE_SA_INIT / IKE_AUTH交換を使用し、REKEY_SA Notifyペイロードなしで）、新しいIKE SA内に新しい子SAを作成し（REKEY_SA Notifyペイロードなし）、最後に古いIKE SA（削除する古い子SAも削除します）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This means that reauthentication also establishes new keys for the IKE SA and Child SAs. Therefore, while rekeying can be performed more often than reauthentication, the situation where &#34;authentication lifetime&#34; is shorter than &#34;key lifetime&#34; does not make sense.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
つまり、再認証によって、IKE SAおよび子SAの新しいキーも確立されます。したがって、再認証は再認証よりも頻繁に実行できますが、「認証の有効期間」が「鍵の有効期間」よりも短い場合は意味がありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While creation of a new IKE SA can be initiated by either party (initiator or responder in the original IKE SA), the use of EAP and/ or Configuration payloads means in practice that reauthentication has to be initiated by the same party as the original IKE SA. IKEv2 does not currently allow the responder to request reauthentication in this case; however, there are extensions that add this functionality such as [REAUTH].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいIKE SAの作成はどちらの当事者（元のIKE SAのイニシエーターまたはレスポンダー）でも開始できますが、EAPや構成ペイロードの使用は、実際には、元のIKEと同じ当事者が再認証を開始する必要があることを意味しますSA。この場合、IKEv2では現在、レスポンダは再認証を要求できません。ただし、[REAUTH]など、この機能を追加する拡張機能があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-9--Traffic-Selector-Negotiation">
2.9. Traffic Selector Negotiation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.9. トラフィックセレクターネゴシエーション
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an RFC4301-compliant IPsec subsystem receives an IP packet that matches a &#34;protect&#34; selector in its Security Policy Database (SPD), the subsystem protects that packet with IPsec. When no SA exists yet, it is the task of IKE to create it. Maintenance of a system&#39;s SPD is outside the scope of IKE, although some implementations might update their SPD in connection with the running of IKE (for an example scenario, see Section 1.1.3).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC4301準拠のIPsecサブシステムが、セキュリティポリシーデータベース（SPD）の「保護」セレクターと一致するIPパケットを受信すると、サブシステムはそのパケットをIPsecで保護します。 SAがまだ存在しない場合、それを作成するのはIKEのタスクです。システムのSPDの保守はIKEの範囲外ですが、実装によっては、IKEの実行に関連してSPDを更新する場合があります（シナリオ例については、セクション1.1.3を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Traffic Selector (TS) payloads allow endpoints to communicate some of the information from their SPD to their peers. These must be communicated to IKE from the SPD (for example, the PF_KEY API [PFKEY] uses the SADB_ACQUIRE message). TS payloads specify the selection criteria for packets that will be forwarded over the newly set up SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トラフィックセレクター（TS）ペイロードにより、エンドポイントはSPDからピアに情報の一部を通信できます。これらはSPDからIKEに通信する必要があります（たとえば、PF_KEY API [PFKEY]はSADB_ACQUIREメッセージを使用します）。 TSペイロードは、新しくセットアップされたSAを介して転送されるパケットの選択基準を指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This can serve as a consistency check in some scenarios to assure that the SPDs are consistent. In others, it guides the dynamic update of the SPD.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは、いくつかのシナリオでSPDの整合性を保証するための整合性チェックとして役立ちます。それ以外の場合は、SPDの動的更新をガイドします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Two TS payloads appear in each of the messages in the exchange that creates a Child SA pair. Each TS payload contains one or more Traffic Selectors. Each Traffic Selector consists of an address range (IPv4 or IPv6), a port range, and an IP protocol ID.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAペアを作成する交換の各メッセージに2つのTSペイロードが表示されます。各TSペイロードには、1つ以上のトラフィックセレクターが含まれます。各トラフィックセレクターは、アドレス範囲（IPv4またはIPv6）、ポート範囲、およびIPプロトコルIDで構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first of the two TS payloads is known as TSi (Traffic Selector-initiator). The second is known as TSr (Traffic Selector-responder). TSi specifies the source address of traffic forwarded from (or the destination address of traffic forwarded to) the initiator of the Child SA pair. TSr specifies the destination address of the traffic forwarded to (or the source address of the traffic forwarded from) the responder of the Child SA pair. For example, if the original initiator requests the creation of a Child SA pair, and wishes to tunnel all traffic from subnet 198.51.100.* on the initiator&#39;s side to subnet 192.0.2.* on the responder&#39;s side, the initiator would include a single Traffic Selector in each TS payload. TSi would specify the address range (198.51.100.0 - 198.51.100.255) and TSr would specify the address range (192.0.2.0 - 192.0.2.255). Assuming that proposal was acceptable to the responder, it would send identical TS payloads back.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2つのTSペイロードの最初はTSi（Traffic Selector-initiator）として知られています。 2番目はTSr（Traffic Selector-responder）として知られています。 TSiは、子SAペアのイニシエーターから転送されるトラフィックの送信元アドレス（または転送されるトラフィックの宛先アドレス）を指定します。 TSrは、子SAペアのレスポンダーに転送されるトラフィックの宛先アドレス（または転送されるトラフィックの送信元アドレス）を指定します。たとえば、元のイニシエーターが子SAペアの作成を要求し、すべてのトラフィックをイニシエーター側のサブネット198.51.100。*からレスポンダー側のサブネット192.0.2。*にトンネリングしたい場合、イニシエーターは各TSペイロードに単一のトラフィックセレクター。 TSiはアドレス範囲（198.51.100.0-198.51.100.255）を指定し、TSrはアドレス範囲（192.0.2.0-192.0.2.255）を指定します。提案がレスポンダに受け入れられると仮定すると、同じTSペイロードが返送されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2 allows the responder to choose a subset of the traffic proposed by the initiator. This could happen when the configurations of the two endpoints are being updated but only one end has received the new information. Since the two endpoints may be configured by different people, the incompatibility may persist for an extended period even in the absence of errors. It also allows for intentionally different configurations, as when one end is configured to tunnel all addresses and depends on the other end to have the up-to-date list.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2により、レスポンダはイニシエータによって提案されたトラフィックのサブセットを選択できます。これは、2つのエンドポイントの構成が更新されているが、一方の端だけが新しい情報を受け取ったときに発生する可能性があります。 2つのエンドポイントは別の人が設定する可能性があるため、エラーがなくても非互換性が長期間続く場合があります。また、一方の端がすべてのアドレスをトンネリングするように構成されており、もう一方の端が最新のリストを保持している場合など、意図的に異なる構成も可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the responder chooses a subset of the traffic proposed by the initiator, it narrows the Traffic Selectors to some subset of the initiator&#39;s proposal (provided the set does not become the null set). If the type of Traffic Selector proposed is unknown, the responder ignores that Traffic Selector, so that the unknown type is not returned in the narrowed set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダは、イニシエータによって提案されたトラフィックのサブセットを選択すると、トラフィックセレクタをイニシエータの提案のサブセットに絞り込みます（セットがnullセットにならない場合）。提案されたトラフィックセレクタのタイプが不明な場合、レスポンダはそのトラフィックセレクタを無視するため、不明なタイプは絞り込まれたセットで返されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 To enable the responder to choose the appropriate range in this case, if the initiator has requested the SA due to a data packet, the initiator SHOULD include as the first Traffic Selector in each of TSi and TSr a very specific Traffic Selector including the addresses in the packet triggering the request. In the example, the initiator would include in TSi two Traffic Selectors: the first containing the address range (198.51.100.43 - 198.51.100.43) and the source port and IP protocol from the packet and the second containing (198.51.100.0 - 198.51.100.255) with all ports and IP protocols. The initiator would similarly include two Traffic Selectors in TSr. If the initiator creates the Child SA pair not in response to an arriving packet, but rather, say, upon startup, then there may be no specific addresses the initiator prefers for the initial tunnel over any other. In that case, the first values in TSi and TSr can be ranges rather than specific values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
この場合にレスポンダが適切な範囲を選択できるようにするには、データパケットが原因でイニシエーターがSAを要求した場合、イニシエーターはTSiとTSrのそれぞれに最初のトラフィックセレクターとして、アドレスを含む非常に特定のトラフィックセレクターを含める必要があります（SHOULD）。リクエストをトリガーするパケット。この例では、イニシエーターはTSiに2つのトラフィックセレクターを含めます。1つ目はアドレス範囲（198.51.100.43-198.51.100.43）を含み、2つ目はパケットからのソースポートとIPプロトコル、2つ目は（198.51.100.0-198.51。 100.255）すべてのポートとIPプロトコル。イニシエーターは、TSrに2つのトラフィックセレクターを同様に含めます。イニシエーターが、到着したパケットに応答してではなく、たとえば、起動時に子SAペアを作成する場合、イニシエーターが他のものよりも最初のトンネルに優先する特定のアドレスがない可能性があります。その場合、TSiとTSrの最初の値は特定の値ではなく範囲にすることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder performs the narrowing as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダは、次のように絞り込みを実行します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If the responder&#39;s policy does not allow it to accept any part of the proposed Traffic Selectors, it responds with a TS_UNACCEPTABLE Notify message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 応答側のポリシーが、提案されたトラフィックセレクタの一部を受け入れることを許可しない場合、応答側はTS_UNACCEPTABLE Notifyメッセージで応答します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If the responder&#39;s policy allows the entire set of traffic covered by TSi and TSr, no narrowing is necessary, and the responder can return the same TSi and TSr values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o レスポンダーのポリシーでTSiとTSrがカバーするトラフィックのセット全体が許可されている場合、絞り込みは不要であり、レスポンダーは同じTSiとTSrの値を返すことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If the responder&#39;s policy allows it to accept the first selector of TSi and TSr, then the responder MUST narrow the Traffic Selectors to a subset that includes the initiator&#39;s first choices. In this example above, the responder might respond with TSi being (198.51.100.43 - 198.51.100.43) with all ports and IP protocols.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o レスポンダのポリシーでTSiとTSrの最初のセレクタを受け入れることが許可されている場合、レスポンダはトラフィックセレクタをイニシエータの最初の選択肢を含むサブセットに絞り込む必要があります。上記のこの例では、レスポンダはすべてのポートとIPプロトコルでTSiが（198.51.100.43-198.51.100.43）で応答する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If the responder&#39;s policy does not allow it to accept the first selector of TSi and TSr, the responder narrows to an acceptable subset of TSi and TSr.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o レスポンダのポリシーでTSiとTSrの最初のセレクタを受け入れることが許可されていない場合、レスポンダはTSiとTSrの受け入れ可能なサブセットに絞り込みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When narrowing is done, there may be several subsets that are acceptable but their union is not. In this case, the responder arbitrarily chooses one of them, and MAY include an ADDITIONAL_TS_POSSIBLE notification in the response. The ADDITIONAL_TS_POSSIBLE notification asserts that the responder narrowed the proposed Traffic Selectors but that other Traffic Selectors would also have been acceptable, though only in a separate SA. There is no data associated with this Notify type. This case will occur only when the initiator and responder are configured differently from one another. If the initiator and responder agree on the granularity of tunnels, the initiator will never request a tunnel wider than the responder will accept.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
絞り込みを行うと、許容できるサブセットがいくつかある場合がありますが、それらの結合は許容されません。この場合、レスポンダはそれらの1つを任意に選択し、ADDITIONAL_TS_POSSIBLE通知を応答に含めることができます（MAY）。 ADDITIONAL_TS_POSSIBLE通知は、レスポンダーが提案されたトラフィックセレクターを絞り込んだことを表明しますが、他のトラフィックセレクターも別のSAでのみ許容可能であると主張します。この通知タイプに関連付けられたデータはありません。このケースは、イニシエーターとレスポンダーの構成が互いに異なる場合にのみ発生します。イニシエーターとレスポンダーがトンネルの粒度に同意する場合、イニシエーターはレスポンダーが受け入れるよりも広いトンネルを要求することはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 It is possible for the responder&#39;s policy to contain multiple smaller ranges, all encompassed by the initiator&#39;s Traffic Selector, and with the responder&#39;s policy being that each of those ranges should be sent over a different SA. Continuing the example above, the responder might have a policy of being willing to tunnel those addresses to and from the initiator, but might require that each address pair be on a separately negotiated Child SA. If the initiator didn&#39;t generate its request based on the packet, but (for example) upon startup, there would not be the very specific first Traffic Selectors helping the responder to select the correct range. There would be no way for the responder to determine which pair of addresses should be included in this tunnel, and it would have to make a guess or reject the request with a SINGLE_PAIR_REQUIRED Notify message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
レスポンダーのポリシーに複数の小さな範囲を含めることができます。すべての範囲がイニシエーターのトラフィックセレクターに含まれ、レスポンダーのポリシーでは、これらの範囲のそれぞれを異なるSA経由で送信する必要があります。上記の例を続けると、レスポンダはこれらのアドレスをイニシエータとの間でトンネリングする方針を持っている可能性がありますが、各アドレスペアが個別にネゴシエートされた子SA上にある必要がある場合があります。イニシエーターがパケットに基づいてリクエストを生成しなかった場合、（たとえば）起動時に、レスポンダーが正しい範囲を選択するのに役立つ非常に具体的な最初のトラフィックセレクターはありません。応答側がこのトンネルに含めるアドレスのペアを決定する方法はなく、SINGLE_PAIR_REQUIRED Notifyメッセージを使用して要求を推測または拒否する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SINGLE_PAIR_REQUIRED error indicates that a CREATE_CHILD_SA request is unacceptable because its sender is only willing to accept Traffic Selectors specifying a single pair of addresses. The requestor is expected to respond by requesting an SA for only the specific traffic it is trying to forward.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SINGLE_PAIR_REQUIREDエラーは、送信者が1組のアドレスを指定するトラフィックセレクターのみを受け入れる用意があるため、CREATE_CHILD_SA要求が受け入れられないことを示します。リクエスタは、転送しようとしている特定のトラフィックに対してのみSAを要求することによって応答することが期待されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Few implementations will have policies that require separate SAs for each address pair. Because of this, if only some parts of the TSi and TSr proposed by the initiator are acceptable to the responder, responders SHOULD narrow the selectors to an acceptable subset rather than use SINGLE_PAIR_REQUIRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各アドレスペアに個別のSAを必要とするポリシーを持つ実装はほとんどありません。このため、イニシエーターによって提案されたTSiおよびTSrの一部のみがレスポンダーに受け入れ可能である場合、レスポンダーはSINGLE_PAIR_REQUIREDを使用するのではなく、セレクターを受け入れ可能なサブセットに絞り込む必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-9-1--Traffic-Selectors-Violating-Own-Policy">
2.9.1. Traffic Selectors Violating Own Policy
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.9.1. 独自のポリシーに違反するトラフィックセレクター
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When creating a new SA, the initiator needs to avoid proposing Traffic Selectors that violate its own policy. If this rule is not followed, valid traffic may be dropped. If you use decorrelated policies from [IPSECARCH], this kind of policy violations cannot happen.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいSAを作成する場合、イニシエーターは、独自のポリシーに違反するトラフィックセレクターを提案しないようにする必要があります。このルールに従わない場合、有効なトラフィックがドロップされる可能性があります。 [IPSECARCH]の非相関ポリシーを使用する場合、この種のポリシー違反は発生しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is best illustrated by an example. Suppose that host A has a policy whose effect is that traffic to 198.51.100.66 is sent via host B encrypted using AES, and traffic to all other hosts in 198.51.100.0/24 is also sent via B, but must use 3DES. Suppose also that host B accepts any combination of AES and 3DES.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは例で最もよく説明されます。ホストAにポリシーがあり、その効果が198.51.100.66へのトラフィックがAESを使用して暗号化されたホストB経由で送信され、198.51.100.0 / 24の他のすべてのホストへのトラフィックもB経由で送信されるが、3DESを使用する必要があるとします。また、ホストBがAESと3DESの任意の組み合わせを受け入れると仮定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If host A now proposes an SA that uses 3DES, and includes TSr containing (198.51.100.0 - 198.51.100.255), this will be accepted by host B. Now, host B can also use this SA to send traffic from 198.51.100.66, but those packets will be dropped by A since it requires the use of AES for this traffic. Even if host A creates a new SA only for 198.51.100.66 that uses AES, host B may freely continue to use the first SA for the traffic. In this situation, when proposing the SA, host A should have followed its own policy, and included a TSr containing ((198.51.100.0 - 198.51.100.65), (198.51.100.67 - 198.51.100.255)) instead.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ホストAが3DESを使用するSAを提案し、TSrを含む（198.51.100.0-198.51.100.255）を含む場合、これはホストBによって受け入れられます。これで、ホストBはこのSAを使用して198.51.100.66からトラフィックを送信することもできます。ただし、このトラフィックにはAESを使用する必要があるため、これらのパケットはAによってドロップされます。ホストAがAESを使用する198.51.100.66専用の新しいSAを作成しても、ホストBは自由にトラフィックに最初のSAを使用し続けることができます。この状況では、SAを提案するとき、ホストAは独自のポリシーに従い、代わりに（（198.51.100.0-198.51.100.65）、（198.51.100.67-198.51.100.255））を含むTSrを含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In general, if (1) the initiator makes a proposal &#34;for traffic X (TSi/TSr), do SA&#34;, and (2) for some subset X&#39; of X, the initiator does not actually accept traffic X&#39; with SA, and (3) the initiator would be willing to accept traffic X&#39; with some SA&#39; (!=SA), valid traffic can be unnecessarily dropped since the responder can apply either SA or SA&#39; to traffic X&#39;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一般に、（1）イニシエーターが「トラフィックX（TSi / TSr）に対してSAを行う」という提案を行う場合、および（2）Xの一部のサブセットX &#39;に対して、イニシエーターは実際にはSAを使用してトラフィックX&#39;を受け入れません。 （3）イニシエーターがSA &#39;（！= SA）を含むトラフィックX&#39;を受け入れようとすると、レスポンダがSAまたはSA &#39;をトラフィックX&#39;に適用できるため、有効なトラフィックが不必要にドロップされる可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-9-2--Traffic-Selectors-in-Rekeying">
2.9.2. Traffic Selectors in Rekeying
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.9.2. 鍵の再生成におけるトラフィックセレクター
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rekeying is used to replace an existing Child SA with another. If the new SA would be allowed to have a narrower set of selectors than the original, traffic that was allowed on the old SA would be dropped in the new SA, thus violating the idea of &#34;replacing&#34;. Thus, the new SA MUST NOT have narrower selectors than the original. If the rekeyed SA would ever need to have a narrower scope than the currently used SA, that would mean that the policy was changed in a way such that the currently used SA is against the policy. In that case, the SA should have been already deleted after the policy change took effect.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キー再生成は、既存の子SAを別のSAに置き換えるために使用されます。新しいSAが元のセレクタよりも狭いセレクタのセットを持つことが許可される場合、古いSAで許可されていたトラフィックは新しいSAでドロップされるため、「置換」の概念に違反します。したがって、新しいSAは元のSAよりも狭いセレクターを持ってはなりません。再キーされたSAのスコープが現在使用されているSAよりも狭い必要がある場合、それは、現在使用されているSAがポリシーに違反するような方法でポリシーが変更されたことを意味します。その場合、ポリシーの変更が有効になった後、SAはすでに削除されているはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the initiator attempts to rekey the Child SA, the proposed Traffic Selectors SHOULD be either the same as, or a superset of, the Traffic Selectors used in the old Child SA. That is, they would be the same as, or a superset of, the currently active (decorrelated) policy. The responder MUST NOT narrow down the Traffic Selectors narrower than the scope currently in use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターが子SAの鍵の再生成を試みる場合、提案されたトラフィックセレクターは、古い子SAで使用されているトラフィックセレクターと同じか、そのスーパーセットである必要があります（SHOULD）。つまり、それらは現在アクティブな（非相関の）ポリシーと同じか、そのスーパーセットになります。レスポンダは、現在使用されているスコープよりも狭いトラフィックセレクタを絞り込んではいけません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because a rekeyed SA can never have a narrower scope than the one currently in use, there is no need for the selectors from the packet, so those selectors SHOULD NOT be sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
再キー化されたSAは現在使用中のSAよりも狭い範囲を持つことができないため、パケットからのセレクターは必要ないため、これらのセレクターを送信する必要はありません（SHOULD NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-10--Nonces">
2.10. Nonces
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.10. ノンス
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IKE_SA_INIT messages each contain a nonce. These nonces are used as inputs to cryptographic functions. The CREATE_CHILD_SA request and the CREATE_CHILD_SA response also contain nonces. These nonces are used to add freshness to the key derivation technique used to obtain keys for Child SA, and to ensure creation of strong pseudorandom bits from the Diffie-Hellman key. Nonces used in IKEv2 MUST be randomly chosen, MUST be at least 128 bits in size, and MUST be at least half the key size of the negotiated pseudorandom function (PRF). However, the initiator chooses the nonce before the outcome of the negotiation is known. Because of that, the nonce has to be long enough for all the PRFs being proposed. If the same random number source is used for both keys and nonces, care must be taken to ensure that the latter use does not compromise the former.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_SA_INITメッセージにはそれぞれノンスが含まれています。これらのナンスは、暗号化機能への入力として使用されます。 CREATE_CHILD_SA要求とCREATE_CHILD_SA応答にもノンスが含まれます。これらのナンスは、Child SAのキーを取得するために使用されるキー導出手法に新鮮さを追加し、Diffie-Hellmanキーから強力な疑似ランダムビットを確実に作成するために使用されます。 IKEv2で使用されるノンスはランダムに選択されなければならず、サイズは少なくとも128ビットである必要があり、ネゴシエートされた疑似ランダム関数（PRF）のキーサイズの少なくとも半分である必要があります。ただし、交渉の結果がわかる前に、開始者はノンスを選択します。そのため、ナンスは、提案されているすべてのPRFに対して十分な長さでなければなりません。キーとナンスの両方に同じ乱数ソースを使用する場合、後者の使用が前者を危険にさらさないように注意する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-11--Address-and-Port-Agility">
2.11. Address and Port Agility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.11. アドレスとポートの俊敏性
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE runs over UDP ports 500 and 4500, and implicitly sets up ESP and AH associations for the same IP addresses over which it runs. The IP addresses and ports in the outer header are, however, not themselves cryptographically protected, and IKE is designed to work even through Network Address Translation (NAT) boxes. An implementation MUST accept incoming requests even if the source port is not 500 or 4500, and MUST respond to the address and port from which the request was received. It MUST specify the address and port at which the request was received as the source address and port in the response. IKE functions identically over IPv4 or IPv6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEはUDPポート500および4500で実行され、それが実行されるのと同じIPアドレスに対してESPおよびAHアソシエーションを暗黙的にセットアップします。ただし、外部ヘッダーのIPアドレスとポートはそれ自体が暗号で保護されておらず、IKEはネットワークアドレス変換（NAT）ボックスを介しても機能するように設計されています。実装は、送信元ポートが500または4500でなくても着信要求を受け入れなければならず（MUST）、要求の受信元のアドレスとポートに応答しなければなりません（MUST）。リクエストの受信元のアドレスとポートを、応答のソースアドレスとポートとして指定する必要があります。 IKEは、IPv4またはIPv6で同様に機能します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-12--Reuse-of-Diffie-Hellman-Exponentials">
2.12. Reuse of Diffie-Hellman Exponentials
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.12. Diffie-Hellman指数の再利用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE generates keying material using an ephemeral Diffie-Hellman exchange in order to gain the property of &#34;perfect forward secrecy&#34;. This means that once a connection is closed and its corresponding keys are forgotten, even someone who has recorded all of the data from the connection and gets access to all of the long-term keys of the two endpoints cannot reconstruct the keys used to protect the conversation without doing a brute force search of the session key space.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEは、「完全な転送秘密」の特性を獲得するために、短命のDiffie-Hellman交換を使用して鍵情報を生成します。つまり、接続が閉じて対応するキーが忘れられると、その接続からすべてのデータを記録し、2つのエンドポイントのすべての長期キーにアクセスできたとしても、セッションキースペースのブルートフォース検索を行わない会話。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Achieving perfect forward secrecy requires that when a connection is closed, each endpoint MUST forget not only the keys used by the connection but also any information that could be used to recompute those keys.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
完全な転送秘密を実現するには、接続が閉じられたときに、各エンドポイントが、接続で使用されるキーだけでなく、それらのキーを再計算するために使用できる情報も忘れる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because computing Diffie-Hellman exponentials is computationally expensive, an endpoint may find it advantageous to reuse those exponentials for multiple connection setups. There are several reasonable strategies for doing this. An endpoint could choose a new exponential only periodically though this could result in less-than-perfect forward secrecy if some connection lasts for less than the lifetime of the exponential. Or it could keep track of which exponential was used for each connection and delete the information associated with the exponential only when some corresponding connection was closed. This would allow the exponential to be reused without losing perfect forward secrecy at the cost of maintaining more state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Diffie-Hellman指数の計算には計算コストがかかるため、エンドポイントでは、これらの指数を複数の接続設定に再利用すると有利な場合があります。これを行うには、いくつかの合理的な戦略があります。エンドポイントは新しい指数関数を定期的にしか選択できませんが、一部の接続が指数関数の有効期間よりも短い場合、これは完全な転送機密性を実現できません。または、各接続で使用された指数を追跡し、対応する接続​​が閉じられたときにのみ、指数に関連付けられた情報を削除することもできます。これにより、より多くの状態を維持することを犠牲にして、完全な前方秘密性を失うことなく、指数関数を再利用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Whether and when to reuse Diffie-Hellman exponentials are private decisions in the sense that they will not affect interoperability. An implementation that reuses exponentials MAY choose to remember the exponential used by the other endpoint on past exchanges and if one is reused to avoid the second half of the calculation. See [REUSE]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Diffie-Hellman指数を再利用するかどうか、またいつ再利用するかは、相互運用性に影響を与えないという意味で、私的な決定です。指数を再利用する実装は、過去の交換で他のエンドポイントによって使用された指数を記憶することを選択できます。 [REUSE]を参照
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
and [RFC6989] for a security analysis of this practice and for additional security considerations when reusing ephemeral Diffie-Hellman keys.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6989]このプラクティスのセキュリティ分析、および一時的なDiffie-Hellmanキーを再利用する場合の追加のセキュリティ考慮事項。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-13--Generating-Keying-Material">
2.13. Generating Keying Material
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.13. キーイングマテリアルの生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the context of the IKE SA, four cryptographic algorithms are negotiated: an encryption algorithm, an integrity protection algorithm, a Diffie-Hellman group, and a pseudorandom function (PRF). The PRF is used for the construction of keying material for all of the cryptographic algorithms used in both the IKE SA and the Child SAs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAのコンテキストでは、暗号化アルゴリズム、完全性保護アルゴリズム、Diffie-Hellmanグループ、および疑似ランダム関数（PRF）の4つの暗号化アルゴリズムがネゴシエートされます。 PRFは、IKE SAと子SAの両方で使用されるすべての暗号化アルゴリズムのキー情報の構築に使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We assume that each encryption algorithm and integrity protection algorithm uses a fixed-size key and that any randomly chosen value of that fixed size can serve as an appropriate key. For algorithms that accept a variable-length key, a fixed key size MUST be specified as part of the cryptographic transform negotiated (see Section 3.3.5 for the definition of the Key Length transform attribute). For algorithms for which not all values are valid keys (such as DES or 3DES with key parity), the algorithm by which keys are derived from arbitrary values MUST be specified by the cryptographic transform. For integrity protection functions based on Hashed Message Authentication Code (HMAC), the fixed key size is the size of the output of the underlying hash function.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各暗号化アルゴリズムと整合性保護アルゴリズムは固定サイズのキーを使用し、ランダムに選択されたその固定サイズの値は適切なキーとして機能できると想定しています。可変長キーを受け入れるアルゴリズムの場合、ネゴシエートされる暗号変換の一部として固定キーサイズを指定する必要があります（キー長変換属性の定義については、セクション3.3.5を参照してください）。すべての値が有効なキーではないアルゴリズム（DESまたはキーパリティ付き3DESなど）の場合、キーが任意の値から派生するアルゴリズムは、暗号化トランスフォームで指定する必要があります。ハッシュメッセージ認証コード（HMAC）に基づく整合性保護機能の場合、固定キーサイズは、基になるハッシュ関数の出力のサイズです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is assumed that PRFs accept keys of any length, but have a preferred key size. The preferred key size MUST be used as the length of SK_d, SK_pi, and SK_pr (see Section 2.14). For PRFs based on the HMAC construction, the preferred key size is equal to the length of the output of the underlying hash function. Other types of PRFs MUST specify their preferred key size.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PRFは任意の長さの鍵を受け入れますが、優先される鍵サイズがあると想定されています。優先鍵サイズは、SK_d、SK_pi、およびSK_prの長さとして使用する必要があります（セクション2.14を参照）。 HMAC構築に基づくPRFの場合、優先キーのサイズは、基礎となるハッシュ関数の出力の長さと同じです。他のタイプのPRFは、優先キーサイズを指定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Keying material will always be derived as the output of the negotiated PRF algorithm. Since the amount of keying material needed may be greater than the size of the output of the PRF, the PRF is used iteratively. The term &#34;prf+&#34; describes a function that outputs a pseudorandom stream based on the inputs to a pseudorandom function called &#34;prf&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
鍵素材は常に、ネゴシエートされたPRFアルゴリズムの出力として導出されます。必要なキー情報の量はPRFの出力のサイズよりも大きくなる可能性があるため、PRFは繰り返し使用されます。 「prf +」という用語は、「prf」と呼ばれる疑似ランダム関数への入力に基づいて疑似ランダムストリームを出力する関数を表します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the following, | indicates concatenation. prf+ is defined as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下では、|連結を示します。 prf +は次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
prf+ (K,S) = T1 | T2 | T3 | T4 | ...
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
prf +（K、C）= T1 | T2 | Tz |午後| ...
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
where: T1 = prf (K, S | 0x01) T2 = prf (K, T1 | S | 0x02) T3 = prf (K, T2 | S | 0x03) T4 = prf (K, T3 | S | 0x04) ...
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで：T1 = prf（K、S | 0x01）T2 = prf（K、T1 | S | 0x02）T3 = prf（K、T2 | S | 0x03）T4 = prf（K、T3 | S | 0x04）.. 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This continues until all the material needed to compute all required keys has been output from prf+. The keys are taken from the output string without regard to boundaries (e.g., if the required keys are a 256-bit Advanced Encryption Standard (AES) key and a 160-bit HMAC key, and the prf function generates 160 bits, the AES key will come from T1 and the beginning of T2, while the HMAC key will come from the rest of T2 and the beginning of T3).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは、必要なすべてのキーを計算するために必要なすべての素材がprf +から出力されるまで続きます。キーは、境界に関係なく出力文字列から取得されます（たとえば、必要なキーが256ビットのAdvanced Encryption Standard（AES）キーと160ビットのHMACキーであり、prf関数が160ビットを生成する場合、AESキーHMACキーはT2の残りの部分とT3の初めから来ますが、T1とT2の初めから来ます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The constant concatenated to the end of each prf function is a single octet. The prf+ function is not defined beyond 255 times the size of the prf function output.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各prf関数の末尾に連結される定数は、1つのオクテットです。 prf +関数は、prf関数出力のサイズの255倍を超えて定義されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-14--Generating-Keying-Material-for-the-IKE-SA">
2.14. Generating Keying Material for the IKE SA
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.14. IKE SAのキー情報の生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The shared keys are computed as follows. A quantity called SKEYSEED is calculated from the nonces exchanged during the IKE_SA_INIT exchange and the Diffie-Hellman shared secret established during that exchange. SKEYSEED is used to calculate seven other secrets: SK_d used for deriving new keys for the Child SAs established with this IKE SA; SK_ai and SK_ar used as a key to the integrity protection algorithm for authenticating the component messages of subsequent exchanges; SK_ei and SK_er used for encrypting (and of course decrypting) all subsequent exchanges; and SK_pi and SK_pr, which are used when generating an AUTH payload. The lengths of SK_d, SK_pi, and SK_pr MUST be the preferred key length of the PRF agreed upon.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
共有キーは次のように計算されます。 SKEYSEEDと呼ばれる量は、IKE_SA_INIT交換中に交換されたナンスと、その交換中に確立されたDiffie-Hellman共有秘密から計算されます。 SKEYSEEDは、他の7つのシークレットを計算するために使用されます。 SK_aiおよびSK_arは、後続の交換のコンポーネントメッセージを認証するための完全性保護アルゴリズムのキーとして使用されます。 SK_eiおよびSK_erは、後続のすべての交換の暗号化（およびもちろん復号化）に使用されます。 AUTHペイロードを生成するときに使用されるSK_piおよびSK_pr。 SK_d、SK_pi、およびSK_prの長さは、合意されたPRFの優先キーの長さである必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SKEYSEED and its derivatives are computed as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SKEYSEEDとその派生物は次のように計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   SKEYSEED = prf(Ni | Nr, g^ir)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   {SK_d | SK_ai | SK_ar | SK_ei | SK_er | SK_pi | SK_pr}
                   = prf+ (SKEYSEED, Ni | Nr | SPIi | SPIr)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 (indicating that the quantities SK_d, SK_ai, SK_ar, SK_ei, SK_er, SK_pi, and SK_pr are taken in order from the generated bits of the prf+). g^ir is the shared secret from the ephemeral Diffie-Hellman exchange. g^ir is represented as a string of octets in big endian order padded with zeros if necessary to make it the length of the modulus. Ni and Nr are the nonces, stripped of any headers. For historical backward-compatibility reasons, there are two PRFs that are treated specially in this calculation. If the negotiated PRF is AES-XCBC-PRF-128 [AESXCBCPRF128] or AES-CMAC-PRF-128 [AESCMACPRF128], only the first 64 bits of Ni and the first 64 bits of Nr are used in calculating SKEYSEED, but all the bits are used for input to the prf+ function.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
（数量SK_d、SK_ai、SK_ar、SK_ei、SK_er、SK_pi、およびSK_prは、prf +の生成されたビットから順番に取得されることを示します）。 g ^ irは、一時的なDiffie-Hellman交換からの共有秘密です。 g ^ irは、モジュラスの長さとするために必要に応じてゼロが埋め込まれたビッグエンディアン順のオクテットの文字列として表されます。 NiとNrはノンスであり、ヘッダーは削除されています。過去の下位互換性の理由から、この計算で特別に扱われる2つのPRFがあります。ネゴシエートされたPRFがAES-XCBC-PRF-128 [AESXCBCPRF128]またはAES-CMAC-PRF-128 [AESCMACPRF128]の場合、SKEYSEEDの計算では、Niの最初の64ビットとNrの最初の64ビットのみが使用されますが、ビットは、prf +関数への入力に使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The two directions of traffic flow use different keys. The keys used to protect messages from the original initiator are SK_ai and SK_ei. The keys used to protect messages in the other direction are SK_ar and SK_er.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トラフィックフローの2つの方向は、異なるキーを使用します。元のイニシエーターからメッセージを保護するために使用されるキーは、SK_aiおよびSK_eiです。逆方向のメッセージを保護するために使用されるキーは、SK_arおよびSK_erです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-15--Authentication-of-the-IKE-SA">
2.15. Authentication of the IKE SA
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.15. IKE SAの認証
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When not using extensible authentication (see Section 2.16), the peers are authenticated by having each sign (or MAC using a padded shared secret as the key, as described later in this section) a block of data. In these calculations, IDi&#39; and IDr&#39; are the entire ID payloads excluding the fixed header. For the responder, the octets to be signed start with the first octet of the first SPI in the header of the second message (IKE_SA_INIT response) and end with the last octet of the last payload in the second message. Appended to this (for the purposes of computing the signature) are the initiator&#39;s nonce Ni (just the value, not the payload containing it), and the value prf(SK_pr, IDr&#39;). Note that neither the nonce Ni nor the value prf(SK_pr, IDr&#39;) are transmitted. Similarly, the initiator signs the first message (IKE_SA_INIT request), starting with the first octet of the first SPI in the header and ending with the last octet of the last payload. Appended to this (for purposes of computing the signature) are the responder&#39;s nonce Nr, and the value prf(SK_pi, IDi&#39;). It is critical to the security of the exchange that each side sign the other side&#39;s nonce.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
拡張認証（セクション2.16を参照）を使用しない場合、ピアは、各署名（またはこのセクションで後述するように、埋め込み共有秘密をキーとして使用するMAC）にデータブロックを持たせることで認証されます。これらの計算では、IDi &#39;およびIDr&#39;は、固定ヘッダーを除くIDペイロード全体です。レスポンダの場合、署名されるオクテットは、2番目のメッセージのヘッダーの最初のSPIの最初のオクテット（IKE_SA_INIT応答）で始まり、2番目のメッセージの最後のペイロードの最後のオクテットで終わります。これに（署名を計算する目的で）追加されるのは、イニシエーターのノンスNi（値を含み、ペイロードを含まないペイロード）と値prf（SK_pr、IDr &#39;）です。ノンスNiも値prf（SK_pr、IDr &#39;）も送信されないことに注意してください。同様に、イニシエーターは、ヘッダーの最初のSPIの最初のオクテットで始まり、最後のペイロードの最後のオクテットで終わる最初のメッセージ（IKE_SA_INIT要求）に署名します。これに（署名を計算する目的で）追加されるのは、レスポンダーのノンスNrと値prf（SK_pi、IDi &#39;）です。両サイドが相手サイドのナンスに署名することは、交換のセキュリティにとって重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator&#39;s signed octets can be described as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターの署名付きオクテットは、次のように説明できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   InitiatorSignedOctets = RealMessage1 | NonceRData | MACedIDForI
   GenIKEHDR = [ four octets 0 if using port 4500 ] | RealIKEHDR
   RealIKEHDR =  SPIi | SPIr |  . . . | Length
   RealMessage1 = RealIKEHDR | RestOfMessage1
   NonceRPayload = PayloadHeader | NonceRData
   InitiatorIDPayload = PayloadHeader | RestOfInitIDPayload
   RestOfInitIDPayload = IDType | RESERVED | InitIDData
   MACedIDForI = prf(SK_pi, RestOfInitIDPayload)
   The responder&#39;s signed octets can be described as:
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   ResponderSignedOctets = RealMessage2 | NonceIData | MACedIDForR
   GenIKEHDR = [ four octets 0 if using port 4500 ] | RealIKEHDR
   RealIKEHDR =  SPIi | SPIr |  . . . | Length
   RealMessage2 = RealIKEHDR | RestOfMessage2
   NonceIPayload = PayloadHeader | NonceIData
   ResponderIDPayload = PayloadHeader | RestOfRespIDPayload
   RestOfRespIDPayload = IDType | RESERVED | RespIDData
   MACedIDForR = prf(SK_pr, RestOfRespIDPayload)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that all of the payloads are included under the signature, including any payload types not defined in this document. If the first message of the exchange is sent multiple times (such as with a responder cookie and/or a different Diffie-Hellman group), it is the latest version of the message that is signed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントで定義されていないペイロードタイプを含め、すべてのペイロードが署名の下に含まれていることに注意してください。交換の最初のメッセージが複数回送信される場合（レスポンダーCookieや別のDiffie-Hellmanグループなど）、署名されるのは最新バージョンのメッセージです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Optionally, messages 3 and 4 MAY include a certificate, or certificate chain providing evidence that the key used to compute a digital signature belongs to the name in the ID payload. The signature or MAC will be computed using algorithms dictated by the type of key used by the signer, and specified by the Auth Method field in the Authentication payload. There is no requirement that the initiator and responder sign with the same cryptographic algorithms. The choice of cryptographic algorithms depends on the type of key each has. In particular, the initiator may be using a shared key while the responder may have a public signature key and certificate. It will commonly be the case (but it is not required) that, if a shared secret is used for authentication, the same key is used in both directions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションで、メッセージ3および4には、デジタル署名の計算に使用されるキーがIDペイロードの名前に属しているという証拠を提供する証明書または証明書チェーンを含めることができます。署名またはMACは、署名者が使用する鍵のタイプによって指示され、認証ペイロードのAuth Methodフィールドで指定されたアルゴリズムを使用して計算されます。イニシエーターとレスポンダーが同じ暗号アルゴリズムで署名する必要はありません。暗号化アルゴリズムの選択は、それぞれが持っている鍵のタイプによって異なります。特に、イニシエーターは共有キーを使用しているのに対し、レスポンダーは公開署名キーと証明書を持っている場合があります。共有シークレットが認証に使用される場合、同じキーが両方向で使用されることが一般的です（ただし、必須ではありません）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that it is a common but typically insecure practice to have a shared key derived solely from a user-chosen password without incorporating another source of randomness. This is typically insecure because user-chosen passwords are unlikely to have sufficient unpredictability to resist dictionary attacks and these attacks are not prevented in this authentication method. (Applications using password-based authentication for bootstrapping and IKE SA should use the authentication method in Section 2.16, which is designed to prevent off-line dictionary attacks.) The pre-shared key needs to contain as much unpredictability as the strongest key being negotiated. In the case of a pre-shared key, the AUTH value is computed as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ランダム性の別のソースを組み込むことなく、ユーザーが選択したパスワードのみから共有キーを派生させることは一般的ですが、通常は安全ではありません。ユーザーが選択したパスワードは、辞書攻撃に対抗するのに十分な予測不可能性を持つ可能性が低く、これらの攻撃はこの認証方法では防止されないため、これは通常は安全ではありません。 （ブートストラップとIKE SAにパスワードベースの認証を使用するアプリケーションは、オフライン辞書攻撃を防ぐために設計されたセクション2.16の認証方法を使用する必要があります。）事前共有キーには、ネゴシエートされる最強のキーと同じくらいの予測不能性が含まれている必要があります。 。事前共有鍵の場合、AUTH値は次のように計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   For the initiator:
      AUTH = prf( prf(Shared Secret, &#34;Key Pad for IKEv2&#34;),
                       &lt;InitiatorSignedOctets&gt;)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   For the responder:
      AUTH = prf( prf(Shared Secret, &#34;Key Pad for IKEv2&#34;),
                       &lt;ResponderSignedOctets&gt;)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
where the string &#34;Key Pad for IKEv2&#34; is 17 ASCII characters without null termination. The shared secret can be variable length. The pad string is added so that if the shared secret is derived from a password, the IKE implementation need not store the password in cleartext, but rather can store the value prf(Shared Secret,&#34;Key Pad for IKEv2&#34;), which could not be used as a password equivalent for protocols other than IKEv2. As noted above, deriving the shared secret from a password is not secure. This construction is used because it is anticipated that people will do it anyway. The management interface by which the shared secret is provided MUST accept ASCII strings of at least 64 octets and MUST NOT add a null terminator before using them as shared secrets. It MUST also accept a hex encoding of the shared secret. The management interface MAY accept other encodings if the algorithm for translating the encoding to a binary string is specified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで、ストリング「Key Pad for IKEv2」は、ヌル終了のない17個のASCII文字です。共有秘密は可変長にすることができます。パッド文字列が追加されるので、共有シークレットがパスワードから派生した場合、IKE実装はパスワードをクリアテキストで保存する必要はなく、値prf（Shared Secret、 &#34;Key Pad for IKEv2&#34;）を保存できます。 IKEv2以外のプロトコルに相当するパスワードとして使用されます。上記のように、パスワードから共有シークレットを取得することは安全ではありません。とにかく人々がそうすることが予想されるので、この構造が使われます。共有シークレットを提供する管理インターフェイスは、少なくとも64オクテットのASCII文字列を受け入れなければならず、それらを共有シークレットとして使用する前にnullターミネータを追加してはなりません。また、共有秘密の16進エンコーディングを受け入れる必要があります。エンコーディングをバイナリ文字列に変換するアルゴリズムが指定されている場合、管理インターフェースは他のエンコーディングを受け入れてもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are two types of EAP authentication (described in Section 2.16), and each type uses different values in the AUTH computations shown above. If the EAP method is key-generating, substitute master session key (MSK) for the shared secret in the computation. For non-key-generating methods, substitute SK_pi and SK_pr, respectively, for the shared secret in the two AUTH computations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAP認証には2つのタイプがあり（セクション2.16で説明）、各タイプは上記のAUTH計算で異なる値を使用します。 EAP方式でキーを生成する場合は、計算で共有シークレットをマスターセッションキー（MSK）に置き換えます。非キー生成メソッドの場合、2つのAUTH計算の共有シークレットをそれぞれSK_piおよびSK_prに置き換えます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-16--Extensible-Authentication-Protocol-Methods">
2.16. Extensible Authentication Protocol Methods
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.16. 拡張可能な認証プロトコルメソッド
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to authentication using public key signatures and shared secrets, IKE supports authentication using methods defined in RFC 3748 [EAP]. Typically, these methods are asymmetric (designed for a user authenticating to a server), and they may not be mutual. For this reason, these protocols are typically used to authenticate the initiator to the responder and MUST be used in conjunction with a public-key-signature-based authentication of the responder to the initiator. These methods are often associated with mechanisms referred to as &#34;Legacy Authentication&#34; mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEは、公開鍵署名と共有秘密を使用した認証に加えて、RFC 3748 [EAP]で定義された方法を使用した認証をサポートしています。通常、これらの方法は非対称的であり（サーバーに対してユーザーを認証するために設計されています）、相互的ではない場合があります。このため、これらのプロトコルは通常、レスポンダーに対してイニシエーターを認証するために使用され、イニシエーターに対するレスポンダーの公開鍵署名ベースの認証と組み合わせて使用​​する必要があります。これらのメソッドは、多くの場合、「レガシー認証」メカニズムと呼ばれるメカニズムに関連付けられています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While this document references [EAP] with the intent that new methods can be added in the future without updating this specification, some simpler variations are documented here. [EAP] defines an authentication protocol requiring a variable number of messages. Extensible authentication is implemented in IKE as additional IKE_AUTH exchanges that MUST be completed in order to initialize the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは[EAP]を参照していますが、この仕様を更新せずに新しいメソッドを将来追加できることを意図していますが、いくつかの簡単なバリエーションがここに記載されています。 [EAP]は、可変数のメッセージを必要とする認証プロトコルを定義します。拡張可能な認証は、IKE SAを初期化するために完了する必要がある追加のIKE_AUTH交換として、IKEに実装されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An initiator indicates a desire to use EAP by leaving out the AUTH payload from the first message in the IKE_AUTH exchange. (Note that the AUTH payload is required for non-EAP authentication, and is thus not marked as optional in the rest of this document.) By including an IDi payload but not an AUTH payload, the initiator has declared an identity but has not proven it. If the responder is willing to use an EAP method, it will place an Extensible Authentication Protocol (EAP) payload in the response of the IKE_AUTH exchange and defer sending SAr2, TSi, and TSr until initiator authentication is complete in a subsequent IKE_AUTH exchange. In the case of a minimal EAP method, the initial SA establishment will appear as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、IKE_AUTH交換の最初のメッセージからAUTHペイロードを除外することにより、EAPを使用することを希望していることを示します。 （AUTHペイロードは非EAP認証に必要なので、このドキュメントの残りの部分ではオプションとしてマークされていないことに注意してください。）AUTHペイロードではなくIDiペイロードを含めることにより、イニシエーターはIDを宣言しましたが証明していませんそれ。レスポンダがEAPメソッドを使用する場合は、IKE_AUTH交換の応答に拡張認証プロトコル（EAP）ペイロードを配置し、後続のIKE_AUTH交換でイニシエータ認証が完了するまで、送信SAr2、TSi、およびTSrを延期します。最小EAP方式の場合、最初のSA確立は次のようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
   HDR, SAi1, KEi, Ni  --&gt;
                                &lt;--  HDR, SAr1, KEr, Nr, [CERTREQ]
   HDR, SK {IDi, [CERTREQ,]
       [IDr,] SAi2,
       TSi, TSr}  --&gt;
                                &lt;--  HDR, SK {IDr, [CERT,] AUTH,
                                         EAP}
   HDR, SK {EAP}  --&gt;
                                &lt;--  HDR, SK {EAP (success)}
   HDR, SK {AUTH}  --&gt;
                                &lt;--  HDR, SK {AUTH, SAr2, TSi, TSr}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described in Section 2.2, when EAP is used, each pair of IKE SA initial setup messages will have their message numbers incremented; the first pair of IKE_AUTH messages will have an ID of 1, the second will be 2, and so on.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション2.2で説明したように、EAPを使用すると、IKE SAの初期セットアップメッセージの各ペアのメッセージ番号が増加します。 IKE_AUTHメッセージの最初のペアのIDは1、2番目のペアは2、というようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For EAP methods that create a shared key as a side effect of authentication, that shared key MUST be used by both the initiator and responder to generate AUTH payloads in messages 7 and 8 using the syntax for shared secrets specified in Section 2.15. The shared key from EAP is the field from the EAP specification named MSK. This shared key generated during an IKE exchange MUST NOT be used for any other purpose.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
認証の副作用として共有キーを作成するEAPメソッドでは、セクション2.15で指定された共有秘密の構文を使用して、メッセージ7および8でAUTHペイロードを生成するために、イニシエーターとレスポンダーの両方でその共有キーを使用する必要があります。 EAPの共有キーは、MSKという名前のEAP仕様のフィールドです。 IKE交換中に生成されたこの共有キーは、他の目的で使用してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAP methods that do not establish a shared key SHOULD NOT be used, as they are subject to a number of man-in-the-middle attacks [EAPMITM] if these EAP methods are used in other protocols that do not use a server-authenticated tunnel. Please see the Security Considerations section for more details. If EAP methods that do not generate a shared key are used, the AUTH payloads in messages 7 and 8 MUST be generated using SK_pi and SK_pr, respectively.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
共有キーを確立しないEAPメソッドは、サーバー認証を使用しない他のプロトコルでこれらのEAPメソッドが使用されている場合、中間者攻撃[EAPMITM]の対象となるため、使用しないでください。トンネル。詳細については、セキュリティに関する考慮事項のセクションをご覧ください。共有キーを生成しないEAPメソッドを使用する場合、メッセージ7と8のAUTHペイロードは、それぞれSK_piとSK_prを使用して生成する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator of an IKE SA using EAP needs to be capable of extending the initial protocol exchange to at least ten IKE_AUTH exchanges in the event the responder sends notification messages and/or retries the authentication prompt. Once the protocol exchange defined by the chosen EAP authentication method has successfully terminated, the responder MUST send an EAP payload containing the Success message. Similarly, if the authentication method has failed, the responder MUST send an EAP payload containing the Failure message. The responder MAY at any time terminate the IKE exchange by sending an EAP payload containing the Failure message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAPを使用するIKE SAのイニシエーターは、応答側が通知メッセージを送信したり、認証プロンプトを再試行したりする場合に、初期プロトコル交換を少なくとも10回のIKE_AUTH交換に拡張できる必要があります。選択されたEAP認証方法で定義されたプロトコル交換が正常に終了すると、レスポンダは成功メッセージを含むEAPペイロードを送信する必要があります。同様に、認証方法が失敗した場合、レスポンダは失敗メッセージを含むEAPペイロードを送信する必要があります。レスポンダはいつでも、失敗メッセージを含むEAPペイロードを送信することにより、IKE交換を終了できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Following such an extended exchange, the EAP AUTH payloads MUST be included in the two messages following the one containing the EAP Success message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このような拡張された交換に続いて、EAP成功ペイロードを含むメッセージに続く2つのメッセージにEAP AUTHペイロードを含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the initiator authentication uses EAP, it is possible that the contents of the IDi payload is used only for Authentication, Authorization, and Accounting (AAA) routing purposes and selecting which EAP method to use. This value may be different from the identity authenticated by the EAP method. It is important that policy lookups and access control decisions use the actual authenticated identity. Often the EAP server is implemented in a separate AAA server that communicates with the IKEv2 responder. In this case, the authenticated identity, if different from that in the IDi payload, has to be sent from the AAA server to the IKEv2 responder.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーター認証がEAPを使用する場合、IDiペイロードのコンテンツが認証、承認、アカウンティング（AAA）ルーティングの目的でのみ使用され、使用するEAP方法を選択する可能性があります。この値は、EAP方式で認証されたIDとは異なる場合があります。ポリシーの検索とアクセス制御の決定では、実際に認証されたIDを使用することが重要です。多くの場合、EAPサーバーは、IKEv2レスポンダーと通信する別のAAAサーバーに実装されます。この場合、認証されたIDは、IDiペイロードのIDと異なる場合、AAAサーバーからIKEv2レスポンダに送信する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-17--Generating-Keying-Material-for-Child-SAs">
2.17. Generating Keying Material for Child SAs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.17. 子SAのキー生成情報の生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A single Child SA is created by the IKE_AUTH exchange, and additional Child SAs can optionally be created in CREATE_CHILD_SA exchanges. Keying material for them is generated as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_AUTH交換によって単一の子SAが作成され、オプションでCREATE_CHILD_SA交換で追加の子SAを作成できます。それらの鍵素材は次のように生成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
KEYMAT = prf+(SK_d, Ni | Nr)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
KEYMAT = prf +（SK_d、Ni | Nr）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Where Ni and Nr are the nonces from the IKE_SA_INIT exchange if this request is the first Child SA created or the fresh Ni and Nr from the CREATE_CHILD_SA exchange if this is a subsequent creation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで、NiとNrは、この要求が最初に作成された子SAの場合はIKE_SA_INIT交換からのナンスであり、これが後続の作成の場合はCREATE_CHILD_SA交換からの新しいNiとNrです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For CREATE_CHILD_SA exchanges including an optional Diffie-Hellman exchange, the keying material is defined as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションのDiffie-Hellman交換を含むCREATE_CHILD_SA交換の場合、キー情報は次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   KEYMAT = prf+(SK_d, g^ir (new) | Ni | Nr)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
where g^ir (new) is the shared secret from the ephemeral Diffie-Hellman exchange of this CREATE_CHILD_SA exchange (represented as an octet string in big endian order padded with zeros in the high-order bits if necessary to make it the length of the modulus).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで、g ^ ir（新規）は、このCREATE_CHILD_SA交換の一時的なDiffie-Hellman交換からの共有秘密です（ビッグエンディアン順のオクテット文字列として表され、必要に応じて、高位ビットにゼロを埋め込んで、係数）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A single CREATE_CHILD_SA negotiation may result in multiple Security Associations. ESP and AH SAs exist in pairs (one in each direction), so two SAs are created in a single Child SA negotiation for them. Furthermore, Child SA negotiation may include some future IPsec protocol(s) in addition to, or instead of, ESP or AH (for example, ROHC_INTEG as described in [ROHCV2]). In any case, keying material for each Child SA MUST be taken from the expanded KEYMAT using the following rules:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
単一のCREATE_CHILD_SAネゴシエーションでは、複数のセキュリティアソシエーションが発生する可能性があります。 ESP SAとAH SAはペアで（各方向に1つずつ）存在するため、2つのSAが1つの子SAネゴシエーションで作成されます。さらに、チャイルドSAネゴシエーションには、ESPまたはAH（たとえば、[ROHCV2]で説明されているROHC_INTEG）に加えて、またはその代わりに、いくつかの将来のIPsecプロトコルが含まれる場合があります。いずれの場合も、次のルールを使用して、各子SAのキー情報を拡張KEYMATから取得する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o All keys for SAs carrying data from the initiator to the responder are taken before SAs going from the responder to the initiator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o イニシエーターからレスポンダーにデータを運ぶSAのすべてのキーは、SAがレスポンダーからイニシエーターに行く前に取得されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If multiple IPsec protocols are negotiated, keying material for each Child SA is taken in the order in which the protocol headers will appear in the encapsulated packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 複数のIPsecプロトコルがネゴシエートされる場合、各子SAのキー情報は、プロトコルヘッダーがカプセル化されたパケットに表示される順序で取得されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If an IPsec protocol requires multiple keys, the order in which they are taken from the SA&#39;s keying material needs to be described in the protocol&#39;s specification. For ESP and AH, [IPSECARCH] defines the order, namely: the encryption key (if any) MUST be taken from the first bits and the integrity key (if any) MUST be taken from the remaining bits.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPsecプロトコルが複数のキーを必要とする場合、SAのキー情報からキーを取得する順序をプロトコルの仕様に記述する必要があります。 ESPおよびAHの場合、[IPSECARCH]は順序を定義します。つまり、暗号化キー（存在する場合）は最初のビットから取得する必要があり、整合性キー（存在する場合）は残りのビットから取得する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each cryptographic algorithm takes a fixed number of bits of keying material specified as part of the algorithm, or negotiated in SA payloads (see Section 2.13 for description of key lengths, and Section 3.3.5 for the definition of the Key Length transform attribute).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各暗号化アルゴリズムは、アルゴリズムの一部として指定された、またはSAペイロードでネゴシエートされた鍵素材の固定ビット数を取ります（鍵長の説明についてはセクション2.13を、鍵長変換属性の定義についてはセクション3.3.5を参照してください）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-18--Rekeying-IKE-SAs-Using-a-CREATECHILDSA-Exchange">
2.18. Rekeying IKE SAs Using a CREATE_CHILD_SA Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.18. CREATE_CHILD_SA交換を使用したIKE SAの鍵の再生成
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CREATE_CHILD_SA exchange can be used to rekey an existing IKE SA (see Sections 1.3.2 and 2.8). New initiator and responder SPIs are supplied in the SPI fields in the Proposal structures inside the Security Association (SA) payloads (not the SPI fields in the IKE header). The TS payloads are omitted when rekeying an IKE SA. SKEYSEED for the new IKE SA is computed using SK_d from the existing IKE SA as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CREATE_CHILD_SA交換を使用して、既存のIKE SAの鍵を再設定できます（セクション1.3.2および2.8を参照）。新しいイニシエーターとレスポンダーのSPIは、セキュリティアソシエーション（SA）ペイロード内のプロポーザル構造のSPIフィールドで提供されます（IKEヘッダーのSPIフィールドではありません）。 IKE SAの鍵を再生成する場合、TSペイロードは省略されます。新しいIKE SAのSKEYSEEDは、既存のIKE SAのSK_dを使用して次のように計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   SKEYSEED = prf(SK_d (old), g^ir (new) | Ni | Nr)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
where g^ir (new) is the shared secret from the ephemeral Diffie-Hellman exchange of this CREATE_CHILD_SA exchange (represented as an octet string in big endian order padded with zeros if necessary to make it the length of the modulus) and Ni and Nr are the two nonces stripped of any headers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで、g ^ ir（新規）は、このCREATE_CHILD_SA交換の一時的なDiffie-Hellman交換からの共有秘密です（モジュラスの長さにするために必要に応じてゼロが埋め込まれたビッグエンディアン順のオクテット文字列として表されます）およびNiおよびNrヘッダーを取り除いた2つのノンスです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The old and new IKE SA may have selected a different PRF. Because the rekeying exchange belongs to the old IKE SA, it is the old IKE SA&#39;s PRF that is used to generate SKEYSEED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新旧のIKE SAが異なるPRFを選択した可能性があります。キー再生成交換は古いIKE SAに属しているため、SKEYSEEDの生成に使用されるのは古いIKE SAのPRFです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The main reason for rekeying the IKE SA is to ensure that the compromise of old keying material does not provide information about the current keys, or vice versa. Therefore, implementations MUST perform a new Diffie-Hellman exchange when rekeying the IKE SA. In other words, an initiator MUST NOT propose the value &#34;NONE&#34; for the Diffie-Hellman transform, and a responder MUST NOT accept such a proposal. This means that a successful exchange rekeying the IKE SA always includes the KEi/KEr payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAの鍵を再生成する主な理由は、古い鍵材料の侵害が現在の鍵に関する情報を提供しないこと、またはその逆を保証することです。したがって、実装では、IKE SAの鍵を再生成するときに、新しいDiffie-Hellman交換を実行する必要があります。言い換えると、イニシエーターはDiffie-Hellman変換の値「NONE」を提案してはならず（MUST NOT）、レスポンダーはそのような提案を受け入れてはなりません（MUST NOT）。これは、IKE SAのキー再生成が成功すると、常にKEi / KErペイロードが含まれることを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The new IKE SA MUST reset its message counters to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
新しいIKE SAは、メッセージカウンターを0にリセットする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SK_d, SK_ai, SK_ar, SK_ei, and SK_er are computed from SKEYSEED as specified in Section 2.14, using SPIi, SPIr, Ni, and Nr from the new exchange, and using the new IKE SA&#39;s PRF.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SK_d、SK_ai、SK_ar、SK_ei、およびSK_erは、セクション2.14で指定されているSKEYSEEDから、新しい交換からのSPIi、SPIr、Ni、およびNrを使用し、新しいIKE SAのPRFを使用して計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-19--Requesting-an-Internal-Address-on-a-Remote-Network">
2.19. Requesting an Internal Address on a Remote Network
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.19. リモートネットワークでの内部アドレスの要求
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Most commonly occurring in the endpoint-to-security-gateway scenario, an endpoint may need an IP address in the network protected by the security gateway and may need to have that address dynamically assigned. A request for such a temporary address can be included in any request to create a Child SA (including the implicit request in message 3) by including a CP payload. Note, however, it is usual to only assign one IP address during the IKE_AUTH exchange. That address persists at least until the deletion of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エンドポイントからセキュリティゲートウェイへのシナリオで最も一般的に発生するのは、エンドポイントがネットワーク内でセキュリティゲートウェイによって保護されたIPアドレスを必要とし、そのアドレスを動的に割り当てる必要がある場合です。そのような一時アドレスの要求は、CPペイロードを含めることにより、子SAを作成するためのすべての要求（メッセージ3の暗黙の要求を含む）に含めることができます。ただし、通常、IKE_AUTH交換中に割り当てるIPアドレスは1つだけです。そのアドレスは、少なくともIKE SAが削除されるまで存続します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This function provides address allocation to an IPsec Remote Access Client (IRAC) trying to tunnel into a network protected by an IPsec Remote Access Server (IRAS). Since the IKE_AUTH exchange creates an IKE SA and a Child SA, the IRAC MUST request the IRAS-controlled address (and optionally other information concerning the protected network) in the IKE_AUTH exchange. The IRAS may procure an address for the IRAC from any number of sources such as a DHCP/BOOTP (Bootstrap Protocol) server or its own address pool.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この機能は、IPsecリモートアクセスサーバー（IRAS）によって保護されているネットワークにトンネル接続しようとしているIPsecリモートアクセスクライアント（IRAC）へのアドレス割り当てを提供します。 IKE_AUTH交換はIKE SAと子SAを作成するので、IRACはIKE_AUTH交換でIRAS制御アドレス（およびオプションで保護されたネットワークに関するその他の情報）を要求する必要があります。 IRASは、DHCP / BOOTP（ブートストラッププロトコル）サーバーや独自のアドレスプールなど、任意の数のソースからIRACのアドレスを取得する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                         Responder
   -------------------------------------------------------------------
    HDR, SK {IDi, [CERT,]
       [CERTREQ,] [IDr,] AUTH,
       CP(CFG_REQUEST), SAi2,
       TSi, TSr}  --&gt;
                                &lt;--  HDR, SK {IDr, [CERT,] AUTH,
                                         CP(CFG_REPLY), SAr2,
                                         TSi, TSr}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In all cases, the CP payload MUST be inserted before the SA payload. In variations of the protocol where there are multiple IKE_AUTH exchanges, the CP payloads MUST be inserted in the messages containing the SA payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべての場合において、CPペイロードはSAペイロードの前に挿入する必要があります。複数のIKE_AUTH交換があるプロトコルのバリエーションでは、CPペイロードをSAペイロードを含むメッセージに挿入する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CP(CFG_REQUEST) MUST contain at least an INTERNAL_ADDRESS attribute (either IPv4 or IPv6) but MAY contain any number of additional attributes the initiator wants returned in the response.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CP（CFG_REQUEST）には少なくともINTERNAL_ADDRESS属性（IPv4またはIPv6のいずれか）が含まれている必要がありますが、イニシエーターが応答で返したい追加の属性をいくつでも含めることができます（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, message from initiator to responder:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、開始者から応答者へのメッセージ：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REQUEST)=
     INTERNAL_ADDRESS()
   TSi = (0, 0-65535, 0.0.0.0-255.255.255.255)
   TSr = (0, 0-65535, 0.0.0.0-255.255.255.255)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NOTE: Traffic Selectors contain (protocol, port range, address range).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：トラフィックセレクターには（プロトコル、ポート範囲、アドレス範囲）が含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Message from responder to initiator:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダからイニシエータへのメッセージ：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REPLY)=
     INTERNAL_ADDRESS(192.0.2.202)
     INTERNAL_NETMASK(255.255.255.0)
     INTERNAL_SUBNET(192.0.2.0/255.255.255.0)
   TSi = (0, 0-65535, 192.0.2.202-192.0.2.202)
   TSr = (0, 0-65535, 192.0.2.0-192.0.2.255)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All returned values will be implementation dependent. As can be seen in the above example, the IRAS MAY also send other attributes that were not included in CP(CFG_REQUEST) and MAY ignore the non-mandatory attributes that it does not support.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべての戻り値は実装に依存します。上記の例でわかるように、IRASは、CP（CFG_REQUEST）に含まれていない他の属性も送信する場合があり、サポートしていない必須属性を無視する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder MUST NOT send a CFG_REPLY without having first received a CP(CFG_REQUEST) from the initiator, because we do not want the IRAS to perform an unnecessary configuration lookup if the IRAC cannot process the REPLY.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
応答側は、最初にイニシエーターからCP（CFG_REQUEST）を受信せずにCFG_REPLYを送信してはなりません。これは、IRACがREPLYを処理できない場合にIRASが不要な構成ルックアップを実行しないようにするためです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case where the IRAS&#39;s configuration requires that CP be used for a given identity IDi, but IRAC has failed to send a CP(CFG_REQUEST), IRAS MUST fail the request, and terminate the Child SA creation with a FAILED_CP_REQUIRED error. The FAILED_CP_REQUIRED is not fatal to the IKE SA; it simply causes the Child SA creation to fail. The initiator can fix this by later starting a new Configuration payload request. There is no associated data in the FAILED_CP_REQUIRED error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IRASの構成で特定のID IDiにCPを使用する必要があるが、IRACがCP（CFG_REQUEST）の送信に失敗した場合、IRASは要求を失敗させ、FAILED_CP_REQUIREDエラーで子SAの作成を終了する必要があります。 FAILED_CP_REQUIREDはIKE SAにとって致命的ではありません。子SAの作成が失敗するだけです。イニシエーターは、後で新しい構成ペイロード要求を開始することにより、これを修正できます。 FAILED_CP_REQUIREDエラーには関連データはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-20--Requesting-the-Peers-Version">
2.20. Requesting the Peer&#39;s Version
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.20. ピアのバージョンの要求
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE peer wishing to inquire about the other peer&#39;s IKE software version information MAY use the method below. This is an example of a configuration request within an INFORMATIONAL exchange, after the IKE SA and first Child SA have been created.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
他のピアのIKEソフトウェアバージョン情報について問い合わせたいIKEピアは、以下の方法を使用できます。これは、IKE SAと最初の子SAが作成された後の、INFORMATIONAL交換内の構成要求の例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IKE implementation MAY decline to give out version information prior to authentication or even after authentication in case some implementation is known to have some security weakness. In that case, it MUST either return an empty string or no CP payload if CP is not supported.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEの実装では、セキュリティの脆弱性があるとわかっている場合に備えて、認証前または認証後のバージョン情報の提供を拒否する場合があります。その場合、CPがサポートされていない場合は、空の文字列を返すか、CPペイロードを返さないようにする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                          Responder
   -------------------------------------------------------------------
   HDR, SK {CP(CFG_REQUEST)}  --&gt;
                                 &lt;--  HDR, SK {CP(CFG_REPLY)}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CP(CFG_REQUEST)= APPLICATION_VERSION(&#34;&#34;)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CP（CFG_REQUEST）= APPLICATION_VERSION（ &#34;&#34;）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CP(CFG_REPLY) APPLICATION_VERSION(&#34;foobar v1.3beta, (c) Foo Bar Inc.&#34;)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CP（CFG_REPLY）APPLICATION_VERSION（ &#34;foobar v1.3beta、（c）Foo Bar Inc.&#34;）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-21--Error-Handling">
2.21. Error Handling
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.21. エラー処理
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are many kinds of errors that can occur during IKE processing. The general rule is that if a request is received that is badly formatted, or unacceptable for reasons of policy (such as no matching cryptographic algorithms), the response contains a Notify payload indicating the error. The decision whether or not to send such a response depends whether or not there is an authenticated IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE処理中に発生する可能性のあるエラーには、さまざまな種類があります。一般的な規則は、形式が正しくない、またはポリシーの理由（一致する暗号化アルゴリズムがないなど）のために受け入れられない要求を受信した場合、応答にはエラーを示す通知ペイロードが含まれます。このような応答を送信するかどうかの決定は、認証されたIKE SAがあるかどうかによって異なります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If there is an error parsing or processing a response packet, the general rule is to not send back any error message because responses should not generate new requests (and a new request would be the only way to send back an error message). Such errors in parsing or processing response packets should still cause the recipient to clean up the IKE state (for example, by sending a Delete for a bad SA).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
応答パケットの解析または処理中にエラーが発生した場合、応答では新しい要求が生成されないため、エラーメッセージを返さないことが一般的なルールです（新しい要求はエラーメッセージを返す唯一の方法です）。応答パケットの解析または処理におけるこのようなエラーにより、受信者はIKE状態をクリーンアップする必要があります（たとえば、不良SAの削除を送信することにより）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Only authentication failures (AUTHENTICATION_FAILED and EAP failure) and malformed messages (INVALID_SYNTAX) lead to a deletion of the IKE SA without requiring an explicit INFORMATIONAL exchange carrying a Delete payload. Other error conditions MAY require such an exchange if policy dictates that this is needed. If the exchange is terminated with EAP Failure, an AUTHENTICATION_FAILED notification is not sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
認証の失敗（AUTHENTICATION_FAILEDおよびEAPの失敗）と不正なメッセージ（INVALID_SYNTAX）のみが、削除ペイロードを運ぶ明示的なINFORMATIONAL交換を必要とせずに、IKE SAの削除につながります。他のエラー条件では、ポリシーでこれが必要であると指示されている場合、そのような交換が必要になる場合があります。交換がEAP失敗で終了した場合、AUTHENTICATION_FAILED通知は送信されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-21-1--Error-Handling-in-IKESAINIT">
2.21.1. Error Handling in IKE_SA_INIT
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.21.1. IKE_SA_INITでのエラー処理
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Errors that occur before a cryptographically protected IKE SA is established need to be handled very carefully. There is a trade-off between wanting to help the peer to diagnose a problem and thus responding to the error and wanting to avoid being part of a DoS attack based on forged messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
暗号で保護されたIKE SAが確立される前に発生したエラーは、非常に慎重に処理する必要があります。ピアが問題を診断できるように支援することと、エラーに対応することと、偽造されたメッセージに基づくDoS攻撃の一部にならないようにすることの間にはトレードオフがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In an IKE_SA_INIT exchange, any error notification causes the exchange to fail. Note that some error notifications such as COOKIE, INVALID_KE_PAYLOAD or INVALID_MAJOR_VERSION may lead to a subsequent successful exchange. Because all error notifications are completely unauthenticated, the recipient should continue trying for some time before giving up. The recipient should not immediately act based on the error notification unless corrective actions are defined in this specification, such as for COOKIE, INVALID_KE_PAYLOAD, and INVALID_MAJOR_VERSION.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_SA_INIT交換では、エラー通知により交換が失敗します。 COOKIE、INVALID_KE_PAYLOAD、INVALID_MAJOR_VERSIONなどの一部のエラー通知は、その後の正常な交換につながる可能性があることに注意してください。すべてのエラー通知は完全に認証されていないため、受信者はあきらめる前にしばらく試行を続ける必要があります。受信者は、COOKIE、INVALID_KE_PAYLOAD、およびINVALID_MAJOR_VERSIONなどの修正アクションがこの仕様で定義されていない限り、エラー通知に基づいてすぐに行動すべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-21-2--Error-Handling-in-IKEAUTH">
2.21.2. Error Handling in IKE_AUTH
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.21.2. IKE_AUTHでのエラー処理
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All errors that occur in an IKE_AUTH exchange, causing the authentication to fail for whatever reason (invalid shared secret, invalid ID, untrusted certificate issuer, revoked or expired certificate, etc.) SHOULD result in an AUTHENTICATION_FAILED notification. If the error occurred on the responder, the notification is returned in the protected response, and is usually the only payload in that response. Although the IKE_AUTH messages are encrypted and integrity protected, if the peer receiving this notification has not authenticated the other end yet, that peer needs to treat the information with caution.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_AUTH交換で発生するすべてのエラーは、何らかの理由（無効な共有シークレット、無効なID、信頼されていない証明書発行者、失効または期限切れの証明書など）で認証が失敗する原因になります。AUTHENTICATION_FAILED通知が発生する必要があります。レスポンダでエラーが発生した場合、通知は保護された応答で返され、通常はその応答の唯一のペイロードです。 IKE_AUTHメッセージは暗号化され、整合性が保護されていますが、この通知を受信するピアがもう一方の端をまだ認証していない場合、そのピアは注意して情報を処理する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the error occurs on the initiator, the notification MAY be returned in a separate INFORMATIONAL exchange, usually with no other payloads. This is an exception for the general rule of not starting new exchanges based on errors in responses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエータでエラーが発生した場合、通知は別のINFORMATIONAL交換で返される場合があり、通常は他のペイロードはありません。これは、応答のエラーに基づいて新しい交換を開始しないという一般的な規則の例外です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note, however, that request messages that contain an unsupported critical payload, or where the whole message is malformed (rather than just bad payload contents), MUST be rejected in their entirety, and MUST only lead to an UNSUPPORTED_CRITICAL_PAYLOAD or INVALID_SYNTAX Notification sent as a response. The receiver should not verify the payloads related to authentication in this case.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ただし、サポートされていない重要なペイロードを含む要求メッセージ、またはメッセージ全体が（不正なペイロードの内容ではなく）不正な形式である場合は、完全に拒否する必要があり、UNSUPPORTED_CRITICAL_PAYLOADまたはINVALID_SYNTAX通知のみを送信する必要があることに注意してください。応答。この場合、受信側は認証に関連するペイロードを検証しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 If authentication has succeeded in the IKE_AUTH exchange, the IKE SA is established; however, establishing the Child SA or requesting configuration information may still fail. This failure does not automatically cause the IKE SA to be deleted. Specifically, a responder may include all the payloads associated with authentication (IDr, CERT, and AUTH) while sending error notifications for the piggybacked exchanges (FAILED_CP_REQUIRED, NO_PROPOSAL_CHOSEN, and so on), and the initiator MUST NOT fail the authentication because of this. The initiator MAY, of course, for reasons of policy later delete such an IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
認証がIKE_AUTH交換で成功した場合、IKE SAが確立されます。ただし、子SAの確立または構成情報の要求は依然として失敗する可能性があります。この障害によって、IKE SAが自動的に削除されることはありません。特に、レスポンダは、ピギーバックされた交換（FAILED_CP_REQUIRED、NO_PROPOSAL_CHOSENなど）のエラー通知を送信するときに、認証（IDr、CERT、およびAUTH）に関連付けられたすべてのペイロードを含めることができます。これにより、イニシエータは認証に失敗してはなりません。もちろん、イニシエーターは、ポリシー上の理由から、そのようなIKE SAを後で削除してもかまいません（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In an IKE_AUTH exchange, or in the INFORMATIONAL exchange immediately following it (in case an error happened when processing a response to IKE_AUTH), the UNSUPPORTED_CRITICAL_PAYLOAD, INVALID_SYNTAX, and AUTHENTICATION_FAILED notifications are the only ones to cause the IKE SA to be deleted or not created, without a Delete payload. Extension documents may define new error notifications with these semantics, but MUST NOT use them unless the peer has been shown to understand them, such as by using the Vendor ID payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_AUTH交換、またはその直後のINFORMATIONAL交換（IKE_AUTHへの応答の処理中にエラーが発生した場合）では、UNSUPPORTED_CRITICAL_PAYLOAD、INVALID_SYNTAX、およびAUTHENTICATION_FAILED通知のみが、IKE SAを削除または作成しません。 、削除ペイロードなし。拡張ドキュメントは、これらのセマンティクスで新しいエラー通知を定義する場合がありますが、ベンダーIDペイロードを使用するなどして、ピアがそれらを理解することが示されていない限り、それらを使用してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-21-3--Error-Handling-after-IKE-SA-is-Authenticated">
2.21.3. Error Handling after IKE SA is Authenticated
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.21.3. IKE SAが認証された後のエラー処理
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After the IKE SA is authenticated, all requests having errors MUST result in a response notifying the other end of the error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAが認証された後、エラーのあるすべての要求は、エラーのもう一方の端を通知する応答を生成する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In normal situations, there should not be cases where a valid response from one peer results in an error situation in the other peer, so there should not be any reason for a peer to send error messages to the other end except as a response. Because sending such error messages as an INFORMATIONAL exchange might lead to further errors that could cause loops, such errors SHOULD NOT be sent. If errors are seen that indicate that the peers do not have the same state, it might be good to delete the IKE SA to clean up state and start over.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通常の状況では、一方のピアからの有効な応答が他方のピアでエラー状態になるケースはありません。したがって、ピアが応答として以外にエラーメッセージを相手側に送信する理由はありません。このようなエラーメッセージを情報交換として送信すると、ループを引き起こす可能性のあるエラーがさらに発生する可能性があるため、そのようなエラーは送信しないでください。ピアの状態が同じでないことを示すエラーが表示される場合は、IKE SAを削除して状態をクリーンアップし、最初からやり直すことをお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer parsing a request notices that it is badly formatted (after it has passed the message authentication code checks and window checks) and it returns an INVALID_SYNTAX notification, then this error notification is considered fatal in both peers, meaning that the IKE SA is deleted without needing an explicit Delete payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リクエストを解析するピアがフォーマットが正しくないことを認識し（メッセージ認証コードチェックとウィンドウチェックに合格した後）、INVALID_SYNTAX通知を返した場合、このエラー通知は両方のピアで致命的と見なされます。つまり、IKE SAは明示的な削除ペイロードを必要とせずに削除されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-21-4--Error-Handling-Outside-IKE-SA">
2.21.4. Error Handling Outside IKE SA
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.21.4. IKE SA外でのエラー処理
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A node needs to limit the rate at which it will send messages in response to unprotected messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ノードは、保護されていないメッセージに応答してメッセージを送信する速度を制限する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 If a node receives a message on UDP port 500 or 4500 outside the context of an IKE SA known to it (and the message is not a request to start an IKE SA), this may be the result of a recent crash of the node. If the message is marked as a response, the node can audit the suspicious event but MUST NOT respond. If the message is marked as a request, the node can audit the suspicious event and MAY send a response. If a response is sent, the response MUST be sent to the IP address and port from where it came with the same IKE SPIs and the Message ID copied. The response MUST NOT be cryptographically protected and MUST contain an INVALID_IKE_SPI Notify payload. The INVALID_IKE_SPI notification indicates an IKE message was received with an unrecognized destination SPI; this usually indicates that the recipient has rebooted and forgotten the existence of an IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
ノードが既知のIKE SAのコンテキスト外でUDPポート500または4500でメッセージを受信する場合（メッセージはIKE SAを開始するための要求ではない）、これはノードの最近のクラッシュの結果である可能性があります。メッセージが応答としてマークされている場合、ノードは疑わしいイベントを監査できますが、応答してはなりません。メッセージが要求としてマークされている場合、ノードは疑わしいイベントを監査し、応答を送信できます（MAY）。応答が送信される場合、応答は、同じIKE SPIとメッセージIDがコピーされた元のIPアドレスとポートに送信される必要があります。応答は暗号で保護されてはならず（MUST NOT）、INVALID_IKE_SPI Notifyペイロードを含んでいる必要があります。 INVALID_IKE_SPI通知は、認識されない宛先SPIでIKEメッセージが受信されたことを示します。これは通常、受信者が再起動し、IKE SAの存在を忘れたことを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A peer receiving such an unprotected Notify payload MUST NOT respond and MUST NOT change the state of any existing SAs. The message might be a forgery or might be a response that a genuine correspondent was tricked into sending. A node should treat such a message (and also a network message like ICMP destination unreachable) as a hint that there might be problems with SAs to that IP address and should initiate a liveness check for any such IKE SA. An implementation SHOULD limit the frequency of such tests to avoid being tricked into participating in a DoS attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このような保護されていない通知ペイロードを受信するピアは、応答したり、既存のSAの状態を変更してはいけません（MUST NOT）。メッセージは偽造の場合もあれば、本物の特派員がだまされて送信した応答の場合もあります。ノードは、このようなメッセージ（およびICMP宛先到達不能などのネットワークメッセージ）を、そのIPアドレスに対するSAに問題がある可能性があるというヒントとして扱い、そのようなIKE SAの活性チェックを開始する必要があります。実装は、そのようなテストの頻度を制限して、だまされてDoS攻撃に参加することを回避する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an error occurs outside the context of an IKE request (e.g., the node is getting ESP messages on a nonexistent SPI), the node SHOULD initiate an INFORMATIONAL exchange with a Notify payload describing the problem.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEリクエストのコンテキスト外でエラーが発生した場合（たとえば、ノードが存在しないSPIでESPメッセージを取得している場合）、ノードは、問題を説明する通知ペイロードとの情報交換を開始する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A node receiving a suspicious message from an IP address (and port, if NAT traversal is used) with which it has an IKE SA SHOULD send an IKE Notify payload in an IKE INFORMATIONAL exchange over that SA. The recipient MUST NOT change the state of any SAs as a result, but may wish to audit the event to aid in diagnosing malfunctions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAを持つIPアドレス（およびNATトラバーサルが使用されている場合はポート）から疑わしいメッセージを受信するノードは、そのSAを介してIKE通知交換でIKE通知ペイロードを送信する必要があります（SHOULD）。結果として、受信者はSAの状態を変更してはなりませんが、誤動作の診断に役立つようにイベントを監査したい場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-22--IPComp">
2.22. IPComp
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.22. IPComp
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Use of IP Compression [IP-COMP] can be negotiated as part of the setup of a Child SA. While IP Compression involves an extra header in each packet and a compression parameter index (CPI), the virtual &#34;compression association&#34; has no life outside the ESP or AH SA that contains it. Compression associations disappear when the corresponding ESP or AH SA goes away. It is not explicitly mentioned in any Delete payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAのセットアップの一部として、IP圧縮の使用[IP-COMP]をネゴシエートできます。 IP圧縮には各パケットの追加ヘッダーと圧縮パラメーターインデックス（CPI）が含まれますが、仮想 &#34;圧縮関連付け&#34;には、それを含むESPまたはAH SAの外部での寿命はありません。対応するESPまたはAH SAがなくなると、圧縮の関連付けは消えます。 Deleteペイロードでは明示的に言及されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Negotiation of IP Compression is separate from the negotiation of cryptographic parameters associated with a Child SA. A node requesting a Child SA MAY advertise its support for one or more compression algorithms through one or more Notify payloads of type IPCOMP_SUPPORTED. This Notify message may be included only in a message containing an SA payload negotiating a Child SA and indicates a willingness by its sender to use IPComp on this SA. The response MAY indicate acceptance of a single compression algorithm with a Notify payload of type IPCOMP_SUPPORTED. These payloads MUST NOT occur in messages that do not contain SA payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IP圧縮のネゴシエーションは、子SAに関連付けられた暗号化パラメーターのネゴシエーションとは異なります。子SAを要求するノードは、IPCOMP_SUPPORTEDタイプの1つ以上の通知ペイロードを介して、1つ以上の圧縮アルゴリズムのサポートを通知する場合があります。この通知メッセージは、子SAをネゴシエートするSAペイロードを含むメッセージにのみ含めることができ、送信者がこのSAでIPCompを使用する意思を示します。応答は、IPCOMP_SUPPORTEDタイプのNotifyペイロードを持つ単一の圧縮アルゴリズムの受け入れを示してもよい（MAY）。これらのペイロードは、SAペイロードを含まないメッセージで発生してはなりません（MUST NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data associated with this Notify message includes a two-octet IPComp CPI followed by a one-octet Transform ID optionally followed by attributes whose length and format are defined by that Transform ID. A message proposing an SA may contain multiple IPCOMP_SUPPORTED notifications to indicate multiple supported algorithms. A message accepting an SA may contain at most one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この通知メッセージに関連付けられたデータには、2オクテットのIPComp CPIとそれに続く1オクテットの変換IDが含まれ、オプションで、その変換IDによって長さと形式が定義されている属性が続きます。 SAを提案するメッセージには、サポートされている複数のアルゴリズムを示す複数のIPCOMP_SUPPORTED通知が含まれる場合があります。 SAを受け入れるメッセージには、多くても1つしか含めることができません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Transform IDs are listed here. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここに変換IDがリストされます。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Name              Number   Defined In
   ----------------------------------------
   IPCOMP_OUI        1        (UNSPECIFIED)
   IPCOMP_DEFLATE    2        RFC 2394
   IPCOMP_LZS        3        RFC 2395
   IPCOMP_LZJH       4        RFC 3051
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although there has been discussion of allowing multiple compression algorithms to be accepted and to have different compression algorithms available for the two directions of a Child SA, implementations of this specification MUST NOT accept an IPComp algorithm that was not proposed, MUST NOT accept more than one, and MUST NOT compress using an algorithm other than one proposed and accepted in the setup of the Child SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
複数の圧縮アルゴリズムを受け入れ、子SAの2つの方向で異なる圧縮アルゴリズムを使用できるようにすることについての議論がありましたが、この仕様の実装は、提案されていないIPCompアルゴリズムを受け入れてはならず、複数を受け入れてはなりません、および子SAのセットアップで提案および受け入れられているアルゴリズム以外のアルゴリズムを使用して圧縮してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A side effect of separating the negotiation of IPComp from cryptographic parameters is that it is not possible to propose multiple cryptographic suites and propose IP Compression with some of them but not others.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPCompのネゴシエーションを暗号化パラメーターから分離することの副作用は、複数の暗号化スイートを提案し、それらのいくつかでIP圧縮を提案することはできず、他のものでは提案できないことです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In some cases, Robust Header Compression (ROHC) may be more appropriate than IP Compression. [ROHCV2] defines the use of ROHC with IKEv2 and IPsec.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
場合によっては、Robust Header Compression（ROHC）がIP圧縮よりも適切な場合があります。 [ROHCV2]は、IKEv2およびIPsecでのROHCの使用を定義します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-23--NAT-Traversal">
2.23. NAT Traversal
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.23. NATトラバーサル
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Network Address Translation (NAT) gateways are a controversial subject. This section briefly describes what they are and how they are likely to act on IKE traffic. Many people believe that NATs are evil and that we should not design our protocols so as to make them work better. IKEv2 does indeed specify some unintuitive processing rules so that NATs are more likely to work.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ネットワークアドレス変換（NAT）ゲートウェイは物議を醸す主題です。このセクションでは、それらが何であるか、およびIKEトラフィックにどのように作用する可能性が高いかについて簡単に説明します。多くの人々は、NATは悪であり、プロトコルをより適切に機能させるために設計すべきではないと考えています。実際、IKEv2は、NATが機能する可能性が高くなるように、いくつかの直感的でない処理ルールを指定しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATs exist primarily because of the shortage of IPv4 addresses, though there are other rationales. IP nodes that are &#34;behind&#34; a NAT have IP addresses that are not globally unique, but rather are assigned from some space that is unique within the network behind the NAT but that are likely to be reused by nodes behind other NATs. Generally, nodes behind NATs can communicate with other nodes behind the same NAT and with nodes with globally unique addresses, but not with nodes behind other NATs. There are exceptions to that rule. When those nodes make connections to nodes on the real Internet, the NAT gateway &#34;translates&#34; the IP source address to an address that will be routed back to the gateway. Messages to the gateway from the Internet have their destination addresses &#34;translated&#34; to the internal address that will route the packet to the correct endnode.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATは、主にIPv4アドレスの不足が原因で存在しますが、他の根拠もあります。 NATの「背後」にあるIPノードは、グローバルに一意ではないが、NATの背後にあるネットワーク内で一意であるが、他のNATの背後にあるノードによって再利用される可能性が高いいくつかのスペースから割り当てられます。一般に、NATの背後にあるノードは、同じNATの背後にある他のノードおよびグローバルに一意のアドレスを持つノードと通信できますが、他のNATの背後にあるノードとは通信できません。そのルールには例外があります。これらのノードが実際のインターネット上のノードに接続すると、NATゲートウェイはIP送信元アドレスをゲートウェイにルーティングされるアドレスに「変換」します。インターネットからゲートウェイへのメッセージの宛先アドレスは、パケットを正しいエンドノードにルーティングする内部アドレスに「変換」されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATs are designed to be &#34;transparent&#34; to endnodes. Neither software on the node behind the NAT nor the node on the Internet requires modification to communicate through the NAT. Achieving this transparency is more difficult with some protocols than with others. Protocols that include IP addresses of the endpoints within the payloads of the packet will fail unless the NAT gateway understands the protocol and modifies the internal references as well as those in the headers. Such knowledge is inherently unreliable, is a network layer violation, and often results in subtle problems.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATは、エンドノードに対して「透過的」であるように設計されています。 NATの背後にあるノード上のソフトウェアも、インターネット上のノードも、NATを介して通信するための変更は必要ありません。この透明性を実現することは、一部のプロトコルでは他のプロトコルよりも困難です。パケットのペイロード内にエンドポイントのIPアドレスを含むプロトコルは、NATゲートウェイがプロトコルを理解し、内部参照とヘッダー内の参照を変更しない限り失敗します。このような知識は本質的に信頼できず、ネットワーク層の違反であり、しばしば微妙な問題を引き起こします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Opening an IPsec connection through a NAT introduces special problems. If the connection runs in transport mode, changing the IP addresses on packets will cause the checksums to fail and the NAT cannot correct the checksums because they are cryptographically protected. Even in tunnel mode, there are routing problems because transparently translating the addresses of AH and ESP packets requires special logic in the NAT and that logic is heuristic and unreliable in nature. For that reason, IKEv2 will use UDP encapsulation of IKE and ESP packets. This encoding is slightly less efficient but is easier for NATs to process. In addition, firewalls may be configured to pass UDP-encapsulated IPsec traffic but not plain, unencapsulated ESP/AH or vice versa.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATを介してIPsec接続を開くと、特別な問題が発生します。接続がトランスポートモードで実行されている場合、パケットのIPアドレスを変更するとチェックサムが失敗し、暗号で保護されているため、NATはチェックサムを修正できません。トンネルモードでも、AHおよびESPパケットのアドレスを透過的に変換するにはNATで特別なロジックが必要であり、そのロジックは本質的にヒューリスティックで信頼性が低いため、ルーティングの問題があります。そのため、IKEv2はIKEおよびESPパケットのUDPカプセル化を使用します。このエンコーディングは少し効率的ではありませんが、NATが処理する方が簡単です。さらに、ファイアウォールは、UDPでカプセル化されたIPsecトラフィックを通過させるが、プレーンでカプセル化されていないESP / AHは通過させないように構成することも、その逆も可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is a common practice of NATs to translate TCP and UDP port numbers as well as addresses and use the port numbers of inbound packets to decide which internal node should get a given packet. For this reason, even though IKE packets MUST be sent to and from UDP port 500 or 4500, they MUST be accepted coming from any port and responses MUST be sent to the port from whence they came. This is because the ports may be modified as the packets pass through NATs. Similarly, IP addresses of the IKE endpoints are generally not included in the IKE payloads because the payloads are cryptographically protected and could not be transparently modified by NATs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TCPおよびUDPのポート番号とアドレスを変換し、受信パケットのポート番号を使用して、特定のパケットを取得する内部ノードを決定することは、NATの一般的な方法です。このため、UDPポート500または4500との間でIKEパケットを送受信する必要がありますが、任意のポートからの受信を受け入れなければならず、どこから着信したかを問わず応答をポートに送信する必要があります。これは、パケットがNATを通過するときにポートが変更される可能性があるためです。同様に、ペイロードは暗号で保護されており、NATによって透過的に変更できないため、IKEエンドポイントのIPアドレスは通常、IKEペイロードに含まれていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Port 4500 is reserved for UDP-encapsulated ESP and IKE. An IPsec endpoint that discovers a NAT between it and its correspondent (as described below) MUST send all subsequent traffic from port 4500, which NATs should not treat specially (as they might with port 500).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポート4500は、UDPカプセル化ESPおよびIKE用に予約されています。 （以下で説明するように）それと対応する相手との間のNATを発見するIPsecエンドポイントは、ポート4500から後続のすべてのトラフィックを送信する必要があります。NATは（ポート500の場合のように）特別に処理してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An initiator can use port 4500 for both IKE and ESP, regardless of whether or not there is a NAT, even at the beginning of IKE. When either side is using port 4500, sending ESP with UDP encapsulation is not required, but understanding received UDP-encapsulated ESP packets is required. UDP encapsulation MUST NOT be done on port 500. If Network Address Translation Traversal (NAT-T) is supported (that is, if NAT_DETECTION_*_IP payloads were exchanged during IKE_SA_INIT), all devices MUST be able to receive and process both UDP-encapsulated ESP and non-UDP-encapsulated ESP packets at any time. Either side can decide whether or not to use UDP encapsulation for ESP irrespective of the choice made by the other side. However, if a NAT is detected, both devices MUST use UDP encapsulation for ESP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、IKEの最初であっても、NATの有無に関係なく、IKEとESPの両方にポート4500を使用できます。どちらかの側がポート4500を使用している場合、UDPカプセル化でESPを送信する必要はありませんが、受信したUDPカプセル化ESPパケットを理解する必要があります。 UDPカプセル化はポート500で実行してはなりません（MUST NOT）。ネットワークアドレス変換トラバーサル（NAT-T）がサポートされている場合（つまり、NAT_DETECTION _ * _ IPペイロードがIKE_SA_INIT中に交換された場合）、すべてのデバイスが両方のUDPカプセル化を受信して​​処理できる必要がありますESPおよび非UDPカプセル化ESPパケットをいつでも。どちら側でも、相手側の選択に関係なく、ESPにUDPカプセル化を使用するかどうかを決定できます。ただし、NATが検出された場合、両方のデバイスでESPにUDPカプセル化を使用する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The specific requirements for supporting NAT traversal [NATREQ] are listed below. Support for NAT traversal is optional. In this section only, requirements listed as MUST apply only to implementations supporting NAT traversal.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATトラバーサル[NATREQ]をサポートするための具体的な要件を以下に示します。 NATトラバーサルのサポートはオプションです。このセクションでのみ、「必須」としてリストされている要件は、NATトラバーサルをサポートする実装にのみ適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Both the IKE initiator and responder MUST include in their IKE_SA_INIT packets Notify payloads of type NAT_DETECTION_SOURCE_IP and NAT_DETECTION_DESTINATION_IP. Those payloads can be used to detect if there is NAT between the hosts, and which end is behind the NAT. The location of the payloads in the IKE_SA_INIT packets is just after the Ni and Nr payloads (before the optional CERTREQ payload).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKEイニシエーターとレスポンダーの両方が、IKE_SA_INITパケットにタイプNAT_DETECTION_SOURCE_IPおよびNAT_DETECTION_DESTINATION_IPの通知ペイロードを含める必要があります。これらのペイロードを使用して、ホスト間にNATがあるかどうか、およびどちらの端がNATの背後にあるかを検出できます。 IKE_SA_INITパケット内のペイロードの場所は、NiおよびNrペイロードの直後（オプションのCERTREQペイロードの前）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The data associated with the NAT_DETECTION_SOURCE_IP notification is a SHA-1 digest of the SPIs (in the order they appear in the header), IP address, and port from which this packet was sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o NAT_DETECTION_SOURCE_IP通知に関連付けられているデータは、SPIのSHA-1ダイジェスト（ヘッダーに表示される順序）、IPアドレス、およびこのパケットの送信元のポートです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
There MAY be multiple NAT_DETECTION_SOURCE_IP payloads in a message if the sender does not know which of several network attachments will be used to send the packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
送信者がパケットの送信に使用される複数のネットワークアタッチメントのどれを認識していない場合、メッセージに複数のNAT_DETECTION_SOURCE_IPペイロードが存在する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The data associated with the NAT_DETECTION_DESTINATION_IP notification is a SHA-1 digest of the SPIs (in the order they appear in the header), IP address, and port to which this packet was sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o NAT_DETECTION_DESTINATION_IP通知に関連付けられているデータは、SPIのSHA-1ダイジェスト（ヘッダーに表示される順序）、IPアドレス、およびこのパケットの送信先のポートです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 o The recipient of either the NAT_DETECTION_SOURCE_IP or NAT_DETECTION_DESTINATION_IP notification MAY compare the supplied value to a SHA-1 hash of the SPIs, source or recipient IP address, and port (respectively), and if they don&#39;t match, it SHOULD enable NAT traversal. In the case there is a mismatch of the NAT_DETECTION_SOURCE_IP hash with all of the NAT_DETECTION_SOURCE_IP payloads received, the recipient MAY reject the connection attempt if NAT traversal is not supported. In the case of a mismatching NAT_DETECTION_DESTINATION_IP hash, it means that the system receiving the NAT_DETECTION_DESTINATION_IP payload is behind a NAT and that system SHOULD start sending keepalive packets as defined in [UDPENCAPS]; alternately, it MAY reject the connection attempt if NAT traversal is not supported.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
o NAT_DETECTION_SOURCE_IPまたはNAT_DETECTION_DESTINATION_IP通知のいずれかの受信者は、提供された値をSPI、送信元または受信者のIPアドレス、およびポート（それぞれ）のSHA-1ハッシュと比較してもよく、一致しない場合は、NATトラバーサルを有効にする必要があります（SHOULD）。 。 NAT_DETECTION_SOURCE_IPハッシュが受信したすべてのNAT_DETECTION_SOURCE_IPペイロードと一致しない場合、NATトラバーサルがサポートされていなければ、受信者は接続の試行を拒否できます（MAY）。 NAT_DETECTION_DESTINATION_IPハッシュが一致しない場合は、NAT_DETECTION_DESTINATION_IPペイロードを受信するシステムがNATの背後にあり、[UDPENCAPS]で定義されているようにキープアライブパケットの送信を開始する必要がある（SHOULD）。あるいは、NATトラバーサルがサポートされていない場合は、接続試行を拒否してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If none of the NAT_DETECTION_SOURCE_IP payload(s) received matches the expected value of the source IP and port found from the IP header of the packet containing the payload, it means that the system sending those payloads is behind a NAT (i.e., someone along the route changed the source address of the original packet to match the address of the NAT box). In this case, the system receiving the payloads should allow dynamic updates of the other system&#39;s IP address, as described later.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 受信したNAT_DETECTION_SOURCE_IPペイロードのいずれも、ペイロードを含むパケットのIPヘッダーから見つかった送信元IPおよびポートの期待値と一致しない場合、それらのペイロードを送信するシステムがNATの背後にいることを意味します（つまり、ルートが元のパケットの送信元アドレスをNATボックスのアドレスと一致するように変更しました）。この場合、ペイロードを受信するシステムは、後で説明するように、他のシステムのIPアドレスの動的更新を許可する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The IKE initiator MUST check the NAT_DETECTION_SOURCE_IP or NAT_DETECTION_DESTINATION_IP payloads if present, and if they do not match the addresses in the outer packet, MUST tunnel all future IKE and ESP packets associated with this IKE SA over UDP port 4500.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKEイニシエーターは、NAT_DETECTION_SOURCE_IPまたはNAT_DETECTION_DESTINATION_IPペイロードが存在する場合はそれらをチェックする必要があり、それらが外部パケットのアドレスと一致しない場合、UDPポート4500を介してこのIKE SAに関連付けられている将来のすべてのIKEおよびESPパケットをトンネリングする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o To tunnel IKE packets over UDP port 4500, the IKE header has four octets of zeros prepended and the result immediately follows the UDP header. To tunnel ESP packets over UDP port 4500, the ESP header immediately follows the UDP header. Since the first four octets of the ESP header contain the SPI, and the SPI cannot validly be zero, it is always possible to distinguish ESP and IKE messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o UDPポート4500を介してIKEパケットをトンネリングするために、IKEヘッダーには4つのオクテットのゼロが付加されており、結果はUDPヘッダーの直後に続きます。 ESPパケットをUDPポート4500でトンネリングするために、ESPヘッダーはUDPヘッダーの直後に続きます。 ESPヘッダーの最初の4つのオクテットにはSPIが含まれており、SPIを有効にゼロにすることはできないため、ESPメッセージとIKEメッセージを区別することは常に可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Implementations MUST process received UDP-encapsulated ESP packets even when no NAT was detected.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 実装は、NATが検出されなかった場合でも、受信したUDPカプセル化ESPパケットを処理する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The original source and destination IP address required for the transport mode TCP and UDP packet checksum fixup (see [UDPENCAPS]) are obtained from the Traffic Selectors associated with the exchange. In the case of transport mode NAT traversal, the Traffic Selectors MUST contain exactly one IP address, which is then used as the original IP address. This is covered in greater detail in Section 2.23.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o トランスポートモードのTCPおよびUDPパケットチェックサムフィックスアップ（[UDPENCAPS]を参照）に必要な元の送信元および宛先IPアドレスは、交換に関連付けられたトラフィックセレクターから取得されます。トランスポートモードのNATトラバーサルの場合、トラフィックセレクターにはIPアドレスが1つだけ含まれている必要があります。これは、元のIPアドレスとして使用されます。これについては、セクション2.23.1で詳しく説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 o There are cases where a NAT box decides to remove mappings that are still alive (for example, the keepalive interval is too long, or the NAT box is rebooted). This will be apparent to a host if it receives a packet whose integrity protection validates, but has a different port, address, or both from the one that was associated with the SA in the validated packet. When such a validated packet is found, a host that does not support other methods of recovery such as IKEv2 Mobility and Multihoming (MOBIKE) [MOBIKE], and that is not behind a NAT, SHOULD send all packets (including retransmission packets) to the IP address and port in the validated packet, and SHOULD store this as the new address and port combination for the SA (that is, they SHOULD dynamically update the address). A host behind a NAT SHOULD NOT do this type of dynamic address update if a validated packet has different port and/or address values because it opens a possible DoS attack (such as allowing an attacker to break the connection with a single packet). Also, dynamic address update should only be done in response to a new packet; otherwise, an attacker can revert the addresses with old replayed packets. Because of this, dynamic updates can only be done safely if replay protection is enabled. When IKEv2 is used with MOBIKE, dynamically updating the addresses described above interferes with MOBIKE&#39;s way of recovering from the same situation. See Section 3.8 of [MOBIKE] for more information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
o NATボックスがまだ有効なマッピングを削除することを決定する場合があります（たとえば、キープアライブ間隔が長すぎるか、NATボックスが再起動されます）。整合性保護が検証されているが、検証されたパケットのSAに関連付けられていたものとは異なるポート、アドレス、またはその両方を持つパケットを受信した場合、これはホストにとって明らかです。そのような検証済みのパケットが見つかった場合、IKEv2モビリティおよびマルチホーミング（MOBIKE）[MOBIKE]などの他の回復方法をサポートせず、NATの背後にないホストは、すべてのパケット（再送パケットを含む）を検証されたパケット内のIPアドレスとポート。これをSAの新しいアドレスとポートの組み合わせとして格納する必要があります（つまり、動的にアドレスを更新する必要があります）。検証されたパケットのポートやアドレスの値が異なる場合、NATの背後にあるホストはこのタイプの動的アドレス更新を行わないでください（攻撃者が単一のパケットで接続を切断できるようにするなど）。また、動的アドレス更新は新しいパケットに応答してのみ行われるべきです。そうでない場合、攻撃者は古い再生パケットでアドレスを戻すことができます。このため、動的更新は、再生保護が有効になっている場合にのみ安全に実行できます。 MOBIKEでIKEv2を使用する場合、上記のアドレスを動的に更新すると、同じ状況から回復するMOBIKEの方法が妨げられます。詳細については、[MOBIKE]のセクション3.8を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-23-1--Transport-Mode-NAT-Traversal">
2.23.1. Transport Mode NAT Traversal
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.23.1. トランスポートモードNATトラバーサル
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Transport mode used with NAT traversal requires special handling of the Traffic Selectors used in the IKEv2. The complete scenario looks like:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATトラバーサルで使用されるトランスポートモードでは、IKEv2で使用されるトラフィックセレクターの特別な処理が必要です。完全なシナリオは次のようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   +------+        +------+            +------+         +------+
   |Client| IP1    | NAT  | IPN1  IPN2 | NAT  |     IP2 |Server|
   |node  |&lt;------&gt;|  A   |&lt;----------&gt;|  B   |&lt;-------&gt;|      |
   +------+        +------+            +------+         +------+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(Other scenarios are simplifications of this complex case, so this discussion uses the complete scenario.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（他のシナリオはこの複雑なケースを単純化したものなので、この説明では完全なシナリオを使用します。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, there are two address translating NATs: NAT A and NAT B. NAT A is a dynamic NAT that maps the client&#39;s source address IP1 to IPN1. NAT B is a static NAT configured so that connections coming to IPN2 address are mapped to the gateway&#39;s address IP2, that is, IPN2 destination address is mapped to IP2. This allows the client to connect to a server by connecting to the IPN2. NAT B does not necessarily need to be a static NAT, but the client needs to know how to connect to the server, and it can only do that if it somehow knows the outer address of the NAT B, that is, the IPN2 address. If NAT B is a static NAT, then its address can be configured to the client&#39;s configuration. Another option would be to find it using some other protocol (like DNS), but that is outside of scope of IKEv2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、NAT AとNAT Bの2つのアドレス変換NATがあります。NATAは、クライアントの送信元アドレスIP1をIPN1にマッピングするダイナミックNATです。 NAT Bは、IPN2アドレスへの接続がゲートウェイのアドレスIP2にマッピングされるように構成された静的NATです。つまり、IPN2宛先アドレスはIP2にマッピングされます。これにより、クライアントはIPN2に接続してサーバーに接続できます。 NAT Bは必ずしも静的NATである必要はありませんが、クライアントはサーバーへの接続方法を知っている必要があり、NAT Bの外部アドレス、つまりIPN2アドレスを何らかの方法で知っている場合にのみそれを行うことができます。 NAT Bが静的NATの場合、そのアドレスをクライアントの構成に構成できます。別のオプションは、他のプロトコル（DNSなど）を使用して見つけることですが、それはIKEv2の範囲外です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, both the client and server are configured to use transport mode for the traffic originating from the client node and destined to the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このシナリオでは、クライアントとサーバーの両方が、クライアントノードからサーバーに向かうトラフィックにトランスポートモードを使用するように構成されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the client starts creating the IKEv2 SA and Child SA for sending traffic to the server, it may have a triggering packet with source IP address of IP1, and a destination IP address of IPN2. Its Peer Authorization Database (PAD) and SPD needs to have a configuration matching those addresses (or wildcard entries covering them). Because this is transport mode, it uses exactly same addresses as the Traffic Selectors and outer IP address of the IKE packets. For transport mode, it MUST use exactly one IP address in the TSi and TSr payloads. It can have multiple Traffic Selectors if it has, for example, multiple port ranges that it wants to negotiate, but all TSi entries must use the IP1-IP1 range as the IP addresses, and all TSr entries must have the IPN2-IPN2 range as IP addresses. The first Traffic Selector of TSi and TSr SHOULD have very specific Traffic Selectors including protocol and port numbers, such as from the packet triggering the request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントがサーバーにトラフィックを送信するためのIKEv2 SAと子SAの作成を開始すると、送信元IPアドレスがIP1、宛先IPアドレスがIPN2のトリガーパケットが含まれる場合があります。そのピア認証データベース（PAD）とSPDには、これらのアドレス（またはそれらをカバーするワイルドカードエントリ）に一致する構成が必要です。これはトランスポートモードであるため、トラフィックセレクタとまったく同じアドレスとIKEパケットの外部IPアドレスを使用します。トランスポートモードでは、TSiペイロードとTSrペイロードで1つのIPアドレスを使用する必要があります。たとえば、交渉したい複数のポート範囲がある場合、複数のトラフィックセレクターを持つことができますが、すべてのTSiエントリはIPアドレスとしてIP1-IP1範囲を使用する必要があり、すべてのTSrエントリは次のようにIPN2-IPN2範囲を持つ必要がありますIPアドレス。 TSiとTSrの最初のトラフィックセレクターには、リクエストをトリガーするパケットなどからのプロトコルとポート番号を含む非常に特定のトラフィックセレクターが必要です（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NAT A will then replace the source address of the IKE packet from IP1 to IPN1, and NAT B will replace the destination address of the IKE packet from IPN2 to IP2, so when the packet arrives to the server it will still have the exactly same Traffic Selectors that were sent by the client, but the IP address of the IKE packet has been replaced by IPN1 and IP2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次に、NAT AはIKEパケットのソースアドレスをIP1からIPN1に置き換え、NAT BはIKEパケットの宛先アドレスをIPN2からIP2に置き換えます。そのため、パケットがサーバーに到着しても、まったく同じトラフィックが維持されます。クライアントによって送信されたセレクターですが、IKEパケットのIPアドレスはIPN1およびIP2に置き換えられています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the server receives this packet, it normally looks in the Peer Authorization Database (PAD) described in RFC 4301 [IPSECARCH] based on the ID and then searches the SPD based on the Traffic Selectors. Because IP1 does not really mean anything to the server (it is the address client has behind the NAT), it is useless to do a lookup based on that if transport mode is used. On the other hand, the server cannot know whether transport mode is allowed by its policy before it finds the matching SPD entry.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーはこのパケットを受信すると、通常、IDに基づいてRFC 4301 [IPSECARCH]に記述されているピア認証データベース（PAD）を調べ、トラフィックセレクターに基づいてSPDを検索します。 IP1はサーバーに対して実際には何も意味しないため（クライアントがNATの背後にあるアドレスです）、トランスポートモードが使用されている場合、それに基づいてルックアップを行うことはできません。一方、サーバーは、一致するSPDエントリを見つける前に、そのポリシーによってトランスポートモードが許可されているかどうかを知ることができません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 In this case, the server should first check that the initiator requested transport mode, and then do address substitution on the Traffic Selectors. It needs to first store the old Traffic Selector IP addresses to be used later for the incremental checksum fixup (the IP address in the TSi can be stored as the original source address and the IP address in the TSr can be stored as the original destination address). After that, if the other end was detected as being behind a NAT, the server replaces the IP address in TSi payloads with the IP address obtained from the source address of the IKE packet received (that is, it replaces IP1 in TSi with IPN1). If the server&#39;s end was detected to be behind NAT, it replaces the IP address in the TSr payloads with the IP address obtained from the destination address of the IKE packet received (that is, it replaces IPN2 in TSr with IP2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
この場合、サーバーは最初にイニシエーターがトランスポートモードを要求したことを確認してから、トラフィックセレクターでアドレス置換を行う必要があります。最初に古いトラフィックセレクターのIPアドレスを保存して、後で増分チェックサム修正に使用する必要があります（TSiのIPアドレスは元のソースアドレスとして保存でき、TSrのIPアドレスは元の宛先アドレスとして保存できます） ）。その後、相手側がNATの背後にあることが検出された場合、サーバーはTSiペイロードのIPアドレスを、受信したIKEパケットの送信元アドレスから取得したIPアドレスに置き換えます（つまり、TSiのIP1をIPN1に置き換えます）。 。サーバーの端がNATの背後にあることが検出された場合、サーバーはTSrペイロードのIPアドレスを、受信したIKEパケットの宛先アドレスから取得したIPアドレスに置き換えます（つまり、TSrのIPN2をIP2に置き換えます）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After this address substitution, both the Traffic Selectors and the IKE UDP source/destination addresses look the same, and the server does SPD lookup based on those new Traffic Selectors. If an entry is found and it allows transport mode, then that entry is used. If an entry is found but it does not allow transport mode, then the server MAY undo the address substitution and redo the SPD lookup using the original Traffic Selectors. If the second lookup succeeds, the server will create an SA in tunnel mode using real Traffic Selectors sent by the other end.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このアドレスの置換後、トラフィックセレクターとIKE UDP送信元/宛先アドレスは同じに見え、サーバーはこれらの新しいトラフィックセレクターに基づいてSPD検索を実行します。エントリが見つかり、トランスポートモードが許可されている場合、そのエントリが使用されます。エントリは見つかったがトランスポートモードが許可されていない場合、サーバーはアドレス置換を元に戻し、元のトラフィックセレクターを使用してSPDルックアップをやり直すことができます（MAY）。 2番目の検索が成功すると、サーバーは、もう一方の端から送信された実際のトラフィックセレクターを使用して、トンネルモードでSAを作成します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This address substitution in transport mode is needed because the SPD is looked up using the addresses that will be seen by the local host. This will also ensure that the Security Association Database (SAD) entries for the tunnel exit checks and return packets are added using the addresses as seen by the local operating system stack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SPDはローカルホストによって認識されるアドレスを使用して検索されるため、このトランスポートモードでのアドレス置換が必要です。これにより、トンネルの出口チェックと戻りパケットのセキュリティアソシエーションデータベース（SAD）エントリが、ローカルのオペレーティングシステムスタックから見たアドレスを使用して追加されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The most common case is that the server&#39;s SPD will contain wildcard entries matching any addresses, but this also allows making different SPD entries, for example, for different known NATs&#39; outer addresses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最も一般的なケースは、サーバーのSPDに任意のアドレスに一致するワイルドカードエントリが含まれることですが、これにより、たとえば、既知のNATの外部アドレスごとに異なるSPDエントリを作成することもできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After the SPD lookup, the server will do Traffic Selector narrowing based on the SPD entry it found. It will again use the already substituted Traffic Selectors, and it will thus send back Traffic Selectors having IPN1 and IP2 as their IP addresses; it can still narrow down the protocol number or port ranges used by the Traffic Selectors. The SAD entry created for the Child SA will have the addresses as seen by the server, namely IPN1 and IP2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SPDルックアップ後、サーバーは、見つかったSPDエントリに基づいてトラフィックセレクターによる絞り込みを実行します。これは、すでに置き換えられているトラフィックセレクターを再び使用するため、IPN1とIP2をIPアドレスとして持つトラフィックセレクターを送り返します。それでも、トラフィックセレクタによって使用されるプロトコル番号またはポート範囲を絞り込むことができます。子SA用に作成されたSADエントリには、サーバーから見たIPN1とIP2のアドレスが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the client receives the server&#39;s response to the Child SA, it will do similar processing. If the transport mode SA was created, the client can store the original returned Traffic Selectors as original source and destination addresses. It will replace the IP addresses in the Traffic Selectors with the ones from the IP header of the IKE packet: it will replace IPN1 with IP1 and IP2 with IPN2. Then, it will use those Traffic Selectors when verifying the SA against sent Traffic Selectors, and when installing the SAD entry.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントが子SAへのサーバーの応答を受信すると、同様の処理を行います。トランスポートモードSAが作成された場合、クライアントは元の返されたトラフィックセレクターを元の送信元アドレスと宛先アドレスとして保存できます。トラフィックセレクターのIPアドレスをIKEパケットのIPヘッダーのIPアドレスに置き換えます。IPN1をIP1に、IP2をIPN2に置き換えます。次に、送信されたトラフィックセレクタに対してSAを検証するとき、およびSADエントリをインストールするときに、それらのトラフィックセレクタを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A summary of the rules for NAT traversal in transport mode is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トランスポートモードでのNATトラバーサルのルールの概要は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For the client proposing transport mode:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トランスポートモードを提案しているクライアントの場合：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- The TSi entries MUST have exactly one IP address, and that MUST match the source address of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- TSiエントリはIPアドレスを1つだけ持っている必要があり、IKE SAのソースアドレスと一致する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- The TSr entries MUST have exactly one IP address, and that MUST match the destination address of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- TSrエントリはIPアドレスを1つだけ持つ必要があり、IKE SAの宛先アドレスと一致する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- The first TSi and TSr Traffic Selectors SHOULD have very specific Traffic Selectors including protocol and port numbers, such as from the packet triggering the request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- 最初のTSiおよびTSrトラフィックセレクターには、リクエストをトリガーするパケットからのものなど、プロトコルとポート番号を含む非常に特定のトラフィックセレクターが必要です（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- There MAY be multiple TSi and TSr entries.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- 複数のTSiおよびTSrエントリが存在する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- If transport mode for the SA was selected (that is, if the server included USE_TRANSPORT_MODE notification in its response):
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- SAのトランスポートモードが選択された場合（つまり、サーバーがその応答にUSE_TRANSPORT_MODE通知を含めた場合）：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- Store the original Traffic Selectors as the received source and destination address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- 元のトラフィックセレクターを受信した送信元アドレスと宛先アドレスとして保存します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- If the server is behind a NAT, substitute the IP address in the TSr entries with the remote address of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- サーバーがNATの背後にある場合は、TSrエントリのIPアドレスをIKE SAのリモートアドレスに置き換えます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- If the client is behind a NAT, substitute the IP address in the TSi entries with the local address of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- クライアントがNATの背後にある場合は、TSiエントリのIPアドレスをIKE SAのローカルアドレスに置き換えます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- Do address substitution before using those Traffic Selectors for anything other than storing original content of them. This includes verification that Traffic Selectors were narrowed correctly by the other end, creation of the SAD entry, and so on.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
- それらの元のコンテンツを保存する以外の目的でこれらのトラフィックセレクターを使用する前に、アドレス置換を行ってください。これには、トラフィックセレクターが相手側で正しく絞り込まれたことの確認、SADエントリの作成などが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For the responder, when transport mode is proposed by client:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダについて、トランスポートモードがクライアントによって提案された場合：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- Store the original Traffic Selector IP addresses as received source and destination address, in case undo address substitution is needed, to use as the &#34;real source and destination address&#34; specified by [UDPENCAPS], and for TCP/UDP checksum fixup.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- [UDPENCAPS]で指定された「実際の送信元および宛先アドレス」として使用するため、およびTCP / UDPチェックサム修正のために、元に戻すアドレスの置換が必要な場合に、元のトラフィックセレクターIPアドレスを受信した送信元および宛先アドレスとして保存します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- If the client is behind a NAT, substitute the IP address in the TSi entries with the remote address of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- クライアントがNATの背後にある場合は、TSiエントリのIPアドレスをIKE SAのリモートアドレスに置き換えます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- If the server is behind a NAT, substitute the IP address in the TSr entries with the local address of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- サーバーがNATの背後にある場合は、TSrエントリのIPアドレスをIKE SAのローカルアドレスに置き換えます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- Do PAD and SPD lookup using the ID and substituted Traffic Selectors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- IDと置換されたトラフィックセレクターを使用してPADおよびSPDルックアップを実行します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- If no SPD entry was found, or (if found) the SPD entry does not allow transport mode, undo the Traffic Selector substitutions. Do PAD and SPD lookup again using the ID and original Traffic Selectors, but also searching for tunnel mode SPD entry (that is, fall back to tunnel mode).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- SPDエントリが見つからなかった場合、または（見つかった場合）SPDエントリがトランスポートモードを許可しない場合は、Traffic Selectorの置換を元に戻します。 IDと元のトラフィックセレクターを使用してPADおよびSPDルックアップを再度実行しますが、トンネルモードのSPDエントリも検索します（つまり、トンネルモードにフォールバックします）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- However, if a transport mode SPD entry was found, do normal traffic selection narrowing based on the substituted Traffic Selectors and SPD entry. Use the resulting Traffic Selectors when creating SAD entries, and when sending Traffic Selectors back to the client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
- ただし、トランスポートモードのSPDエントリが見つかった場合は、代わりのトラフィックセレクタとSPDエントリに基づいて、通常のトラフィック選択の絞り込みを実行します。 SADエントリを作成するとき、およびトラフィックセレクターをクライアントに送り返すときに、結果のトラフィックセレクターを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-24--Explicit-Congestion-Notification-ECN">
2.24. Explicit Congestion Notification (ECN)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.24. 明示的な輻輳通知（ECN）
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When IPsec tunnels behave as originally specified in [IPSECARCH-OLD], ECN usage is not appropriate for the outer IP headers because tunnel decapsulation processing discards ECN congestion indications to the detriment of the network. ECN support for IPsec tunnels for IKEv1-based IPsec requires multiple operating modes and negotiation (see [ECN]). IKEv2 simplifies this situation by requiring that ECN be usable in the outer IP headers of all tunnel mode Child SAs created by IKEv2. Specifically, tunnel encapsulators and decapsulators for all tunnel mode SAs created by IKEv2 MUST support the ECN full-functionality option for tunnels specified in [ECN] and MUST implement the tunnel encapsulation and decapsulation processing specified in [IPSECARCH] to prevent discarding of ECN congestion indications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPsecトンネルが[IPSECARCH-OLD]で最初に指定されたとおりに動作する場合、トンネルのカプセル化解除処理によってECNの輻輳表示が破棄され、ネットワークに悪影響が及ぶため、ECNの使用は外部IPヘッダーには適していません。 IKEv1ベースのIPsecのIPsecトンネルのECNサポートには、複数の動作モードとネゴシエーションが必要です（[ECN]を参照）。 IKEv2は、IKEv2によって作成されたすべてのトンネルモードの子SAの外部IPヘッダーでECNを使用できるようにすることで、この状況を簡略化します。特に、IKEv2によって作成されたすべてのトンネルモードSAのトンネルカプセル化装置とカプセル化解除装置は、[ECN]で指定されたトンネルのECN全機能オプションをサポートしなければならず、[IPSECARCH]で指定されたトンネルカプセル化とカプセル化解除処理を実装して、ECN輻輳表示の破棄を防止しなければなりません（MUST）。 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-25--Exchange-Collisions">
2.25. Exchange Collisions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.25. 衝突の交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because IKEv2 exchanges can be initiated by either peer, it is possible that two exchanges affecting the same SA partly overlap. This can lead to a situation where the SA state information is temporarily not synchronized, and a peer can receive a request that it cannot process in a normal fashion.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2交換はどちらのピアでも開始できるため、同じSAに影響を与える2つの交換が部分的にオーバーラップする可能性があります。これにより、SA状態情報が一時的に同期されず、ピアが通常の方法では処理できない要求を受信する可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Obviously, using a window size greater than 1 leads to more complex situations, especially if requests are processed out of order. This section concentrates on problems that can arise even with a window size of 1, and recommends solutions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
明らかに、1より大きいウィンドウサイズを使用すると、特に要求が順不同で処理される場合、より複雑な状況が発生します。このセクションでは、ウィンドウサイズが1の場合でも発生する可能性がある問題に焦点を当て、解決策を推奨します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 A TEMPORARY_FAILURE notification SHOULD be sent when a peer receives a request that cannot be completed due to a temporary condition such as a rekeying operation. When a peer receives a TEMPORARY_FAILURE notification, it MUST NOT immediately retry the operation; it MUST wait so that the sender may complete whatever operation caused the temporary condition. The recipient MAY retry the request one or more times over a period of several minutes. If a peer continues to receive TEMPORARY_FAILURE on the same IKE SA after several minutes, it SHOULD conclude that the state information is out of sync and close the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
TEMPORARY_FAILURE通知は、キー更新操作などの一時的な条件のために完了できない要求をピアが受信したときに送信する必要があります（SHOULD）。ピアがTEMPORARY_FAILURE通知を受け取った場合、すぐに操作を再試行してはなりません。送信者が一時的な状態を引き起こした操作を完了できるように待機する必要があります。受信者は、数分間に1回以上リクエストを再試行する場合があります。ピアが数分後も同じIKE SAでTEMPORARY_FAILUREを受信し続ける場合は、状態情報が同期していないと判断して、IKE SAを閉じる必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A CHILD_SA_NOT_FOUND notification SHOULD be sent when a peer receives a request to rekey a Child SA that does not exist. The SA that the initiator attempted to rekey is indicated by the SPI field in the Notify payload, which is copied from the SPI field in the REKEY_SA notification. A peer that receives a CHILD_SA_NOT_FOUND notification SHOULD silently delete the Child SA (if it still exists) and send a request to create a new Child SA from scratch (if the Child SA does not yet exist).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CHILD_SA_NOT_FOUND通知は、ピアが、存在しない子SAの鍵を再生成する要求を受信したときに送信される必要があります（SHOULD）。イニシエーターがキーの再作成を試みたSAは、REKEY_SA通知のSPIフィールドからコピーされたNotifyペイロードのSPIフィールドで示されます。 CHILD_SA_NOT_FOUND通知を受信するピアは、子SAがサイレントに削除され（まだ存在する場合）、新しい子SAを最初から作成する要求を送信する必要があります（子SAがまだ存在しない場合）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-25-1--Collisions-while-Rekeying-or-Closing-Child-SAs">
2.25.1. Collisions while Rekeying or Closing Child SAs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.25.1. 子SAの再キーイングまたはクローズ時の衝突
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer receives a request to rekey a Child SA that it is currently trying to close, it SHOULD reply with TEMPORARY_FAILURE. If a peer receives a request to rekey a Child SA that it is currently rekeying, it SHOULD reply as usual, and SHOULD prepare to close redundant SAs later based on the nonces (see Section 2.8.1). If a peer receives a request to rekey a Child SA that does not exist, it SHOULD reply with CHILD_SA_NOT_FOUND.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアが、現在閉じようとしている子SAのキーを再生成する要求を受け取った場合、TEMPORARY_FAILUREで応答する必要があります（SHOULD）。ピアが、現在キーを再生成している子SAを再キー化する要求を受け取った場合、通常どおりに応答する必要があり（SHOULD）、ナンスに基づいて冗長SAを後で閉じる準備をする必要があります（セクション2.8.1を参照）。ピアが、存在しない子SAのキーを再生成する要求を受け取った場合、CHILD_SA_NOT_FOUNDで応答する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer receives a request to close a Child SA that it is currently trying to close, it SHOULD reply without a Delete payload (see Section 1.4.1). If a peer receives a request to close a Child SA that it is currently rekeying, it SHOULD reply as usual, with a Delete payload. If a peer receives a request to close a Child SA that does not exist, it SHOULD reply without a Delete payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアが、現在閉じようとしている子SAを閉じる要求を受け取った場合、削除ペイロードなしで応答する必要があります（セクション1.4.1を参照）。ピアが、現在キーを再生成している子SAを閉じる要求を受け取った場合は、削除ペイロードを使用して、通常どおりに応答する必要があります（SHOULD）。ピアが、存在しない子SAを閉じる要求を受信した場合、削除ペイロードなしで応答する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer receives a request to rekey the IKE SA, and it is currently creating, rekeying, or closing a Child SA of that IKE SA, it SHOULD reply with TEMPORARY_FAILURE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアがIKE SAのキーを再生成する要求を受信し、現在そのIKE SAの子SAを作成、再キー、またはクローズしている場合、TEMPORARY_FAILUREで応答する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2-25-2--Collisions-while-Rekeying-or-Closing-IKE-SAs">
2.25.2. Collisions while Rekeying or Closing IKE SAs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.25.2. IKE SAのキー再生成またはクローズ時の衝突
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer receives a request to rekey an IKE SA that it is currently rekeying, it SHOULD reply as usual, and SHOULD prepare to close redundant SAs and move inherited Child SAs later based on the nonces (see Section 2.8.2). If a peer receives a request to rekey an IKE SA that it is currently trying to close, it SHOULD reply with TEMPORARY_FAILURE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアが現在キーを再生成しているIKE SAを再キー化する要求を受信した場合、通常どおりに応答し、冗長なSAを閉じて、ナンスに基づいて継承された子SAを後で移動する準備をする必要があります（セクション2.8.2を参照）。ピアが、現在閉じようとしているIKE SAのキーを再生成する要求を受け取った場合は、TEMPORARY_FAILUREで応答する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer receives a request to close an IKE SA that it is currently rekeying, it SHOULD reply as usual, and forget about its own rekeying request. If a peer receives a request to close an IKE SA that it is currently trying to close, it SHOULD reply as usual, and forget about its own close request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアが現在キーを再生成しているIKE SAを閉じる要求を受け取った場合、ピアは通常どおりに応答し、独自の再キー要求を忘れるべきです（SHOULD）。ピアが現在閉じようとしているIKE SAを閉じる要求を受け取った場合、ピアは通常どおりに応答し、自身の閉じる要求を忘れるべきです（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a peer receives a request to create or rekey a Child SA when it is currently rekeying the IKE SA, it SHOULD reply with TEMPORARY_FAILURE. If a peer receives a request to delete a Child SA when it is currently rekeying the IKE SA, it SHOULD reply as usual, with a Delete payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアが現在IKE SAのキーを再生成しているときに子SAを作成または再キー化する要求を受信した場合、TEMPORARY_FAILUREで応答する必要があります（SHOULD）。ピアが現在IKE SAのキーを再生成しているときに子SAを削除する要求を受信した場合、ピアは通常どおり、Deleteペイロードで応答する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--Header-and-Payload-Formats">
3. Header and Payload Formats
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. ヘッダーとペイロードのフォーマット
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the tables in this section, some cryptographic primitives and configuration attributes are marked as &#34;UNSPECIFIED&#34;. These are items for which there are no known specifications and therefore interoperability is currently impossible. A future specification may describe their use, but until such specification is made, implementations SHOULD NOT attempt to use items marked as &#34;UNSPECIFIED&#34; in implementations that are meant to be interoperable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションの表では、一部の暗号プリミティブと構成属性が「未指定」としてマークされています。これらは既知の仕様がないため、相互運用性は現在不可能です。将来の仕様ではそれらの使用について説明する可能性がありますが、そのような仕様が作成されるまで、実装は相互運用可能であることが意図されている実装で「未指定」とマークされた項目の使用を試みるべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-1--The-IKE-Header">
3.1. The IKE Header
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. IKEヘッダー
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE messages use UDP ports 500 and/or 4500, with one IKE message per UDP datagram. Information from the beginning of the packet through the UDP header is largely ignored except that the IP addresses and UDP ports from the headers are reversed and used for return packets. When sent on UDP port 500, IKE messages begin immediately following the UDP header. When sent on UDP port 4500, IKE messages have prepended four octets of zeros. These four octets of zeros are not part of the IKE message and are not included in any of the length fields or checksums defined by IKE. Each IKE message begins with the IKE header, denoted HDR in this document. Following the header are one or more IKE payloads each identified by a Next Payload field in the preceding payload. Payloads are identified in the order in which they appear in an IKE message by looking in the Next Payload field in the IKE header, and subsequently according to the Next Payload field in the IKE payload itself until a Next Payload field of zero indicates that no payloads follow. If a payload of type &#34;Encrypted&#34; is found, that payload is decrypted and its contents parsed as additional payloads. An Encrypted payload MUST be the last payload in a packet and an Encrypted payload MUST NOT contain another Encrypted payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEメッセージはUDPポート500または4500、あるいはその両方を使用し、UDPデータグラムごとに1つのIKEメッセージを使用します。ヘッダーのIPアドレスとUDPポートが逆になり、返信パケットに使用されることを除いて、UDPヘッダーを介したパケットの先頭からの情報はほとんど無視されます。 UDPポート500で送信されると、IKEメッセージはUDPヘッダーの直後から始まります。 UDPポート4500で送信される場合、IKEメッセージはゼロの4オクテットを付加します。これらのゼロの4つのオクテットはIKEメッセージの一部ではなく、IKEによって定義された長さフィールドまたはチェックサムのいずれにも含まれていません。各IKEメッセージは、このドキュメントではHDRと表記されているIKEヘッダーで始まります。ヘッダーの後には、1つ以上のIKEペイロードが続き、それぞれが前のペイロードのNext Payloadフィールドで識別されます。ペイロードは、IKEヘッダーのNext Payloadフィールドを調べることにより、IKEメッセージに表示される順序で識別されます。その後、ゼロのNext Payloadフィールドがペイロードがないことを示すまで、IKEペイロード自体のNext Payloadフィールドに従って識別されます。続きます。タイプ「暗号化」のペイロードが見つかった場合、そのペイロードは復号化され、そのコンテンツは追加のペイロードとして解析されます。暗号化されたペイロードはパケットの最後のペイロードでなければならず、暗号化されたペイロードは別の暗号化されたペイロードを含んではいけません（MUST NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The responder&#39;s SPI in the header identifies an instance of an IKE Security Association. It is therefore possible for a single instance of IKE to multiplex distinct sessions with multiple peers, including multiple sessions per peer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ヘッダー内のレスポンダのSPIは、IKEセキュリティアソシエーションのインスタンスを識別します。したがって、IKEの単一インスタンスが、ピアごとの複数のセッションを含む、複数のピアとの異なるセッションを多重化することが可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All multi-octet fields representing integers are laid out in big endian order (also known as &#34;most significant byte first&#34;, or &#34;network byte order&#34;).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
整数を表すすべてのマルチオクテットフィールドは、ビッグエンディアン順（「最上位バイトファースト」または「ネットワークバイトオーダー」とも呼ばれます）でレイアウトされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The format of the IKE header is shown in Figure 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEヘッダーのフォーマットを図4に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       IKE SA Initiator&#39;s SPI                  |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       IKE SA Responder&#39;s SPI                  |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Next Payload | MjVer | MnVer | Exchange Type |     Flags     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Message ID                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            Length                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
Figure 4: IKE Header Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
図4：IKEヘッダーの形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Initiator&#39;s SPI (8 octets) - A value chosen by the initiator to identify a unique IKE Security Association. This value MUST NOT be zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o イニシエーターのSPI（8オクテット）-一意のIKEセキュリティアソシエーションを識別するためにイニシエーターによって選択された値。この値はゼロであってはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Responder&#39;s SPI (8 octets) - A value chosen by the responder to identify a unique IKE Security Association. This value MUST be zero in the first message of an IKE initial exchange (including repeats of that message including a cookie).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o レスポンダのSPI（8オクテット）-一意のIKE Security Associationを識別するためにレスポンダによって選択された値。この値は、IKE初期交換の最初のメッセージ（Cookieを含むそのメッセージの繰り返しを含む）ではゼロでなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Next Payload (1 octet) - Indicates the type of payload that immediately follows the header. The format and value of each payload are defined below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 次のペイロード（1オクテット）-ヘッダーの直後に続くペイロードのタイプを示します。各ペイロードのフォーマットと値は以下に定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Major Version (4 bits) - Indicates the major version of the IKE protocol in use. Implementations based on this version of IKE MUST set the major version to 2. Implementations based on previous versions of IKE and ISAKMP MUST set the major version to 1. Implementations based on this document&#39;s version (version 2) of IKE MUST reject or ignore messages containing a version number greater than 2 with an INVALID_MAJOR_VERSION notification message as described in Section 2.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o メジャーバージョン（4ビット）-使用中のIKEプロトコルのメジャーバージョンを示します。このバージョンのIKEに基づく実装では、メジャーバージョンを2に設定する必要があります。以前のバージョンのIKEおよびISAKMPに基づく実装では、メジャーバージョンを1に設定する必要があります。このドキュメントのバージョン（バージョン2）のIKEに基づく実装では、セクション2.5で説明されているように、INVALID_MAJOR_VERSION通知メッセージを含む2より大きいバージョン番号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Minor Version (4 bits) - Indicates the minor version of the IKE protocol in use. Implementations based on this version of IKE MUST set the minor version to 0. They MUST ignore the minor version number of received messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o マイナーバージョン（4ビット）-使用中のIKEプロトコルのマイナーバージョンを示します。このバージョンのIKEに基づく実装は、マイナーバージョンを0に設定する必要があります。受信したメッセージのマイナーバージョン番号を無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Exchange Type (1 octet) - Indicates the type of exchange being used. This constrains the payloads sent in each message in an exchange. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 交換タイプ（1オクテット）-使用されている交換のタイプを示します。これにより、交換で各メッセージで送信されるペイロードが制限されます。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Exchange Type             Value
      ----------------------------------
      IKE_SA_INIT               34
      IKE_AUTH                  35
      CREATE_CHILD_SA           36
      INFORMATIONAL             37
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Flags (1 octet) - Indicates specific options that are set for the message. Presence of options is indicated by the appropriate bit in the flags field being set. The bits are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o フラグ（1オクテット）-メッセージに設定されている特定のオプションを示します。オプションの存在は、設定されているフラグフィールドの適切なビットによって示されます。ビットは次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        +-+-+-+-+-+-+-+-+
        |X|X|R|V|I|X|X|X|
        +-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
In the description below, a bit being &#39;set&#39; means its value is &#39;1&#39;, while &#39;cleared&#39; means its value is &#39;0&#39;. &#39;X&#39; bits MUST be cleared when sending and MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
以下の説明では、「セット」されているビットはその値が「1」であることを意味し、「クリア」はその値が「0」であることを意味します。 「X」ビットは送信時にクリアする必要があり、受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* R (Response) - This bit indicates that this message is a response to a message containing the same Message ID. This bit MUST be cleared in all request messages and MUST be set in all responses. An IKE endpoint MUST NOT generate a response to a message that is marked as being a response (with one exception; see Section 2.21.2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* R（応答）-このビットは、このメッセージが同じメッセージIDを含むメッセージへの応答であることを示します。このビットは、すべての要求メッセージでクリアする必要があり、すべての応答で設定する必要があります。 IKEエンドポイントは、応答であるとマークされているメッセージへの応答を生成してはなりません（1つの例外を含みます。セクション2.21.2を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* V (Version) - This bit indicates that the transmitter is capable of speaking a higher major version number of the protocol than the one indicated in the major version number field. Implementations of IKEv2 MUST clear this bit when sending and MUST ignore it in incoming messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* V（バージョン）-このビットは、トランスミッタが、メジャーバージョン番号フィールドに示されているものよりも高いプロトコルのメジャーバージョン番号を読み込めることを示します。 IKEv2の実装では、送信時にこのビットをクリアする必要があり、受信メッセージでは無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* I (Initiator) - This bit MUST be set in messages sent by the original initiator of the IKE SA and MUST be cleared in messages sent by the original responder. It is used by the recipient to determine which eight octets of the SPI were generated by the recipient. This bit changes to reflect who initiated the last rekey of the IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* I（イニシエーター）-このビットは、IKE SAの元のイニシエーターが送信したメッセージで設定する必要があり、元のレスポンダーが送信したメッセージでクリアする必要があります。これは、受信者がSPIのどの8オクテットを生成したかを判断するために使用されます。このビットは、IKE SAの最後のキー再生成を誰が開始したかを反映するように変更されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Message ID (4 octets, unsigned integer) - Message identifier used to control retransmission of lost packets and matching of requests and responses. It is essential to the security of the protocol because it is used to prevent message replay attacks. See Sections 2.1 and 2.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o メッセージID（4オクテット、符号なし整数）-失われたパケットの再送信および要求と応答のマッチングを制御するために使用されるメッセージID。メッセージ再生攻撃を防ぐために使用されるため、プロトコルのセキュリティに不可欠です。セクション2.1および2.2を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Length (4 octets, unsigned integer) - Length of the total message (header + payloads) in octets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 長さ（4オクテット、符号なし整数）-オクテット単位の合計メッセージ（ヘッダー+ペイロード）の長さ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-2--Generic-Payload-Header">
3.2. Generic Payload Header
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. 汎用ペイロードヘッダー
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each IKE payload defined in Sections 3.3 through 3.16 begins with a generic payload header, shown in Figure 5. Figures for each payload below will include the generic payload header, but for brevity, the description of each field will be omitted.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション3.3から3.16で定義された各IKEペイロードは、図5に示す汎用ペイロードヘッダーで始まります。以下の各ペイロードの図には、汎用ペイロードヘッダーが含まれますが、簡潔にするために、各フィールドの説明は省略されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 5: Generic Payload Header
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図5：汎用ペイロードヘッダー
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Generic Payload Header fields are defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Generic Payload Headerフィールドは次のように定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Next Payload (1 octet) - Identifier for the payload type of the next payload in the message. If the current payload is the last in the message, then this field will be 0. This field provides a &#34;chaining&#34; capability whereby additional payloads can be added to a message by appending each one to the end of the message and setting the Next Payload field of the preceding payload to indicate the new payload&#39;s type. An Encrypted payload, which must always be the last payload of a message, is an exception. It contains data structures in the format of additional payloads. In the header of an Encrypted payload, the Next Payload field is set to the payload type of the first contained payload (instead of 0); conversely, the Next Payload field of the last contained payload is set to zero. The payload type values are listed here. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 次のペイロード（1オクテット）-メッセージ内の次のペイロードのペイロードタイプの識別子。現在のペイロードがメッセージの最後の場合、このフィールドは0になります。このフィールドは「チェーン」機能を提供し、メッセージの末尾にペイロードを追加して次のペイロードを設定することにより、ペイロードをメッセージに追加できます。新しいペイロードのタイプを示す前のペイロードのフィールド。常にメッセージの最後のペイロードでなければならない暗号化されたペイロードは例外です。追加のペイロードの形式でデータ構造が含まれています。暗号化されたペイロードのヘッダーでは、次のペイロードフィールドは、最初に含まれているペイロードのペイロードタイプに設定されます（0ではなく）。逆に、最後に含まれたペイロードのNext Payloadフィールドはゼロに設定されます。ペイロードタイプの値は次のとおりです。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Next Payload Type                Notation  Value
      --------------------------------------------------
      No Next Payload                             0
      Security Association             SA         33
      Key Exchange                     KE         34
      Identification - Initiator       IDi        35
      Identification - Responder       IDr        36
      Certificate                      CERT       37
      Certificate Request              CERTREQ    38
      Authentication                   AUTH       39
      Nonce                            Ni, Nr     40
      Notify                           N          41
      Delete                           D          42
      Vendor ID                        V          43
      Traffic Selector - Initiator     TSi        44
      Traffic Selector - Responder     TSr        45
      Encrypted and Authenticated      SK         46
      Configuration                    CP         47
      Extensible Authentication        EAP        48
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
(Payload type values 1-32 should not be assigned in the future so that there is no overlap with the code assignments for IKEv1.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
（ペイロードタイプの値1〜32は将来割り当てないでください。IKEv1のコード割り当てと重複しません。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Critical (1 bit) - MUST be set to zero if the sender wants the recipient to skip this payload if it does not understand the payload type code in the Next Payload field of the previous payload. MUST be set to one if the sender wants the recipient to reject this entire message if it does not understand the payload type. MUST be ignored by the recipient if the recipient understands the payload type code. MUST be set to zero for payload types defined in this document. Note that the critical bit applies to the current payload rather than the &#34;next&#34; payload whose type code appears in the first octet. The reasoning behind not setting the critical bit for payloads defined in this document is that all implementations MUST understand all payload types defined in this document and therefore must ignore the critical bit&#39;s value. Skipped payloads are expected to have valid Next Payload and Payload Length fields. See Section 2.5 for more information on this bit.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o クリティカル（1ビット）-送信者が前のペイロードのNext Payloadフィールドのペイロードタイプコードを理解できない場合、受信者がこのペイロードをスキップすることを希望する場合は、ゼロに設定する必要があります。ペイロードタイプを理解していない場合に、送信者が受信者にこのメッセージ全体を拒否することを要求する場合は、1に設定する必要があります。受信者がペイロードタイプコードを理解している場合、受信者は無視する必要があります。このドキュメントで定義されているペイロードタイプについては、ゼロに設定する必要があります。クリティカルビットは、タイプコードが最初のオクテットに現れる「次の」ペイロードではなく、現在のペイロードに適用されることに注意してください。このドキュメントで定義されているペイロードのクリティカルビットを設定しない理由は、すべての実装がこのドキュメントで定義されているすべてのペイロードタイプを理解する必要があるため、クリティカルビットの値を無視する必要があるためです。スキップされたペイロードには、有効なNext PayloadフィールドとPayload Lengthフィールドが必要です。このビットの詳細については、セクション2.5を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED (7 bits) - MUST be sent as zero; MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み（7ビット）-ゼロとして送信する必要があります。受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Payload Length (2 octets, unsigned integer) - Length in octets of the current payload, including the generic payload header.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ペイロード長（2オクテット、符号なし整数）-汎用ペイロードヘッダーを含む現在のペイロードの長さ（オクテット）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Many payloads contain fields marked as &#34;RESERVED&#34;. Some payloads in IKEv2 (and historically in IKEv1) are not aligned to 4-octet boundaries.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
多くのペイロードには、「予約済み」とマークされたフィールドが含まれています。 IKEv2（および歴史的にはIKEv1）の一部のペイロードは、4オクテットの境界に揃えられていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3--Security-Association-Payload">
3.3. Security Association Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. セキュリティアソシエーションペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Security Association payload, denoted SA in this document, is used to negotiate attributes of a Security Association. Assembly of Security Association payloads requires great peace of mind. An SA payload MAY contain multiple proposals. If there is more than one, they MUST be ordered from most preferred to least preferred. Each proposal contains a single IPsec protocol (where a protocol is IKE, ESP, or AH), each protocol MAY contain multiple transforms, and each transform MAY contain multiple attributes. When parsing an SA, an implementation MUST check that the total Payload Length is consistent with the payload&#39;s internal lengths and counts. Proposals, Transforms, and Attributes each have their own variable-length encodings. They are nested such that the Payload Length of an SA includes the combined contents of the SA, Proposal, Transform, and Attribute information. The length of a Proposal includes the lengths of all Transforms and Attributes it contains. The length of a Transform includes the lengths of all Attributes it contains.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではSAと示されているセキュリティアソシエーションペイロードは、セキュリティアソシエーションの属性をネゴシエートするために使用されます。 Security Associationペイロードのアセンブリには、大きな安心が必要です。 SAペイロードには複数の提案が含まれる場合があります。複数ある場合は、最も好ましいものから最も好ましいものの順に並べる必要があります。各提案には単一のIPsecプロトコル（プロトコルはIKE、ESP、またはAH）が含まれ、各プロトコルには複数の変換が含まれる場合があり、各変換には複数の属性が含まれる場合があります（MAY）。 SAを解析するとき、実装は、ペイロードの長さの合計がペイロードの内部の長さと数と一致していることを確認する必要があります。プロポーザル、変換、および属性には、それぞれ独自の可変長エンコーディングがあります。それらは、SAのペイロード長にSA、提案、変換、および属性情報の結合された内容が含まれるようにネストされます。プロポーザルの長さには、プロポーザルに含まれるすべての変換と属性の長さが含まれます。トランスフォームの長さには、トランスフォームに含まれるすべての属性の長さが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The syntax of Security Associations, Proposals, Transforms, and Attributes is based on ISAKMP; however, the semantics are somewhat different. The reason for the complexity and the hierarchy is to allow for multiple possible combinations of algorithms to be encoded in a single SA. Sometimes there is a choice of multiple algorithms, whereas other times there is a combination of algorithms. For example, an initiator might want to propose using ESP with either (3DES and HMAC_MD5) or (AES and HMAC_SHA1).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セキュリティアソシエーション、プロポーザル、変換、および属性の構文は、ISAKMPに基づいています。ただし、セマンティクスは多少異なります。複雑さと階層の理由は、アルゴリズムの複数の可能な組み合わせを単一のSAでエンコードできるようにするためです。複数のアルゴリズムの選択がある場合もあれば、アルゴリズムの組み合わせがある場合もあります。たとえば、イニシエーターは（3DESおよびHMAC_MD5）または（AESおよびHMAC_SHA1）のいずれかでESPを使用することを提案する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One of the reasons the semantics of the SA payload have changed from ISAKMP and IKEv1 is to make the encodings more compact in common cases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAペイロードのセマンティクスがISAKMPおよびIKEv1から変更された理由の1つは、一般的なケースでエンコーディングをよりコンパクトにすることです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The Proposal structure contains within it a Proposal Num and an IPsec protocol ID. Each structure MUST have a proposal number one (1) greater than the previous structure. The first Proposal in the initiator&#39;s SA payload MUST have a Proposal Num of one (1). One reason to use multiple proposals is to propose both standard crypto ciphers and combined-mode ciphers. Combined-mode ciphers include both integrity and encryption in a single encryption algorithm, and MUST either offer no integrity algorithm or a single integrity algorithm of &#34;NONE&#34;, with no integrity algorithm being the RECOMMENDED method. If an initiator wants to propose both combined-mode ciphers and normal ciphers, it must include two proposals: one will have all the combined-mode ciphers, and the other will have all the normal ciphers with the integrity algorithms. For example, one such proposal would have two proposal structures. Proposal 1 is ESP with AES-128, AES-192, and AES-256 bits in Cipher Block Chaining (CBC) mode, with either HMAC-SHA1-96 or XCBC-96 as the integrity algorithm; Proposal 2 is AES-128 or AES-256 in GCM mode with an 8-octet Integrity Check Value (ICV). Both proposals allow but do not require the use of ESNs (Extended Sequence Numbers). This can be illustrated as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Proposal構造には、Proposal NumとIPsecプロトコルIDが含まれています。各構造は、前の構造よりも1大きい提案番号を持つ必要があります。イニシエータのSAペイロードの最初のプロポーザルは、プロポーザル番号が1である必要があります。複数の提案を使用する理由の1つは、標準の暗号と複合モードの暗号の両方を提案することです。結合モードの暗号は、単一の暗号化アルゴリズムに整合性と暗号化の両方を含み、整合性アルゴリズムを提供しないか、または「NONE」の単一の整合性アルゴリズムを提供する必要があります。整合性アルゴリズムはRECOMMENDEDメソッドではありません。イニシエーターが結合モード暗号と通常の暗号の両方を提案する場合、2つの提案を含める必要があります。1つはすべての複合モード暗号を持ち、もう1つは整合性アルゴリズムを備えたすべての通常暗号を持ちます。たとえば、そのような1つの提案には2つの提案構造があります。提案1は、暗号化ブロックチェーン（CBC）モードでAES-128、AES-192、およびAES-256ビットを使用するESPであり、整合性アルゴリズムとしてHMAC-SHA1-96またはXCBC-96を使用します。プロポーザル2は、GCMモードのAES-128またはAES-256で、8オクテットの整合性チェック値（ICV）を使用します。どちらの提案でも、ESN（拡張シーケンス番号）の使用は許可されていますが、必須ではありません。これは次のように説明できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   SA Payload
      |
      +--- Proposal #1 ( Proto ID = ESP(3), SPI size = 4,
      |     |            7 transforms,      SPI = 0x052357bb )
      |     |
      |     +-- Transform ENCR ( Name = ENCR_AES_CBC )
      |     |     +-- Attribute ( Key Length = 128 )
      |     |
      |     +-- Transform ENCR ( Name = ENCR_AES_CBC )
      |     |     +-- Attribute ( Key Length = 192 )
      |     |
      |     +-- Transform ENCR ( Name = ENCR_AES_CBC )
      |     |     +-- Attribute ( Key Length = 256 )
      |     |
      |     +-- Transform INTEG ( Name = AUTH_HMAC_SHA1_96 )
      |     +-- Transform INTEG ( Name = AUTH_AES_XCBC_96 )
      |     +-- Transform ESN ( Name = ESNs )
      |     +-- Transform ESN ( Name = No ESNs )
      |
      +--- Proposal #2 ( Proto ID = ESP(3), SPI size = 4,
            |            4 transforms,      SPI = 0x35a1d6f2 )
            |
            +-- Transform ENCR ( Name = AES-GCM with a 8 octet ICV )
            |     +-- Attribute ( Key Length = 128 )
            |
            +-- Transform ENCR ( Name = AES-GCM with a 8 octet ICV )
            |     +-- Attribute ( Key Length = 256 )
            |
            +-- Transform ESN ( Name = ESNs )
            +-- Transform ESN ( Name = No ESNs )
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Each Proposal/Protocol structure is followed by one or more transform structures. The number of different transforms is generally determined by the Protocol. AH generally has two transforms: Extended Sequence Numbers (ESNs) and an integrity check algorithm. ESP generally has three: ESN, an encryption algorithm, and an integrity check algorithm. IKE generally has four transforms: a Diffie-Hellman group, an integrity check algorithm, a PRF algorithm, and an encryption algorithm. For each Protocol, the set of permissible transforms is assigned Transform ID numbers, which appear in the header of each transform.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
各Proposal / Protocol構造の後には、1つ以上の変換構造が続きます。異なる変換の数は、一般的にプロトコルによって決定されます。 AHには通常、拡張シーケンス番号（ESN）と整合性チェックアルゴリズムの2つの変換があります。 ESPには通常、ESN、暗号化アルゴリズム、および整合性チェックアルゴリズムの3つがあります。 IKEには通常、4つの変換があります。Diffie-Hellmanグループ、整合性チェックアルゴリズム、PRFアルゴリズム、および暗号化アルゴリズムです。プロトコルごとに、許可されるトランスフォームのセットにトランスフォームID番号が割り当てられ、各トランスフォームのヘッダーに表示されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If there are multiple transforms with the same Transform Type, the proposal is an OR of those transforms. If there are multiple transforms with different Transform Types, the proposal is an AND of the different groups. For example, to propose ESP with (3DES or AES-CBC) and (HMAC_MD5 or HMAC_SHA), the ESP proposal would contain two Transform Type 1 candidates (one for 3DES and one for AEC-CBC) and two Transform Type 3 candidates (one for HMAC_MD5 and one for HMAC_SHA). This effectively proposes four combinations of algorithms. If the initiator wanted to propose only a subset of those, for example (3DES and HMAC_MD5) or (IDEA and HMAC_SHA), there is no way to encode that as multiple transforms within a single Proposal. Instead, the initiator would have to construct two different Proposals, each with two transforms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
同じ変換タイプの変換が複数ある場合、提案はそれらの変換のORです。変換タイプが異なる複数の変換がある場合、提案はさまざまなグループのANDです。たとえば、（3DESまたはAES-CBC）および（HMAC_MD5またはHMAC_SHA）を使用してESPを提案するには、ESP提案に2つの変換タイプ1候補（1つは3DES用、1つはAEC-CBC用）と2つの変換タイプ3候補（1つは1つ）が含まれます。 HMAC_MD5とHMAC_SHAの1つ）。これは効果的にアルゴリズムの4つの組み合わせを提案します。イニシエーターがそれらのサブセットのみを提案したい場合、たとえば（3DESおよびHMAC_MD5）または（IDEAおよびHMAC_SHA）、それを単一の提案内の複数の変換としてエンコードする方法はありません。代わりに、イニシエーターは、それぞれ2つの変換を持つ2つの異なるプロポーザルを作成する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A given transform MAY have one or more Attributes. Attributes are necessary when the transform can be used in more than one way, as when an encryption algorithm has a variable key size. The transform would specify the algorithm and the attribute would specify the key size. Most transforms do not have attributes. A transform MUST NOT have multiple attributes of the same type. To propose alternate values for an attribute (for example, multiple key sizes for the AES encryption algorithm), an implementation MUST include multiple transforms with the same Transform Type each with a single Attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
特定の変換には、1つ以上の属性が含まれる場合があります。暗号化アルゴリズムのキーサイズが可変である場合など、変換を複数の方法で使用できる場合は、属性が必要です。トランスフォームはアルゴリズムを指定し、属性はキーサイズを指定します。ほとんどの変換には属性がありません。変換には、同じタイプの複数の属性があってはなりません。属性の代替値（たとえば、AES暗号化アルゴリズムの複数のキーサイズ）を提案するには、実装に、それぞれ単一の属性を持つ同じ変換タイプの複数の変換を含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the semantics of Transforms and Attributes are quite different from those in IKEv1. In IKEv1, a single Transform carried multiple algorithms for a protocol with one carried in the Transform and the others carried in the Attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
変換と属性のセマンティクスは、IKEv1のものとはかなり異なることに注意してください。 IKEv1では、1つのトランスフォームがプロトコルの複数のアルゴリズムを伝送し、1つはトランスフォームで伝送され、その他は属性で伝送されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                          &lt;Proposals&gt;                          ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
Figure 6: Security Association Payload
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
図6：SAペイロード
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Proposals (variable) - One or more proposal substructures.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プロポーザル（変数）-1つ以上のプロポーザルのサブ構造。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Security Association payload is thirty-three (33).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Security Associationペイロードのペイロードタイプは33です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-1--Proposal-Substructure">
3.3.1. Proposal Substructure
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.1. プロポーザルの下部構造
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Last Substruc |   RESERVED    |         Proposal Length       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Proposal Num  |  Protocol ID  |    SPI Size   |Num  Transforms|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                        SPI (variable)                         ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                        &lt;Transforms&gt;                           ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
Figure 7: Proposal Substructure
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
図7：プロポーザルの下部構造
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Last Substruc (1 octet) - Specifies whether or not this is the last Proposal Substructure in the SA. This field has a value of 0 if this was the last Proposal Substructure, and a value of 2 if there are more Proposal Substructures. This syntax is inherited from ISAKMP, but is unnecessary because the last Proposal could be identified from the length of the SA. The value (2) corresponds to a payload type of Proposal in IKEv1, and the first four octets of the Proposal structure are designed to look somewhat like the header of a payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Last Substruc（1 octet）-これがSAの最後の提案サブ構造かどうかを指定します。これが最後の提案サブ構造である場合、このフィールドの値は0で、提案サブ構造がさらにある場合、値は2です。この構文はISAKMPから継承されますが、SAの長さから最後のプロポーザルを識別できるため、不要です。値（2）は、IKEv1のProposalのペイロードタイプに対応し、Proposal構造の最初の4オクテットは、ペイロードのヘッダーのように見えるように設計されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED (1 octet) - MUST be sent as zero; MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み（1オクテット）-ゼロとして送信する必要があります。受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Proposal Length (2 octets, unsigned integer) - Length of this proposal, including all transforms and attributes that follow.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プロポーザルの長さ（2オクテット、符号なし整数）-このプロポーザルの長さ（後続のすべての変換と属性を含む）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Proposal Num (1 octet) - When a proposal is made, the first proposal in an SA payload MUST be 1, and subsequent proposals MUST be one more than the previous proposal (indicating an OR of the two proposals). When a proposal is accepted, the proposal number in the SA payload MUST match the number on the proposal sent that was accepted.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 提案番号（1オクテット）-提案が行われるとき、SAペイロードの最初の提案は1でなければならず（MUST）、後続の提案は前の提案よりも1つ多い必要があります（2つの提案のORを示します）。プロポーザルが受け入れられるとき、SAペイロードのプロポーザル番号は、受け入れられた送信済みプロポーザルの番号と一致する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Protocol ID (1 octet) - Specifies the IPsec protocol identifier for the current negotiation. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プロトコルID（1オクテット）-現在のネゴシエーションのIPsecプロトコル識別子を指定します。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Protocol                Protocol ID
      -----------------------------------
      IKE                     1
      AH                      2
      ESP                     3
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI Size (1 octet) - For an initial IKE SA negotiation, this field MUST be zero; the SPI is obtained from the outer header. During subsequent negotiations, it is equal to the size, in octets, of the SPI of the corresponding protocol (8 for IKE, 4 for ESP and AH).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPIサイズ（1オクテット）-最初のIKE SAネゴシエーションの場合、このフィールドはゼロでなければなりません。 SPIは外部ヘッダーから取得されます。後続のネゴシエーション中は、対応するプロトコルのSPIのサイズ（オクテット単位）と同じです（IKEの場合は8、ESPおよびAHの場合は4）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Num Transforms (1 octet) - Specifies the number of transforms in this proposal.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o トランスフォームの数（1オクテット）-この提案のトランスフォームの数を指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI (variable) - The sending entity&#39;s SPI. Even if the SPI Size is not a multiple of 4 octets, there is no padding applied to the payload. When the SPI Size field is zero, this field is not present in the Security Association payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI（変数）-送信エンティティのSPI。 SPIサイズが4オクテットの倍数でなくても、ペイロードにパディングは適用されません。 SPIサイズフィールドがゼロの場合、このフィールドはセキュリティアソシエーションペイロードに存在しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Transforms (variable) - One or more transform substructures.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 変換（変数）-1つ以上の変換サブ構造。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-2--Transform-Substructure">
3.3.2. Transform Substructure
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.2. 部分構造の変換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Last Substruc |   RESERVED    |        Transform Length       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Transform Type |   RESERVED    |          Transform ID         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                      Transform Attributes                     ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 8: Transform Substructure
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図8：部分構造の変換
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 o Last Substruc (1 octet) - Specifies whether or not this is the last Transform Substructure in the Proposal. This field has a value of 0 if this was the last Transform Substructure, and a value of 3 if there are more Transform Substructures. This syntax is inherited from ISAKMP, but is unnecessary because the last transform could be identified from the length of the proposal. The value (3) corresponds to a payload type of Transform in IKEv1, and the first four octets of the Transform structure are designed to look somewhat like the header of a payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
o最後の部分構造（1オクテット）-これがプロポーザルの最後の変換部分構造であるかどうかを指定します。これが最後の変換サブ構造である場合、このフィールドの値は0であり、さらに変換サブ構造がある場合、値は3です。この構文はISAKMPから継承されますが、最後の変換は提案の長さから識別できるため、不要です。値（3）は、IKEv1のTransformのペイロードタイプに対応し、Transform構造の最初の4つのオクテットは、ペイロードのヘッダーのように見えるように設計されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED - MUST be sent as zero; MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み-ゼロとして送信する必要があります。受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Transform Length - The length (in octets) of the Transform Substructure including Header and Attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 変換の長さ-ヘッダーと属性を含む変換サブ構造の長さ（オクテット単位）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Transform Type (1 octet) - The type of transform being specified in this transform. Different protocols support different Transform Types. For some protocols, some of the transforms may be optional. If a transform is optional and the initiator wishes to propose that the transform be omitted, no transform of the given type is included in the proposal. If the initiator wishes to make use of the transform optional to the responder, it includes a transform substructure with Transform ID = 0 as one of the options.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 変換タイプ（1オクテット）-この変換で指定されている変換のタイプ。異なるプロトコルは、異なる変換タイプをサポートします。一部のプロトコルでは、一部の変換はオプションです。変換がオプションであり、開始者が変換の省略を提案したい場合、指定されたタイプの変換は提案に含まれません。イニシエーターがトランスフォーマーをレスポンダーに対してオプションとして使用したい場合、オプションの1つとしてトランスフォームID = 0のトランスフォームサブストラクチャが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Transform ID (2 octets) - The specific instance of the Transform Type being proposed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 変換ID（2オクテット）-提案されている変換タイプの特定のインスタンス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Transform Type values are listed below. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
変換タイプの値を以下に示します。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Description                     Trans.  Used In
                                   Type
   ------------------------------------------------------------------
   Encryption Algorithm (ENCR)     1       IKE and ESP
   Pseudorandom Function (PRF)     2       IKE
   Integrity Algorithm (INTEG)     3       IKE*, AH, optional in ESP
   Diffie-Hellman Group (D-H)      4       IKE, optional in AH &amp; ESP
   Extended Sequence Numbers (ESN) 5       AH and ESP
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(*) Negotiating an integrity algorithm is mandatory for the Encrypted payload format specified in this document. For example, [AEAD] specifies additional formats based on authenticated encryption, in which a separate integrity algorithm is not negotiated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（*）このドキュメントで指定されている暗号化されたペイロード形式には、整合性アルゴリズムのネゴシエーションが必須です。たとえば、[AEAD]は、認証された暗号化に基づいて追加の形式を指定します。この形式では、個別の整合性アルゴリズムはネゴシエートされません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For Transform Type 1 (Encryption Algorithm), the Transform IDs are listed below. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
変換タイプ1（暗号化アルゴリズム）の場合、変換IDは次のとおりです。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Name                 Number      Defined In
   ---------------------------------------------------
   ENCR_DES_IV64        1           (UNSPECIFIED)
   ENCR_DES             2           [RFC2405], [DES]
   ENCR_3DES            3           [RFC2451]
   ENCR_RC5             4           [RFC2451]
   ENCR_IDEA            5           [RFC2451], [IDEA]
   ENCR_CAST            6           [RFC2451]
   ENCR_BLOWFISH        7           [RFC2451]
   ENCR_3IDEA           8           (UNSPECIFIED)
   ENCR_DES_IV32        9           (UNSPECIFIED)
   ENCR_NULL            11          [RFC2410]
   ENCR_AES_CBC         12          [RFC3602]
   ENCR_AES_CTR         13          [RFC3686]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For Transform Type 2 (Pseudorandom Function), the Transform IDs are listed below. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
変換タイプ2（疑似ランダム関数）の場合、変換IDは以下のとおりです。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Name                        Number    Defined In
   ------------------------------------------------------------------
   PRF_HMAC_MD5                1         [RFC2104], [MD5]
   PRF_HMAC_SHA1               2         [RFC2104], [FIPS.180-4.2012]
   PRF_HMAC_TIGER              3         (UNSPECIFIED)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For Transform Type 3 (Integrity Algorithm), defined Transform IDs are listed below. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
変換タイプ3（整合性アルゴリズム）の場合、定義された変換IDは以下のとおりです。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Name                 Number   Defined In
   ----------------------------------------
   NONE                 0
   AUTH_HMAC_MD5_96     1        [RFC2403]
   AUTH_HMAC_SHA1_96    2        [RFC2404]
   AUTH_DES_MAC         3        (UNSPECIFIED)
   AUTH_KPDK_MD5        4        (UNSPECIFIED)
   AUTH_AES_XCBC_96     5        [RFC3566]
   For Transform Type 4 (Diffie-Hellman group), defined Transform IDs
   are listed below.  The values in the following table are only current
   as of the publication date of RFC 4306.  Other values may have been
   added since then or will be added after the publication of this
   document.  Readers should refer to [IKEV2IANA] for the latest values.
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Name                Number      Defined In
   ------------------------------------------
   NONE                    0
   768-bit MODP Group      1       Appendix B
   1024-bit MODP Group     2       Appendix B
   1536-bit MODP Group     5       [ADDGROUP]
   2048-bit MODP Group     14      [ADDGROUP]
   3072-bit MODP Group     15      [ADDGROUP]
   4096-bit MODP Group     16      [ADDGROUP]
   6144-bit MODP Group     17      [ADDGROUP]
   8192-bit MODP Group     18      [ADDGROUP]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although ESP and AH do not directly include a Diffie-Hellman exchange, a Diffie-Hellman group MAY be negotiated for the Child SA. This allows the peers to employ Diffie-Hellman in the CREATE_CHILD_SA exchange, providing perfect forward secrecy for the generated Child SA keys.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESPとAHにはDiffie-Hellman交換が直接含まれていませんが、Diffie-HellmanグループがChild SAについて交渉される場合があります。これにより、ピアはCREATE_CHILD_SA交換でDiffie-Hellmanを使用できるようになり、生成された子SAキーに完全な転送秘密を提供します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the MODP Diffie-Hellman groups listed above do not need any special validity tests to be performed, but other types of groups (elliptic curve groups, and MODP groups with small subgroups) need to have some additional tests performed on them to use them securely. See &#34;Additional Diffie-Hellman Tests for IKEv2&#34; ([RFC6989]) for more information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記のMODP Diffie-Hellmanグループでは、特別な有効性テストを実行する必要はありませんが、他のタイプのグループ（楕円曲線グループ、および小さなサブグループを持つMODPグループ）を使用するには、追加のテストを実行する必要があることに注意してください安全に。詳細については、「IKEv2の追加Diffie-Hellmanテスト」（[RFC6989]）を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For Transform Type 5 (Extended Sequence Numbers), defined Transform IDs are listed below. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
変換タイプ5（拡張シーケンス番号）の場合、定義された変換IDを以下にリストします。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Name                               Number
   --------------------------------------------
   No Extended Sequence Numbers       0
   Extended Sequence Numbers          1
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that an initiator who supports ESNs will usually include two ESN transforms, with values &#34;0&#34; and &#34;1&#34;, in its proposals. A proposal containing a single ESN transform with value &#34;1&#34; means that using normal (non-extended) sequence numbers is not acceptable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESNをサポートするイニシエーターは通常、その提案に値「0」と「1」の2つのESN変換を含めます。値が「1」の単一のESN変換を含む提案は、通常の（拡張されていない）シーケンス番号の使用が受け入れられないことを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Numerous additional Transform Types have been defined since the publication of RFC 4306. Please refer to the IANA &#34;Internet Key Exchange Version 2 (IKEv2) Parameters&#34; registry for details.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 4306の公開以降、多数の追加の変換タイプが定義されています。詳細については、IANA「インターネットキーエクスチェンジバージョン2（IKEv2）パラメータ」レジストリを参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-3--Valid-Transform-Types-by-Protocol">
3.3.3. Valid Transform Types by Protocol
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.3. プロトコルごとの有効な変換タイプ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The number and type of transforms that accompany an SA payload are dependent on the protocol in the SA itself. An SA payload proposing the establishment of an SA has the following mandatory and optional Transform Types. A compliant implementation MUST understand all mandatory and optional types for each protocol it supports (though it need not accept proposals with unacceptable suites). A proposal MAY omit the optional types if the only value for them it will accept is NONE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SAペイロードに伴う変換の数とタイプは、SA自体のプロトコルに依存します。 SAの確立を提案するSAペイロードには、次の必須およびオプションの変換タイプがあります。準拠した実装は、サポートする各プロトコルのすべての必須およびオプションのタイプを理解する必要があります（ただし、受け入れられないスイートの提案を受け入れる必要はありません）。それらが受け入れる唯一の値がNONEである場合、提案はオプションの型を省略してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Protocol    Mandatory Types          Optional Types
   ---------------------------------------------------
   IKE         ENCR, PRF, INTEG*, D-H
   ESP         ENCR, ESN                INTEG, D-H
   AH          INTEG, ESN               D-H
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(*) Negotiating an integrity algorithm is mandatory for the Encrypted payload format specified in this document. For example, [AEAD] specifies additional formats based on authenticated encryption, in which a separate integrity algorithm is not negotiated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（*）このドキュメントで指定されている暗号化されたペイロード形式には、整合性アルゴリズムのネゴシエーションが必須です。たとえば、[AEAD]は、認証された暗号化に基づいて追加の形式を指定します。この形式では、個別の整合性アルゴリズムはネゴシエートされません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-4--Mandatory-Transform-IDs">
3.3.4. Mandatory Transform IDs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.4. 必須の変換ID
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The specification of suites that MUST and SHOULD be supported for interoperability has been removed from this document because they are likely to change more rapidly than this document evolves. At the time of publication of this document, [RFC4307] specifies these suites, but note that it might be updated in the future, and other RFCs might specify different sets of suites.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
相互運用性のためにサポートしなければならないスイートの仕様は、このドキュメントの発展よりも急速に変更される可能性が高いため、このドキュメントから削除されました。このドキュメントの公開時点では、[RFC4307]はこれらのスイートを指定していますが、将来的には更新される可能性があり、他のRFCは異なるスイートのセットを指定する可能性があることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An important lesson learned from IKEv1 is that no system should only implement the mandatory algorithms and expect them to be the best choice for all customers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv1から学んだ重要な教訓は、必須のアルゴリズムを実装するだけのシステムがあり、それらがすべての顧客にとって最良の選択であると期待するべきではないということです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 It is likely that IANA will add additional transforms in the future, and some users may want to use private suites, especially for IKE where implementations should be capable of supporting different parameters, up to certain size limits. In support of this goal, all implementations of IKEv2 SHOULD include a management facility that allows specification (by a user or system administrator) of Diffie-Hellman parameters (the generator, modulus, and exponent lengths and values) for new Diffie-Hellman groups. Implementations SHOULD provide a management interface through which these parameters and the associated Transform IDs may be entered (by a user or system administrator), to enable negotiating such groups.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IANAは将来さらに変換を追加する可能性が高く、一部のユーザーはプライベートスイートを使用する場合があります。特に、実装が特定のサイズ制限まで異なるパラメーターをサポートできる必要があるIKEの場合はそうです。この目標をサポートするために、IKEv2のすべての実装には、新しいDiffie-HellmanグループのDiffie-Hellmanパラメータ（ジェネレータ、モジュラス、および指数の長さと値）の（ユーザーまたはシステム管理者による）指定を可能にする管理機能が含まれる必要があります（SHOULD）。実装は、これらのパラメーターと関連する変換IDを（ユーザーまたはシステム管理者が）入力して、そのようなグループのネゴシエーションを可能にする管理インターフェースを提供する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All implementations of IKEv2 MUST include a management facility that enables a user or system administrator to specify the suites that are acceptable for use with IKE. Upon receipt of a payload with a set of Transform IDs, the implementation MUST compare the transmitted Transform IDs against those locally configured via the management controls, to verify that the proposed suite is acceptable based on local policy. The implementation MUST reject SA proposals that are not authorized by these IKE suite controls. Note that cryptographic suites that MUST be implemented need not be configured as acceptable to local policy.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2のすべての実装には、ユーザーまたはシステム管理者がIKEで使用できるスイートを指定できるようにする管理機能が含まれている必要があります。トランスフォームIDのセットを含むペイロードを受信すると、実装は、送信されたトランスフォームIDを管理コントロールを介してローカルに構成されたものと比較して、提案されたスイートがローカルポリシーに基づいて受け入れ可能であることを検証する必要があります。実装は、これらのIKEスイートコントロールによって承認されていないSAプロポーザルを拒否する必要があります。実装しなければならない暗号化スイートは、ローカルポリシーに受け入れられるように構成する必要がないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-5--Transform-Attributes">
3.3.5. Transform Attributes
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.5. 変換属性
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each transform in a Security Association payload may include attributes that modify or complete the specification of the transform. The set of valid attributes depends on the transform. Currently, only a single attribute type is defined: the Key Length attribute is used by certain encryption transforms with variable-length keys (see below for details).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セキュリティアソシエーションペイロードの各トランスフォームには、トランスフォームの仕様を変更または完了する属性を含めることができます。有効な属性のセットは、変換によって異なります。現在、単一の属性タイプのみが定義されています。キー長属性は、可変長キーを使用する特定の暗号化トランスフォームで使用されます（詳細については以下を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The attributes are type/value pairs and are defined below. Attributes can have a value with a fixed two-octet length or a variable-length value. For the latter, the attribute is encoded as type/length/value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
属性はタイプ/値のペアであり、以下で定義されています。属性は、2オクテット長が固定の値または可変長の値を持つことができます。後者の場合、属性はタイプ/長さ/値としてエンコードされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |A|       Attribute Type        |    AF=0  Attribute Length     |
   |F|                             |    AF=1  Attribute Value      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   AF=0  Attribute Value                       |
   |                   AF=1  Not Transmitted                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-25">
Figure 9: Data Attributes
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-25">
図9：データ属性
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Attribute Format (AF) (1 bit) - Indicates whether the data attribute follows the Type/Length/Value (TLV) format or a shortened Type/Value (TV) format. If the AF bit is zero (0), then the attribute uses TLV format; if the AF bit is one (1), the TV format (with two-byte value) is used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 属性フォーマット（AF）（1ビット）-データ属性がタイプ/長さ/値（TLV）フォーマットに従うか、短縮されたタイプ/値（TV）フォーマットに従うかを示します。 AFビットがゼロ（0）の場合、属性はTLV形式を使用します。 AFビットが1の場合、TV形式（2バイト値）が使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Attribute Type (15 bits) - Unique identifier for each type of attribute (see below).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 属性タイプ（15ビット）-属性のタイプごとの一意の識別子（以下を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Attribute Value (variable length) - Value of the attribute associated with the attribute type. If the AF bit is a zero (0), this field has a variable length defined by the Attribute Length field. If the AF bit is a one (1), the Attribute Value has a length of 2 octets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 属性値（可変長）-属性タイプに関連付けられた属性の値。 AFビットがゼロ（0）の場合、このフィールドはAttribute Lengthフィールドで定義された可変長です。 AFビットが1の場合、属性値の長さは2オクテットです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The only currently defined attribute type (Key Length) is fixed length; the variable-length encoding specification is included only for future extensions. Attributes described as fixed length MUST NOT be encoded using the variable-length encoding unless that length exceeds two bytes. Variable-length attributes MUST NOT be encoded as fixed-length even if their value can fit into two octets. Note: This is a change from IKEv1, where increased flexibility may have simplified the composer of messages but certainly complicated the parser.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
現在定義されている唯一の属性タイプ（キー長）は固定長です。可変長エンコーディング仕様は、将来の拡張のためにのみ含まれています。固定長として記述された属性は、その長さが2バイトを超えない限り、可変長エンコーディングを使用してエンコードしてはなりません（MUST NOT）。可変長属性は、その値が2つのオクテットに収まる場合でも、固定長としてエンコードしてはなりません（MUST NOT）。注：これはIKEv1からの変更点であり、柔軟性の向上によりメッセージのコンポーザーが単純化された可能性がありますが、パーサーは確かに複雑になりました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Attribute Type         Value         Attribute Format
   ------------------------------------------------------------
   Key Length (in bits)   14            TV
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Values 0-13 and 15-17 were used in a similar context in IKEv1, and should not be assigned except to matching values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
値0〜13および15〜17は、IKEv1の同様のコンテキストで使用され、一致する値を除いて割り当てないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Key Length attribute specifies the key length in bits (MUST use network byte order) for certain transforms as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キーの長さ属性は、次のように特定の変換のキーの長さをビットで指定します（ネットワークバイトオーダーを使用する必要があります）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The Key Length attribute MUST NOT be used with transforms that use a fixed-length key. For example, this includes ENCR_DES, ENCR_IDEA, and all the Type 2 (Pseudorandom Function) and Type 3 (Integrity Algorithm) transforms specified in this document. It is recommended that future Type 2 or 3 transforms do not use this attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o キーの長さ属性は、固定長キーを使用する変換では使用しないでください。たとえば、これにはENCR_DES、ENCR_IDEA、およびこのドキュメントで指定されているすべてのタイプ2（疑似ランダム関数）およびタイプ3（整合性アルゴリズム）変換が含まれます。今後のタイプ2または3の変換では、この属性を使用しないことをお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Some transforms specify that the Key Length attribute MUST be always included (omitting the attribute is not allowed, and proposals not containing it MUST be rejected). For example, this includes ENCR_AES_CBC and ENCR_AES_CTR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 一部の変換では、キーの長さ属性を常に含める必要があることを指定しています（属性の省略は許可されておらず、属性を含まない提案は拒否する必要があります）。たとえば、これにはENCR_AES_CBCおよびENCR_AES_CTRが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Some transforms allow variable-length keys, but also specify a default key length if the attribute is not included. For example, these transforms include ENCR_RC5 and ENCR_BLOWFISH.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 一部の変換では可変長のキーを使用できますが、属性が含まれていない場合はデフォルトのキーの長さも指定します。たとえば、これらの変換にはENCR_RC5およびENCR_BLOWFISHが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Implementation note: To further interoperability and to support upgrading endpoints independently, implementers of this protocol SHOULD accept values that they deem to supply greater security. For instance, if a peer is configured to accept a variable-length cipher with a key length of X bits and is offered that cipher with a larger key length, the implementation SHOULD accept the offer if it supports use of the longer key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
実装メモ：相互運用性をさらに高め、エンドポイントの独立したアップグレードをサポートするために、このプロトコルの実装者は、より優れたセキュリティを提供すると見なす値を受け入れる必要があります（SHOULD）。たとえば、ピアがXビットのキー長の可変長暗号を受け入れるように構成されていて、より長いキー長の暗号が提供されている場合、実装は、より長いキーの使用をサポートしている場合、オファーを受け入れる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Support for this capability allows a responder to express a concept of &#34;at least&#34; a certain level of security -- &#34;a key length of _at least_ X bits for cipher Y&#34;. However, as the attribute is always returned unchanged (see the next section), an initiator willing to accept multiple key lengths has to include multiple transforms with the same Transform Type, each with a different Key Length attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この機能のサポートにより、レスポンダは「少なくとも」特定のレベルのセキュリティの概念を表現できます-「暗号Yのキーの長さは_少なくともXビット」。ただし、属性は常に変更されずに返されるため（次のセクションを参照）、複数のキーの長さを受け入れようとするイニシエーターには、それぞれが異なるキー長属性を持つ同じ変換タイプの複数の変換を含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-6--Attribute-Negotiation">
3.3.6. Attribute Negotiation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.6. 属性交渉
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
During Security Association negotiation initiators present offers to responders. Responders MUST select a single complete set of parameters from the offers (or reject all offers if none are acceptable). If there are multiple proposals, the responder MUST choose a single proposal. If the selected proposal has multiple transforms with the same type, the responder MUST choose a single one. Any attributes of a selected transform MUST be returned unmodified. The initiator of an exchange MUST check that the accepted offer is consistent with one of its proposals, and if not MUST terminate the exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セキュリティアソシエーションのネゴシエーション中に、開始者は応答者にオファーを提示します。レスポンダはオファーから単一の完全なパラメータセットを選択する必要があります（または、何も受け入れられない場合はすべてのオファーを拒否します）。複数の提案がある場合、レスポンダは単一の提案を選択する必要があります。選択された提案に同じタイプの変換が複数ある場合、レスポンダは単一の変換を選択する必要があります。選択した変換の属性は、変更せずに返す必要があります。交換の開始者は、受け入れられたオファーがその提案の1つと一致していることを確認する必要があり、そうでない場合は交換を終了する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the responder receives a proposal that contains a Transform Type it does not understand, or a proposal that is missing a mandatory Transform Type, it MUST consider this proposal unacceptable; however, other proposals in the same SA payload are processed as usual. Similarly, if the responder receives a transform that it does not understand, or one that contains a Transform Attribute it does not understand, it MUST consider this transform unacceptable; other transforms with the same Transform Type are processed as usual. This allows new Transform Types and Transform Attributes to be defined in the future.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダが理解できない変換タイプを含む提案、または必須の変換タイプが欠落している提案を受け取った場合、応答者はこの提案を受け入れられないと考えなければなりません。ただし、同じSAペイロード内の他の提案は通常どおり処理されます。同様に、レスポンダが理解できないトランスフォーム、または理解できないトランスフォーム属性を含むトランスフォームを受信した場合、このトランスフォームは受け入れられないと見なす必要があります。同じ変換タイプを持つ他の変換は通常どおり処理されます。これにより、将来、新しい変換タイプと変換属性を定義できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Negotiating Diffie-Hellman groups presents some special challenges. SA offers include proposed attributes and a Diffie-Hellman public number (KE) in the same message. If in the initial exchange the initiator offers to use one of several Diffie-Hellman groups, it SHOULD pick the one the responder is most likely to accept and include a KE corresponding to that group. If the responder selects a proposal using a different Diffie-Hellman group (other than NONE), the responder will indicate the correct group in the response and the initiator SHOULD pick an element of that group for its KE value when retrying the first message. It SHOULD, however, continue to propose its full supported set of groups in order to prevent a man-in-the-middle downgrade attack. If one of the proposals offered is for the Diffie-Hellman group of NONE, and the responder selects that Diffie-Hellman group, then it MUST ignore the initiator&#39;s KE payload and omit the KE payload from the response.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Diffie-Hellmanグループの交渉には、いくつかの特別な課題があります。 SAオファーには、同じメッセージに提案された属性とDiffie-Hellman公開番号（KE）が含まれています。イニシエーターが最初の交換でいくつかのDiffie-Hellmanグループの1つを使用することを提案する場合、レスポンダーが受け入れる可能性が最も高いグループを選択し、そのグループに対応するKEを含める必要があります。レスポンダーが別のDiffie-Hellmanグループ（NONE以外）を使用して提案を選択した場合、レスポンダーは応答で正しいグループを示し、イニシエーターは最初のメッセージを再試行するときに、そのKE値のグループの要素を選択する必要があります。ただし、中間者ダウングレード攻撃を防ぐために、サポートされているグループの完全なセットを提案し続ける必要があります。提供される提案の1つがNONEのDiffie-Hellmanグループ用であり、レスポンダがそのDiffie-Hellmanグループを選択する場合、イニシエータのKEペイロードを無視し、応答からKEペイロードを省略しなければなりません（MUST）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-4--Key-Exchange-Payload">
3.4. Key Exchange Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. 鍵交換ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Key Exchange payload, denoted KE in this document, is used to exchange Diffie-Hellman public numbers as part of a Diffie-Hellman key exchange. The Key Exchange payload consists of the IKE generic payload header followed by the Diffie-Hellman public value itself.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではKEと表記されているキー交換ペイロードは、Diffie-Hellmanキー交換の一部としてDiffie-Hellman公開番号を交換するために使用されます。キー交換ペイロードは、IKE汎用ペイロードヘッダーと、それに続くDiffie-Hellmanパブリック値自体で構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Diffie-Hellman Group Num    |           RESERVED            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                       Key Exchange Data                       ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
Figure 10: Key Exchange Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
図10：鍵交換ペイロードの形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Key Exchange payload is constructed by copying one&#39;s Diffie-Hellman public value into the &#34;Key Exchange Data&#34; portion of the payload. The length of the Diffie-Hellman public value for MODP groups MUST be equal to the length of the prime modulus over which the exponentiation was performed, prepending zero bits to the value if necessary.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キー交換ペイロードは、Diffie-Hellmanパブリック値をペイロードの「キー交換データ」部分にコピーすることによって構築されます。 MODPグループのDiffie-Hellmanパブリック値の長さは、べき乗が実行されたプライムモジュラスの長さに等しくなければならず、必要に応じて、値の前にゼロビットを付加します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The Diffie-Hellman Group Num identifies the Diffie-Hellman group in which the Key Exchange Data was computed (see Section 3.3.2). This Diffie-Hellman Group Num MUST match a Diffie-Hellman group specified in a proposal in the SA payload that is sent in the same message, and SHOULD match the Diffie-Hellman group in the first group in the first proposal, if such exists. If none of the proposals in that SA payload specifies a Diffie-Hellman group, the KE payload MUST NOT be present. If the selected proposal uses a different Diffie-Hellman group (other than NONE), the message MUST be rejected with a Notify payload of type INVALID_KE_PAYLOAD. See also Sections 1.2 and 2.7.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Diffie-Hellman Group Numは、鍵交換データが計算されたDiffie-Hellmanグループを識別します（セクション3.3.2を参照）。このDiffie-Hellmanグループ番号は、同じメッセージで送信されるSAペイロードの提案で指定されたDiffie-Hellmanグループと一致する必要があり、存在する場合、最初の提案の最初のグループのDiffie-Hellmanグループと一致する必要があります。そのSAペイロードのどの提案もDiffie-Hellmanグループを指定していない場合、KEペイロードは存在してはなりません（MUST NOT）。選択された提案が別のDiffie-Hellmanグループ（NONE以外）を使用する場合、メッセージはタイプINVALID_KE_PAYLOADの通知ペイロードで拒否される必要があります。セクション1.2および2.7も参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Key Exchange payload is thirty-four (34).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
鍵交換ペイロードのペイロードタイプは34です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-5--Identification-Payloads">
3.5. Identification Payloads
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.5. 識別ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Identification payloads, denoted IDi and IDr in this document, allow peers to assert an identity to one another. This identity may be used for policy lookup, but does not necessarily have to match anything in the CERT payload; both fields may be used by an implementation to perform access control decisions. When using the ID_IPV4_ADDR/ID_IPV6_ADDR identity types in IDi/IDr payloads, IKEv2 does not require this address to match the address in the IP header of IKEv2 packets, or anything in the TSi/TSr payloads. The contents of IDi/IDr are used purely to fetch the policy and authentication data related to the other party.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではIDiおよびIDrと示されている識別ペイロードにより、ピアは相互にIDをアサートできます。このIDはポリシールックアップに使用できますが、必ずしもCERTペイロードの何かと一致する必要はありません。両方のフィールドは、アクセス制御の決定を実行するために実装で使用できます。 IDi / IDrペイロードでID_IPV4_ADDR / ID_IPV6_ADDR IDタイプを使用する場合、IKEv2では、IKEv2パケットのIPヘッダー内のアドレス、またはTSi / TSrペイロード内のアドレスと一致するためにこのアドレスは必要ありません。 IDi / IDrのコンテンツは、相手に関連するポリシーと認証データを取得するためだけに使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NOTE: In IKEv1, two ID payloads were used in each direction to hold Traffic Selector (TS) information for data passing over the SA. In IKEv2, this information is carried in TS payloads (see Section 3.13).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：IKEv1では、SAを通過するデータのトラフィックセレクター（TS）情報を保持するために、各方向で2つのIDペイロードが使用されました。 IKEv2では、この情報はTSペイロードで運ばれます（セクション3.13を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Peer Authorization Database (PAD) as described in RFC 4301 [IPSECARCH] describes the use of the ID payload in IKEv2 and provides a formal model for the binding of identity to policy in addition to providing services that deal more specifically with the details of policy enforcement. The PAD is intended to provide a link between the SPD and the IKE Security Association management. See Section 4.4.3 of RFC 4301 for more details.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 4301 [IPSECARCH]で説明されているPeer Authorization Database（PAD）は、IKEv2でのIDペイロードの使用を説明し、ポリシーの詳細をより詳細に扱うサービスを提供することに加えて、IDをポリシーにバインドするための正式なモデルを提供します執行。 PADは、SPDとIKE Security Association管理の間のリンクを提供することを目的としています。詳細については、RFC 4301のセクション4.4.3をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Identification payload consists of the IKE generic payload header followed by identification fields as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
識別ペイロードは、IKE汎用ペイロードヘッダーと、それに続く識別フィールドで構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ID Type     |                 RESERVED                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                   Identification Data                         ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
Figure 11: Identification Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
図11：識別ペイロードの形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ID Type (1 octet) - Specifies the type of Identification being used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IDタイプ（1オクテット）-使用されるIDのタイプを指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED - MUST be sent as zero; MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み-ゼロとして送信する必要があります。受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Identification Data (variable length) - Value, as indicated by the Identification Type. The length of the Identification Data is computed from the size in the ID payload header.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 識別データ（可変長）-識別タイプで示される値。識別データの長さは、IDペイロードヘッダーのサイズから計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload types for the Identification payload are thirty-five (35) for IDi and thirty-six (36) for IDr.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
識別ペイロードのペイロードタイプは、IDiの場合は35、IDrの場合は36です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following table lists the assigned semantics for the Identification Type field. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の表に、[識別タイプ]フィールドに割り当てられているセマンティクスを示します。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   ID Type                           Value
   -------------------------------------------------------------------
   ID_IPV4_ADDR                        1
      A single four (4) octet IPv4 address.
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_FQDN 2 A fully-qualified domain name string. An example of an ID_FQDN is &#34;example.com&#34;. The string MUST NOT contain any terminators (e.g., NULL, CR, etc.). All characters in the ID_FQDN are ASCII; for an &#34;internationalized domain name&#34;, the syntax is as defined in [IDNA], for example &#34;xn--tmonesimerkki-bfbb.example.net&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_FQDN 2完全修飾ドメイン名文字列。 ID_FQDNの例は「example.com」です。文字列には、ターミネータを含めることはできません（例：NULL、CRなど）。 ID_FQDNのすべての文字はASCIIです。 「国際化ドメイン名」の場合、構文は[IDNA]で定義されているとおりです（例：「xn--tmonesimerkki-bfbb.example.net」）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_RFC822_ADDR 3 A fully-qualified RFC 822 email address string. An example of a ID_RFC822_ADDR is &#34;jsmith@example.com&#34;. The string MUST NOT contain any terminators. Because of [EAI], implementations would be wise to treat this field as UTF-8 encoded text, not as pure ASCII.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_RFC822_ADDR 3完全修飾RFC 822電子メールアドレス文字列。 ID_RFC822_ADDRの例は「jsmith@example.com」です。文字列にはターミネータを含めてはいけません。 [EAI]があるため、実装ではこのフィールドを純粋なASCIIではなくUTF-8エンコードされたテキストとして扱うのが賢明でしょう。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_IPV6_ADDR 5 A single sixteen (16) octet IPv6 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_IPV6_ADDR 5単一の16オクテットIPv6アドレス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_DER_ASN1_DN 9 The binary Distinguished Encoding Rules (DER) encoding of an ASN.1 X.500 Distinguished Name [PKIX].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_DER_ASN1_DN 9 ASN.1 X.500 Distinguished Name [PKIX]のバイナリDistinguished Encoding Rules（DER）エンコーディング。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_DER_ASN1_GN 10 The binary DER encoding of an ASN.1 X.509 GeneralName [PKIX].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_DER_ASN1_GN 10 ASN.1 X.509 GeneralName [PKIX]のバイナリDERエンコーディング。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_KEY_ID 11 An opaque octet stream that may be used to pass vendor-specific information necessary to do certain proprietary types of identification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID_KEY_ID 11特定の独自タイプの識別を行うために必要なベンダー固有の情報を渡すために使用できる不透明なオクテットストリーム。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Two implementations will interoperate only if each can generate a type of ID acceptable to the other. To assure maximum interoperability, implementations MUST be configurable to send at least one of ID_IPV4_ADDR, ID_FQDN, ID_RFC822_ADDR, or ID_KEY_ID, and MUST be configurable to accept all of these four types. Implementations SHOULD be capable of generating and accepting all of these types. IPv6-capable implementations MUST additionally be configurable to accept ID_IPV6_ADDR. IPv6-only implementations MAY be configurable to send only ID_IPV6_ADDR instead of ID_IPV4_ADDR for IP addresses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2つの実装が相互運用できるのは、それぞれが他方に受け入れ可能なタイプのIDを生成できる場合のみです。最大の相互運用性を保証するために、実装は、ID_IPV4_ADDR、ID_FQDN、ID_RFC822_ADDR、またはID_KEY_IDの少なくとも1つを送信するように構成可能でなければならず、これら4つのタイプすべてを受け入れるように構成可能でなければなりません。実装は、これらすべてのタイプを生成および受け入れることができる必要があります（SHOULD）。 IPv6対応の実装は、ID_IPV6_ADDRを受け入れるようにさらに構成可能である必要があります。 IPv6のみの実装は、IPアドレスのID_IPV4_ADDRの代わりにID_IPV6_ADDRのみを送信するように構成可能である場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAP [EAP] does not mandate the use of any particular type of identifier, but often EAP is used with Network Access Identifiers (NAIs) defined in [NAI]. Although NAIs look a bit like email addresses (e.g., &#34;joe@example.com&#34;), the syntax is not exactly the same as the syntax of email address in [MAILFORMAT]. For those NAIs that include the realm component, the ID_RFC822_ADDR identification type SHOULD be used. Responder implementations should not attempt to verify that the contents actually conform to the exact syntax given in [MAILFORMAT], but instead should accept any reasonable-looking NAI. For NAIs that do not include the realm component, the ID_KEY_ID identification type SHOULD be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAP [EAP]は特定の種類の識別子の使用を義務付けていませんが、多くの場合、EAPは[NAI]で定義されているネットワークアクセス識別子（NAI）で使用されます。 NAIは電子メールアドレス（「joe@example.com」など）に少し似ていますが、構文は[MAILFORMAT]の電子メールアドレスの構文とまったく同じではありません。レルムコンポーネントを含むNAIの場合、ID_RFC822_ADDR識別タイプを使用する必要があります（SHOULD）。レスポンダの実装は、コンテンツが実際に[MAILFORMAT]で指定された正確な構文に準拠していることを確認しようとするのではなく、合理的に見えるNAIを受け入れるべきです。レルムコンポーネントを含まないNAIの場合、ID_KEY_ID識別タイプを使用する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See &#34;The Internet IP Security PKI Profile of IKEv1/ISAKMP, IKEv2, and PKIX&#34; ([RFC4945]) for more information about matching Identification payloads and the contents of the PKIX Certificates.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一致する識別ペイロードとPKIX証明書の内容の詳細については、「IKEv1 / ISAKMP、IKEv2、およびPKIXのインターネットIPセキュリティPKIプロファイル」（[RFC4945]）を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-6--Certificate-Payload">
3.6. Certificate Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6. 証明書ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Certificate payload, denoted CERT in this document, provides a means to transport certificates or other authentication-related information via IKE. Certificate payloads SHOULD be included in an exchange if certificates are available to the sender. The Hash and URL formats of the Certificate payloads should be used in case the peer has indicated an ability to retrieve this information from elsewhere using an HTTP_CERT_LOOKUP_SUPPORTED Notify payload. Note that the term &#34;Certificate payload&#34; is somewhat misleading, because not all authentication mechanisms use certificates and data other than certificates may be passed in this payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではCERTと表記されている証明書ペイロードは、IKEを介して証明書またはその他の認証関連情報を転送する手段を提供します。送信者が証明書を使用できる場合は、証明書ペイロードを交換に含める必要があります。ピアがHTTP_CERT_LOOKUP_SUPPORTED Notifyペイロードを使用して他の場所からこの情報を取得する機能を示している場合は、証明書ペイロードのハッシュ形式とURL形式を使用する必要があります。すべての認証メカニズムが証明書を使用するわけではなく、証明書以外のデータがこのペイロードで渡される可能性があるため、「証明書ペイロード」という用語は誤解を招く可能性があることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Certificate payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書のペイロードは次のように定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Cert Encoding |                                               |
   +-+-+-+-+-+-+-+-+                                               |
   ~                       Certificate Data                        ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-19">
Figure 12: Certificate Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-19">
図12：証明書のペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Certificate Encoding (1 octet) - This field indicates the type of certificate or certificate-related information contained in the Certificate Data field. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Certificate Encoding（1 octet）-このフィールドは、Certificate Dataフィールドに含まれる証明書または証明書関連の情報のタイプを示します。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Certificate Encoding                 Value
      ----------------------------------------------------
      PKCS #7 wrapped X.509 certificate    1   UNSPECIFIED
      PGP Certificate                      2   UNSPECIFIED
      DNS Signed Key                       3   UNSPECIFIED
      X.509 Certificate - Signature        4
      Kerberos Token                       6   UNSPECIFIED
      Certificate Revocation List (CRL)    7
      Authority Revocation List (ARL)      8   UNSPECIFIED
      SPKI Certificate                     9   UNSPECIFIED
      X.509 Certificate - Attribute        10  UNSPECIFIED
      Deprecated (was Raw RSA Key)         11  DEPRECATED
      Hash and URL of X.509 certificate    12
      Hash and URL of X.509 bundle         13
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Certificate Data (variable length) - Actual encoding of certificate data. The type of certificate is indicated by the Certificate Encoding field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 証明書データ（可変長）-証明書データの実際のエンコード。証明書のタイプは、Certificate Encodingフィールドで示されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Certificate payload is thirty-seven (37).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書ペイロードのペイロードタイプは37（37）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Specific syntax for some of the certificate type codes above is not defined in this document. The types whose syntax is defined in this document are:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の証明書タイプコードの一部の特定の構文は、このドキュメントでは定義されていません。このドキュメントで構文が定義されているタイプは次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;X.509 Certificate - Signature&#34; contains a DER-encoded X.509 certificate whose public key is used to validate the sender&#39;s AUTH payload. Note that with this encoding, if a chain of certificates needs to be sent, multiple CERT payloads are used, only the first of which holds the public key used to validate the sender&#39;s AUTH payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「X.509証明書-署名」には、DERでエンコードされたX.509証明書が含まれ、その公開鍵は送信者のAUTHペイロードを検証するために使用されます。このエンコーディングでは、証明書のチェーンを送信する必要がある場合、複数のCERTペイロードが使用されます。最初のペイロードのみが送信者のAUTHペイロードの検証に使用される公開鍵を保持します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;Certificate Revocation List&#34; contains a DER-encoded X.509 certificate revocation list.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「証明書失効リスト」には、DERでエンコードされたX.509証明書失効リストが含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Hash and URL encodings allow IKE messages to remain short by replacing long data structures with a 20-octet SHA-1 hash (see [FIPS.180-4.2012]) of the replaced value followed by a variable-length URL that resolves to the DER-encoded data structure itself. This improves efficiency when the endpoints have certificate data cached and makes IKE less subject to DoS attacks that become easier to mount when IKE messages are large enough to require IP fragmentation [DOSUDPPROT].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ハッシュおよびURLエンコーディングでは、長いデータ構造を、置き換えられた値の20オクテットSHA-1ハッシュ（[FIPS.180-4.2012]を参照）で置き換え、その後にDERに解決される可変長URLが続くことで、IKEメッセージを短く保つことができます-エンコードされたデータ構造自体。これにより、エンドポイントにキャッシュされた証明書データがある場合の効率が向上し、IKEメッセージがIPフラグメンテーションを必要とするほど大きい場合にマウントが容易になるDoS攻撃の影響を受けにくくなります[DOSUDPPROT]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;Hash and URL of a bundle&#34; type uses the following ASN.1 definition for the X.509 bundle:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「バンドルのハッシュとURL」タイプは、X.509バンドルに対して次のASN.1定義を使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CertBundle
     { iso(1) identified-organization(3) dod(6) internet(1)
       security(5) mechanisms(5) pkix(7) id-mod(0)
       id-mod-cert-bundle(34) }
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   DEFINITIONS EXPLICIT TAGS ::=
   BEGIN
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   IMPORTS
     Certificate, CertificateList
     FROM PKIX1Explicit88
        { iso(1) identified-organization(3) dod(6)
          internet(1) security(5) mechanisms(5) pkix(7)
          id-mod(0) id-pkix1-explicit(18) } ;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CertificateOrCRL ::= CHOICE {
     cert [0] Certificate,
     crl  [1] CertificateList }
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CertificateBundle ::= SEQUENCE OF CertificateOrCRL
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 END Implementations MUST be capable of being configured to send and accept up to four X.509 certificates in support of authentication, and also MUST be capable of being configured to send and accept the two Hash and URL formats (with HTTP URLs). If multiple certificates are sent, the first certificate MUST contain the public key associated with the private key used to sign the AUTH payload. The other certificates may be sent in any order.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
END実装は、認証をサポートするために最大4つのX.509証明書を送信および受け入れるように構成できなければならず、2つのハッシュおよびURL形式（HTTP URLを使用）を送信および受け入れるように構成できなければなりません。複数の証明書が送信される場合、最初の証明書には、AUTHペイロードの署名に使用される秘密鍵に関連付けられた公開鍵が含まれている必要があります。他の証明書は任意の順序で送信できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Implementations MUST support the &#34;http:&#34; scheme for hash-and-URL lookup. The behavior of other URL schemes [URLS] is not currently specified, and such schemes SHOULD NOT be used in the absence of a document specifying them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
実装は、ハッシュおよびURLルックアップの「http：」スキームをサポートする必要があります。他のURLスキーム[URLS]の動作は現在指定されていません。そのようなスキームは、それらを指定するドキュメントがない場合は使用しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-7--Certificate-Request-Payload">
3.7. Certificate Request Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.7. 証明書要求ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Certificate Request payload, denoted CERTREQ in this document, provides a means to request preferred certificates via IKE and can appear in the IKE_INIT_SA response and/or the IKE_AUTH request. Certificate Request payloads MAY be included in an exchange when the sender needs to get the certificate of the receiver.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではCERTREQと表記されている証明書要求ペイロードは、IKEを介して優先証明書を要求する手段を提供し、IKE_INIT_SA応答またはIKE_AUTH要求、あるいはその両方に表示できます。送信者が受信者の証明書を取得する必要がある場合、証明書要求ペイロードを交換に含めることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Certificate Request payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書要求ペイロードは次のように定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Cert Encoding |                                               |
   +-+-+-+-+-+-+-+-+                                               |
   ~                    Certification Authority                    ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
Figure 13: Certificate Request Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
図13：証明書リクエストのペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Certificate Encoding (1 octet) - Contains an encoding of the type or format of certificate requested. Values are listed in Section 3.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 証明書のエンコーディング（1オクテット）-要求された証明書のタイプまたは形式のエンコーディングが含まれています。値はセクション3.6にリストされています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Certification Authority (variable length) - Contains an encoding of an acceptable certification authority for the type of certificate requested.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 証明機関（可変長）-要求された種類の証明書の受け入れ可能な証明機関のエンコーディングが含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Certificate Request payload is thirty-eight (38).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書要求ペイロードのペイロードタイプは38です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Certificate Encoding field has the same values as those defined in Section 3.6. The Certification Authority field contains an indicator of trusted authorities for this certificate type. The Certification Authority value is a concatenated list of SHA-1 hashes of the public keys of trusted Certification Authorities (CAs). Each is encoded as the SHA-1 hash of the Subject Public Key Info element (see Section 4.1.2.7 of [PKIX]) from each Trust Anchor certificate. The 20-octet hashes are concatenated and included with no other formatting.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Certificate Encodingフィールドの値は、3.6節で定義したものと同じです。 [証明機関]フィールドには、この証明書タイプの信頼できる機関のインジケーターが含まれています。証明機関の値は、信頼された証明機関（CA）の公開キーのSHA-1ハッシュの連結リストです。それぞれは、各トラストアンカー証明書からのサブジェクト公開鍵情報要素（[PKIX]のセクション4.1.2.7を参照）のSHA-1ハッシュとしてエンコードされます。 20オクテットのハッシュは連結され、他のフォーマットは含まれません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The contents of the Certification Authority field are defined only for X.509 certificates, which are types 4, 12, and 13. Other values SHOULD NOT be used until Standards-Track specifications that specify their use are published.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[証明機関]フィールドの内容は、タイプ4、12、13のX.509証明書に対してのみ定義されます。その他の値は、その使用を指定するStandards-Track仕様が公開されるまで使用しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the term &#34;Certificate Request&#34; is somewhat misleading, in that values other than certificates are defined in a &#34;Certificate&#34; payload and requests for those values can be present in a Certificate Request payload. The syntax of the Certificate Request payload in such cases is not defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書以外の値は「証明書」ペイロードで定義され、それらの値の要求は証明書要求ペイロードに存在する可能性があるため、「証明書要求」という用語は誤解を招く可能性があることに注意してください。このような場合の証明書要求ペイロードの構文は、このドキュメントでは定義されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Certificate Request payload is processed by inspecting the Cert Encoding field to determine whether the processor has any certificates of this type. If so, the Certification Authority field is inspected to determine if the processor has any certificates that can be validated up to one of the specified certification authorities. This can be a chain of certificates.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書リクエストのペイロードは、[Cert Encoding]フィールドを調べて、プロセッサにこのタイプの証明書があるかどうかを判断することによって処理されます。その場合、[証明機関]フィールドが検査され、指定された証明機関の1つまで検証できる証明書がプロセッサにあるかどうかが判断されます。これは証明書のチェーンにすることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an end-entity certificate exists that satisfies the criteria specified in the CERTREQ, a certificate or certificate chain SHOULD be sent back to the certificate requestor if the recipient of the CERTREQ:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CERTREQで指定された基準を満たすエンドエンティティ証明書が存在する場合、証明書または証明書チェーンは、CERTREQの受信者が次の場合に証明書リクエスタに返送する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o is configured to use certificate authentication,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 証明書認証を使用するように構成されている
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o is allowed to send a CERT payload,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o CERTペイロードの送信が許可されている
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o has matching CA trust policy governing the current negotiation, and
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 現在のネゴシエーションを管理する一致するCA信頼ポリシーがあり、
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o has at least one time-wise and usage-appropriate end-entity certificate chaining to a CA provided in the CERTREQ.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o CERTREQで提供されるCAにチェーンされた、少なくとも1つの時間的で使用に適したエンドエンティティ証明書があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Certificate revocation checking must be considered during the chaining process used to select a certificate. Note that even if two peers are configured to use two different CAs, cross-certification relationships should be supported by appropriate selection logic.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
証明書の選択に使用されるチェーンプロセスでは、証明書失効チェックを考慮する必要があります。 2つのピアが2つの異なるCAを使用するように構成されている場合でも、適切な選択ロジックによって相互認証関係をサポートする必要があることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The intent is not to prevent communication through the strict adherence of selection of a certificate based on CERTREQ, when an alternate certificate could be selected by the sender that would still enable the recipient to successfully validate and trust it through trust conveyed by cross-certification, CRLs, or other out-of-band configured means. Thus, the processing of a CERTREQ should be seen as a suggestion for a certificate to select, not a mandated one. If no certificates exist, then the CERTREQ is ignored. This is not an error condition of the protocol. There may be cases where there is a preferred CA sent in the CERTREQ, but an alternate might be acceptable (perhaps after prompting a human operator).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
その目的は、CERTREQに基づく証明書の選択を厳密に遵守することで通信を妨げることではなく、代替の証明書を送信者が選択して、受信者が相互認証によって伝達される信頼を通じてそれを正常に検証および信頼できるようにすることができる場合、 CRL、またはその他の帯域外構成手段。したがって、CERTREQの処理は、必須の証明書ではなく、選択する証明書の提案と見なす必要があります。証明書が存在しない場合、CERTREQは無視されます。これはプロトコルのエラー状態ではありません。 CERTREQで優先CAが送信される場合がありますが、（おそらく人間のオペレーターにプロンプ​​トを出した後で）代替が受け入れられる場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The HTTP_CERT_LOOKUP_SUPPORTED notification MAY be included in any message that can include a CERTREQ payload and indicates that the sender is capable of looking up certificates based on an HTTP-based URL (and hence presumably would prefer to receive certificate specifications in that format).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HTTP_CERT_LOOKUP_SUPPORTED通知は、CERTREQペイロードを含めることができるすべてのメッセージに含めることができ、送信者がHTTPベースのURLに基​​づいて証明書を検索できることを示します（したがって、おそらくその形式で証明書仕様を受信することを好むでしょう）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-8--Authentication-Payload">
3.8. Authentication Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.8. 認証ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Authentication payload, denoted AUTH in this document, contains data used for authentication purposes. The syntax of the Authentication Data varies according to the Auth Method as specified below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではAUTHと示されている認証ペイロードには、認証目的で使用されるデータが含まれています。認証データの構文は、以下に示すように、認証方法によって異なります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Authentication payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
認証ペイロードは次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Auth Method   |                RESERVED                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                      Authentication Data                      ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
Figure 14: Authentication Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
図14：認証ペイロードの形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Auth Method (1 octet) - Specifies the method of authentication used. The types of signatures are listed here. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Auth Method（1 octet）-使用する認証方法を指定します。署名のタイプはここにリストされています。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Mechanism                              Value
   -----------------------------------------------------------------
   RSA Digital Signature                  1
      Computed as specified in Section 2.15 using an RSA private key
      with RSASSA-PKCS1-v1_5 signature scheme specified in [PKCS1]
      (implementers should note that IKEv1 used a different method for
      RSA signatures).  To promote interoperability, implementations
      that support this type SHOULD support signatures that use SHA-1
      as the hash function and SHOULD use SHA-1 as the default hash
      function when generating signatures.  Implementations can use the
      certificates received from a given peer as a hint for selecting a
      mutually understood hash function for the AUTH payload signature.
      Note, however, that the hash algorithm used in the AUTH payload
      signature doesn&#39;t have to be the same as any hash algorithm(s)
      used in the certificate(s).
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Shared Key Message Integrity Code 2 Computed as specified in Section 2.15 using the shared key associated with the identity in the ID payload and the negotiated PRF.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
共有キーメッセージ整合性コード2 2.15で指定されているように、IDペイロードのIDと関連付けられた共有キーとネゴシエートされたPRFを使用して計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DSS Digital Signature 3 Computed as specified in Section 2.15 using a DSS private key (see [DSS]) over a SHA-1 hash.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DSSデジタル署名3 SHA-1ハッシュ上でDSS秘密鍵（[DSS]を参照）を使用してセクション2.15で指定されているように計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED - MUST be sent as zero; MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み-ゼロとして送信する必要があります。受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Authentication Data (variable length) - see Section 2.15.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 認証データ（可変長）-セクション2.15を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Authentication payload is thirty-nine (39).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
認証ペイロードのペイロードタイプは39です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-9--Nonce-Payload">
3.9. Nonce Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.9. ノンスペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Nonce payload, denoted as Ni and Nr in this document for the initiator&#39;s and responder&#39;s nonce, respectively, contains random data used to guarantee liveness during an exchange and protect against replay attacks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、イニシエーターおよびレスポンダーのノンスに対してそれぞれNiおよびNrとして示されているNonceペイロードには、交換中の活性を保証し、リプレイアタックから保護するために使用されるランダムデータが含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Nonce payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Nonceペイロードは次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                            Nonce Data                         ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
Figure 15: Nonce Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
図15：ノンスペイロードのフォーマット
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Nonce Data (variable length) - Contains the random data generated by the transmitting entity.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ノンスデータ（可変長）-送信エンティティによって生成されたランダムデータが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Nonce payload is forty (40).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Nonceペイロードのペイロードタイプは40（40）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The size of the Nonce Data MUST be between 16 and 256 octets, inclusive. Nonce values MUST NOT be reused.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ノンスデータのサイズは、16〜256オクテットである必要があります。 nonce値は再利用してはいけません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-10--Notify-Payload">
3.10. Notify Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.10. ペイロードに通知
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Notify payload, denoted N in this document, is used to transmit informational data, such as error conditions and state transitions, to an IKE peer. A Notify payload may appear in a response message (usually specifying why a request was rejected), in an INFORMATIONAL exchange (to report an error not in an IKE request), or in any other message to indicate sender capabilities or to modify the meaning of the request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではNと示されている通知ペイロードは、エラー条件や状態遷移などの情報データをIKEピアに送信するために使用されます。通知ペイロードは、応答メッセージ（通常は要求が拒否された理由を指定）、情報交換（IKE要求にないエラーを報告する）、または送信者の機能を示すか、またはリクエスト。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Notify payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Notifyペイロードは次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Protocol ID  |   SPI Size    |      Notify Message Type      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                Security Parameter Index (SPI)                 ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                       Notification Data                       ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 16: Notify Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図16：通知ペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Protocol ID (1 octet) - If this notification concerns an existing SA whose SPI is given in the SPI field, this field indicates the type of that SA. For notifications concerning Child SAs, this field MUST contain either (2) to indicate AH or (3) to indicate ESP. Of the notifications defined in this document, the SPI is included only with INVALID_SELECTORS, REKEY_SA, and CHILD_SA_NOT_FOUND. If the SPI field is empty, this field MUST be sent as zero and MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プロトコルID（1オクテット）-この通知が、SPIフィールドにSPIが指定されている既存のSAに関する場合、このフィールドはそのSAのタイプを示します。子SAに関する通知の場合、このフィールドには、（2）AHを示すか、または（3）ESPを示す必要があります。このドキュメントで定義されている通知のうち、SPIはINVALID_SELECTORS、REKEY_SA、およびCHILD_SA_NOT_FOUNDにのみ含まれています。 SPIフィールドが空の場合、このフィールドはゼロとして送信する必要があり、受信時に無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI Size (1 octet) - Length in octets of the SPI as defined by the IPsec protocol ID or zero if no SPI is applicable. For a notification concerning the IKE SA, the SPI Size MUST be zero and the field must be empty.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPIサイズ（1オクテット）-IPsecプロトコルIDによって定義されたSPIのオクテット単位の長さ、またはSPIが適用されない場合はゼロ。 IKE SAに関する通知の場合、SPIサイズはゼロでなければならず、フィールドは空でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Notify Message Type (2 octets) - Specifies the type of notification message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 通知メッセージタイプ（2オクテット）-通知メッセージのタイプを指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI (variable length) - Security Parameter Index.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI（可変長）-セキュリティパラメータインデックス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Notification Data (variable length) - Status or error data transmitted in addition to the Notify Message Type. Values for this field are type specific (see below).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 通知データ（可変長）-通知メッセージタイプに加えて送信されるステータスまたはエラーデータ。このフィールドの値はタイプ固有です（以下を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Notify payload is forty-one (41).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Notifyペイロードのペイロードタイプは41です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-10-1--Notify-Message-Types">
3.10.1. Notify Message Types
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.10.1. 通知メッセージタイプ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Notification information can be error messages specifying why an SA could not be established. It can also be status data that a process managing an SA database wishes to communicate with a peer process.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通知情報は、SAを確立できなかった理由を指定するエラーメッセージの場合があります。また、SAデータベースを管理するプロセスがピアプロセスと通信したいステータスデータでもかまいません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The table below lists the notification messages and their corresponding values. The number of different error statuses was greatly reduced from IKEv1 both for simplification and to avoid giving configuration information to probers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の表に、通知メッセージとそれに対応する値を示します。簡素化とプローバへの構成情報の提供を回避するために、さまざまなエラーステータスの数がIKEv1から大幅に削減されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Types in the range 0 - 16383 are intended for reporting errors. An implementation receiving a Notify payload with one of these types that it does not recognize in a response MUST assume that the corresponding request has failed entirely. Unrecognized error types in a request and status types in a request or response MUST be ignored, and they should be logged.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0から16383の範囲のタイプは、エラーの報告を目的としています。応答で認識されないこれらのタイプのいずれかでNotifyペイロードを受信する実装は、対応する要求が完全に失敗したと想定する必要があります。リクエスト内の認識されないエラータイプおよびリクエストまたはレスポンス内のステータスタイプは無視する必要があり、ログに記録する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Notify payloads with status types MAY be added to any message and MUST be ignored if not recognized. They are intended to indicate capabilities, and as part of SA negotiation, are used to negotiate non-cryptographic parameters.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ステータスタイプの通知ペイロードはメッセージに追加される場合があり、認識されない場合は無視する必要があります。これらは機能を示すことを目的としており、SAネゴシエーションの一部として、非暗号化パラメーターのネゴシエーションに使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
More information on error handling can be found in Section 2.21.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラー処理の詳細については、セクション2.21を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The values in the following table are only current as of the publication date of RFC 4306, plus two error types added in this document. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の表の値は、RFC 4306の発行日現在のものであり、このドキュメントに2つのエラータイプが追加されています。それ以降、他の値が追加されている場合や、このドキュメントの公開後に追加される場合があります。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   NOTIFY messages: error types              Value
   -------------------------------------------------------------------
   UNSUPPORTED_CRITICAL_PAYLOAD              1
       See Section 2.5.
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_IKE_SPI 4 See Section 2.21.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_IKE_SPI 4セクション2.21を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_MAJOR_VERSION 5 See Section 2.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_MAJOR_VERSION 5セクション2.5を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 INVALID_SYNTAX 7 Indicates the IKE message that was received was invalid because some type, length, or value was out of range or because the request was rejected for policy reasons. To avoid a DoS attack using forged messages, this status may only be returned for and in an encrypted packet if the Message ID and cryptographic checksum were valid. To avoid leaking information to someone probing a node, this status MUST be sent in response to any error not covered by one of the other status types. To aid debugging, more detailed error information should be written to a console or log.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
INVALID_SYNTAX 7一部のタイプ、長さ、または値が範囲外だったため、または要求がポリシー上の理由で拒否されたために、受信したIKEメッセージが無効であったことを示します。偽造メッセージを使用したDoS攻撃を回避するために、このステータスは、メッセージIDと暗号化チェックサムが有効である場合にのみ、暗号化されたパケットに対して返されます。ノードを調査している誰かに情報を漏らさないようにするために、このステータスは、他のステータスタイプのいずれかでカバーされていないエラーへの応答として送信する必要があります。デバッグを支援するには、より詳細なエラー情報をコンソールまたはログに書き込む必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_MESSAGE_ID 9 See Section 2.3.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_MESSAGE_ID 9セクション2.3を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_SPI 11 See Section 1.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_SPI 11セクション1.5を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NO_PROPOSAL_CHOSEN 14 None of the proposed crypto suites was acceptable. This can be sent in any case where the offered proposals (including but not limited to SA payload values, USE_TRANSPORT_MODE notify, IPCOMP_SUPPORTED notify) are not acceptable for the responder. This can also be used as &#34;generic&#34; Child SA error when Child SA cannot be created for some other reason. See also Section 2.7.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NO_PROPOSAL_CHOSEN 14提案された暗号スイートはどれも受け入れられませんでした。これは、提供された提案（SAペイロード値、USE_TRANSPORT_MODE通知、IPCOMP_SUPPORTED通知を含むがこれらに限定されない）がレスポンダに受け入れられない場合に送信できます。これは、他の理由で子SAを作成できない場合の「一般的な」子SAエラーとしても使用できます。セクション2.7も参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_KE_PAYLOAD 17 See Sections 1.2 and 1.3.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_KE_PAYLOAD 17セクション1.2および1.3を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
AUTHENTICATION_FAILED 24 Sent in the response to an IKE_AUTH message when, for some reason, the authentication failed. There is no associated data. See also Section 2.21.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
AUTHENTICATION_FAILED 24なんらかの理由で認証が失敗した場合に、IKE_AUTHメッセージへの応答で送信されます。関連するデータはありません。セクション2.21.2も参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SINGLE_PAIR_REQUIRED 34 See Section 2.9.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SINGLE_PAIR_REQUIRED 34セクション2.9を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NO_ADDITIONAL_SAS 35 See Section 1.3.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NO_ADDITIONAL_SAS 35セクション1.3を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INTERNAL_ADDRESS_FAILURE 36 See Section 3.15.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INTERNAL_ADDRESS_FAILURE 36セクション3.15.4を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FAILED_CP_REQUIRED 37 See Section 2.19.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FAILED_CP_REQUIRED 37セクション2.19を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TS_UNACCEPTABLE 38 See Section 2.9.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TS_UNACCEPTABLE 38セクション2.9を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_SELECTORS 39 MAY be sent in an IKE INFORMATIONAL exchange when a node receives an ESP or AH packet whose selectors do not match those of the SA on which it was delivered (and that caused the packet to be dropped). The Notification Data contains the start of the offending packet (as in ICMP messages) and the SPI field of the notification is set to match the SPI of the Child SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INVALID_SELECTORS 39セレクターがそれが配信されたSAのセレクターと一致しないESPまたはAHパケットをノードが受信すると、IKE INFORMATIONAL交換で送信される場合があります（そのため、パケットがドロップされました）。通知データには、問題のあるパケットの開始（ICMPメッセージなど）が含まれており、通知のSPIフィールドは、子SAのSPIと一致するように設定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TEMPORARY_FAILURE 43 See Section 2.25.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TEMPORARY_FAILURE 43セクション2.25を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CHILD_SA_NOT_FOUND 44 See Section 2.25.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CHILD_SA_NOT_FOUND 44セクション2.25を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   NOTIFY messages: status types            Value
   -------------------------------------------------------------------
   INITIAL_CONTACT                          16384
       See Section 2.4.
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SET_WINDOW_SIZE 16385 See Section 2.3.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SET_WINDOW_SIZE 16385セクション2.3を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ADDITIONAL_TS_POSSIBLE 16386 See Section 2.9.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ADDITIONAL_TS_POSSIBLE 16386セクション2.9を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPCOMP_SUPPORTED 16387 See Section 2.22.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPCOMP_SUPPORTED 16387セクション2.22を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NAT_DETECTION_SOURCE_IP 16388 See Section 2.23.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NAT_DETECTION_SOURCE_IP 16388セクション2.23を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NAT_DETECTION_DESTINATION_IP 16389 See Section 2.23.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NAT_DETECTION_DESTINATION_IP 16389セクション2.23を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
COOKIE 16390 See Section 2.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
COOKIE 16390セクション2.6を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
USE_TRANSPORT_MODE 16391 See Section 1.3.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
USE_TRANSPORT_MODE 16391セクション1.3.1を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HTTP_CERT_LOOKUP_SUPPORTED 16392 See Section 3.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HTTP_CERT_LOOKUP_SUPPORTED 16392セクション3.6を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
REKEY_SA 16393 See Section 1.3.3.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
REKEY_SA 16393セクション1.3.3を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESP_TFC_PADDING_NOT_SUPPORTED 16394 See Section 1.3.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESP_TFC_PADDING_NOT_SUPPORTED 16394セクション1.3.1を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NON_FIRST_FRAGMENTS_ALSO 16395 See Section 1.3.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NON_FIRST_FRAGMENTS_ALSO 16395セクション1.3.1を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-11--Delete-Payload">
3.11. Delete Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.11. ペイロードを削除
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Delete payload, denoted D in this document, contains a protocol-specific Security Association identifier that the sender has removed from its Security Association database and is, therefore, no longer valid. Figure 17 shows the format of the Delete payload. It is possible to send multiple SPIs in a Delete payload; however, each SPI MUST be for the same protocol. Mixing of protocol identifiers MUST NOT be performed in the Delete payload. It is permitted, however, to include multiple Delete payloads in a single INFORMATIONAL exchange where each Delete payload lists SPIs for a different protocol.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでDと示されている削除ペイロードには、送信者がセキュリティアソシエーションデータベースから削除したプロトコル固有のセキュリティアソシエーション識別子が含まれているため、有効ではなくなりました。図17は、Deleteペイロードのフォーマットを示しています。 Deleteペイロードで複数のSPIを送信することが可能です。ただし、各SPIは同じプロトコル用でなければなりません。プロトコル識別子の混在は、削除ペイロードで実行してはなりません（MUST NOT）。ただし、各削除ペイロードが異なるプロトコルのSPIをリストする単一の情報交換に複数の削除ペイロードを含めることは許可されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Deletion of the IKE SA is indicated by a protocol ID of 1 (IKE) but no SPIs. Deletion of a Child SA, such as ESP or AH, will contain the IPsec protocol ID of that protocol (2 for AH, 3 for ESP), and the SPI is the SPI the sending endpoint would expect in inbound ESP or AH packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE SAの削除は、プロトコルID 1（IKE）によって示されますが、SPIは示されません。 ESPやAHなどの子SAの削除には、そのプロトコルのIPsecプロトコルID（AHの場合は2、ESPの場合は3）が含まれ、SPIは送信エンドポイントがインバウンドESPまたはAHパケットで予期するSPIです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Delete payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Deleteペイロードは次のように定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Protocol ID   |   SPI Size    |          Num of SPIs          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~               Security Parameter Index(es) (SPI)              ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 17: Delete Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図17：ペイロード形式の削除
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Protocol ID (1 octet) - Must be 1 for an IKE SA, 2 for AH, or 3 for ESP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プロトコルID（1オクテット）-IKE SAの場合は1、AHの場合は2、ESPの場合は3でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI Size (1 octet) - Length in octets of the SPI as defined by the protocol ID. It MUST be zero for IKE (SPI is in message header) or four for AH and ESP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPIサイズ（1オクテット）-プロトコルIDで定義されているSPIのオクテット単位の長さ。 IKE（SPIはメッセージヘッダーにあります）の場合は0、AHおよびESPの場合は4でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Num of SPIs (2 octets, unsigned integer) - The number of SPIs contained in the Delete payload. The size of each SPI is defined by the SPI Size field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Num of SPIs（2 octets、unsigned integer）-Deleteペイロードに含まれるSPIの数。各SPIのサイズは、SPIサイズフィールドで定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Security Parameter Index(es) (variable length) - Identifies the specific Security Association(s) to delete. The length of this field is determined by the SPI Size and Num of SPIs fields.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o セキュリティパラメータインデックス（可変長）-削除する特定のセキュリティアソシエーションを識別します。このフィールドの長さは、SPIサイズとSPIの数フィールドによって決定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Delete payload is forty-two (42).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Deleteペイロードのペイロードタイプは42です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-12--Vendor-ID-Payload">
3.12. Vendor ID Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.12. ベンダーIDペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Vendor ID payload, denoted V in this document, contains a vendor-defined constant. The constant is used by vendors to identify and recognize remote instances of their implementations. This mechanism allows a vendor to experiment with new features while maintaining backward compatibility.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではVで示されているベンダーIDペイロードには、ベンダー定義の定数が含まれています。定数は、ベンダーが実装のリモートインスタンスを識別および認識するために使用します。このメカニズムにより、ベンダーは下位互換性を維持しながら新しい機能を試すことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Vendor ID payload MAY announce that the sender is capable of accepting certain extensions to the protocol, or it MAY simply identify the implementation as an aid in debugging. A Vendor ID payload MUST NOT change the interpretation of any information defined in this specification (i.e., the critical bit MUST be set to 0). Multiple Vendor ID payloads MAY be sent. An implementation is not required to send any Vendor ID payload at all.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ベンダーIDペイロードは、送信者がプロトコルの特定の拡張を受け入れることができることを通知する場合があります。または、デバッグの補助として実装を単に識別してもよい（MAY）。ベンダーIDペイロードは、この仕様で定義されている情報の解釈を変更してはなりません（つまり、クリティカルビットを0に設定する必要があります）。複数のベンダーIDペイロードが送信される場合があります。ベンダーIDペイロードを送信するための実装はまったく必要ありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Vendor ID payload may be sent as part of any message. Reception of a familiar Vendor ID payload allows an implementation to make use of private use numbers described throughout this document, such as private payloads, private exchanges, private notifications, etc. Unfamiliar Vendor IDs MUST be ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ベンダーIDペイロードは、メッセージの一部として送信できます。おなじみのベンダーIDペイロードを受信すると、実装では、このドキュメント全体で説明されているプラ​​イベートペイロード（プライベートペイロード、プライベートエクスチェンジ、プライベート通知など）を利用できます。見慣れないベンダーIDは無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Writers of documents who wish to extend this protocol MUST define a Vendor ID payload to announce the ability to implement the extension in the document. It is expected that documents that gain acceptance and are standardized will be given &#34;magic numbers&#34; out of the Future Use range by IANA, and the requirement to use a Vendor ID will go away.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このプロトコルを拡張するドキュメントの作成者は、ドキュメントに拡張機能を実装する機能を通知するために、ベンダーIDペイロードを定義する必要があります。承認を得て標準化されたドキュメントには、IANAによってFuture Use範囲外の「マジックナンバー」が付与され、ベンダーIDを使用する必要がなくなることが期待されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Vendor ID payload fields are defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ベンダーIDペイロードフィールドは次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                        Vendor ID (VID)                        ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-20">
Figure 18: Vendor ID Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-20">
図18：ベンダーIDのペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Vendor ID (variable length) - It is the responsibility of the person choosing the Vendor ID to assure its uniqueness in spite of the absence of any central registry for IDs. Good practice is to include a company name, a person name, or some such information. If you want to show off, you might include the latitude and longitude and time where you were when you chose the ID and some random input. A message digest of a long unique string is preferable to the long unique string itself.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ベンダーID（可変長）-IDの中央レジストリがない場合でも、その一意性を保証するのはベンダーIDの選択者の責任です。会社名、人物名などの情報を含めることをお勧めします。自慢したい場合は、IDとランダム入力を選択したときの緯度と経度、時間を含めることができます。長い一意の文字列自体よりも、長い一意の文字列のメッセージダイジェストの方が適しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Vendor ID payload is forty-three (43).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ベンダーIDペイロードのペイロードタイプは43です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-13--Traffic-Selector-Payload">
3.13. Traffic Selector Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.13. トラフィックセレクタペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Traffic Selector payload, denoted TS in this document, allows peers to identify packet flows for processing by IPsec security services. The Traffic Selector payload consists of the IKE generic payload header followed by individual Traffic Selectors as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではTSで示されるトラフィックセレクタペイロードにより、ピアはIPsecセキュリティサービスで処理するパケットフローを識別できます。トラフィックセレクタペイロードは、IKE汎用ペイロードヘッダーと、それに続く個々のトラフィックセレクタで構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Number of TSs |                 RESERVED                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                       &lt;Traffic Selectors&gt;                     ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-16">
Figure 19: Traffic Selectors Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-16">
図19：トラフィックセレクターのペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Number of TSs (1 octet) - Number of Traffic Selectors being provided.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o TSの数（1オクテット）-提供されているトラフィックセレクターの数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED - This field MUST be sent as zero and MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み-このフィールドはゼロとして送信する必要があり、受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Traffic Selectors (variable length) - One or more individual Traffic Selectors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o トラフィックセレクター（可変長）-1つ以上の個別のトラフィックセレクター。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The length of the Traffic Selector payload includes the TS header and all the Traffic Selectors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トラフィックセレクターペイロードの長さには、TSヘッダーとすべてのトラフィックセレクターが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Traffic Selector payload is forty-four (44) for addresses at the initiator&#39;s end of the SA and forty-five (45) for addresses at the responder&#39;s end.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Traffic Selectorペイロードのペイロードタイプは、SAのイニシエーター側のアドレスの場合は44（44）、レスポンダー側のアドレスの場合は45（45）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There is no requirement that TSi and TSr contain the same number of individual Traffic Selectors. Thus, they are interpreted as follows: a packet matches a given TSi/TSr if it matches at least one of the individual selectors in TSi, and at least one of the individual selectors in TSr.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TSiとTSrに同じ数の個別のトラフィックセレクターが含まれている必要はありません。したがって、それらは次のように解釈されます。パケットがTSiの個々のセレクタの少なくとも1つ、およびTSrの個々のセレクタの少なくとも1つに一致する場合、パケットは指定されたTSi / TSrに一致します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For instance, the following Traffic Selectors:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、次のトラフィックセレクター：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   TSi = ((17, 100, 198.51.100.66-198.51.100.66),
          (17, 200, 198.51.100.66-198.51.100.66))
   TSr = ((17, 300, 0.0.0.0-255.255.255.255),
          (17, 400, 0.0.0.0-255.255.255.255))
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
would match UDP packets from 198.51.100.66 to anywhere, with any of the four combinations of source/destination ports (100,300), (100,400), (200,300), and (200, 400).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
198.51.100.66から任意の場所へのUDPパケットを照合し、送信元/宛先ポートの4つの組み合わせ（100,300）、（100,400）、（200,300）、および（200、400）のいずれかを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thus, some types of policies may require several Child SA pairs. For instance, a policy matching only source/destination ports (100,300) and (200,400), but not the other two combinations, cannot be negotiated as a single Child SA pair.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
したがって、ポリシーのタイプによっては、複数の子SAペアが必要になる場合があります。たとえば、送信元/宛先ポート（100,300）および（200,400）のみに一致し、他の2つの組み合わせには一致しないポリシーは、単一の子SAペアとしてネゴシエートできません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-13-1--Traffic-Selector">
3.13.1. Traffic Selector
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.13.1. トラフィックセレクター
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   TS Type     |IP Protocol ID*|       Selector Length         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Start Port*         |           End Port*           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                         Starting Address*                     ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                         Ending Address*                       ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
Figure 20: Traffic Selector
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
図20：トラフィックセレクター
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
*Note: All fields other than TS Type and Selector Length depend on the TS Type. The fields shown are for TS Types 7 and 8, the only two values currently defined.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
*注：TSタイプとセレクター長以外のすべてのフィールドは、TSタイプによって異なります。表示されているフィールドはTSタイプ7と8のもので、現在定義されている値は2つだけです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o TS Type (one octet) - Specifies the type of Traffic Selector.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o TSタイプ（1オクテット）-トラフィックセレクターのタイプを指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IP protocol ID (1 octet) - Value specifying an associated IP protocol ID (such as UDP, TCP, and ICMP). A value of zero means that the protocol ID is not relevant to this Traffic Selector -- the SA can carry all protocols.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPプロトコルID（1オクテット）-関連するIPプロトコルID（UDP、TCP、ICMPなど）を指定する値。値0は、プロトコルIDがこのトラフィックセレクターに関連していないことを意味します。SAはすべてのプロトコルを伝送できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Selector Length (2 octets, unsigned integer) - Specifies the length of this Traffic Selector substructure including the header.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o セレクターの長さ（2オクテット、符号なし整数）-ヘッダーを含むこのトラフィックセレクターの部分構造の長さを指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Start Port (2 octets, unsigned integer) - Value specifying the smallest port number allowed by this Traffic Selector. For protocols for which port is undefined (including protocol 0), or if all ports are allowed, this field MUST be zero. ICMP and ICMPv6 Type and Code values, as well as Mobile IP version 6 (MIPv6) mobility header (MH) Type values, are represented in this field as specified in Section 4.4.1.1 of [IPSECARCH]. ICMP Type and Code values are treated as a single 16-bit integer port number, with Type in the most significant eight bits and Code in the least significant eight bits. MIPv6 MH Type values are treated as a single 16-bit integer port number, with Type in the most significant eight bits and the least significant eight bits set to zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 開始ポート（2オクテット、符号なし整数）-このトラフィックセレクターで許可される最小のポート番号を指定する値。ポートが未定義のプロトコル（プロトコル0を含む）の場合、またはすべてのポートが許可されている場合、このフィールドはゼロでなければなりません（MUST）。 [IPSECARCH]のセクション4.4.1.1で指定されているように、ICMPおよびICMPv6タイプとコードの値、およびモバイルIPバージョン6（MIPv6）モビリティヘッダー（MH）タイプの値がこのフィールドに表示されます。 ICMPタイプとコードの値は、1つの16ビット整数ポート番号として扱われ、最上位8ビットがタイプ、最下位8ビットがコードになります。 MIPv6 MHタイプ値は単一の16ビット整数ポート番号として扱われ、最上位8ビットのタイプと最下位8ビットのタイプはゼロに設定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o End Port (2 octets, unsigned integer) - Value specifying the largest port number allowed by this Traffic Selector. For protocols for which port is undefined (including protocol 0), or if all ports are allowed, this field MUST be 65535. ICMP and ICMPv6 Type and Code values, as well as MIPv6 MH Type values, are represented in this field as specified in Section 4.4.1.1 of [IPSECARCH]. ICMP Type and Code values are treated as a single 16-bit integer port number, with Type in the most significant eight bits and Code in the least significant eight bits. MIPv6 MH Type values are treated as a single 16-bit integer port number, with Type in the most significant eight bits and the least significant eight bits set to zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o エンドポート（2オクテット、符号なし整数）-このトラフィックセレクターで許可されている最大のポート番号を指定する値。ポートが定義されていないプロトコル（プロトコル0を含む）の場合、またはすべてのポートが許可される場合、このフィールドは65535でなければなりません。ICMPおよびICMPv6タイプとコードの値、およびMIPv6 MHタイプの値は、 [IPSECARCH]のセクション4.4.1.1。 ICMPタイプとコードの値は、1つの16ビット整数ポート番号として扱われ、最上位8ビットがタイプ、最下位8ビットがコードになります。 MIPv6 MHタイプ値は単一の16ビット整数ポート番号として扱われ、最上位8ビットのタイプと最下位8ビットのタイプはゼロに設定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Starting Address - The smallest address included in this Traffic Selector (length determined by TS Type).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 開始アドレス-このトラフィックセレクターに含まれる最小のアドレス（長さはTSタイプによって決定されます）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ending Address - The largest address included in this Traffic Selector (length determined by TS Type).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 終了アドレス-このトラフィックセレクタに含まれる最大のアドレス（長さはTSタイプによって決定されます）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Systems that are complying with [IPSECARCH] that wish to indicate &#34;ANY&#34; ports MUST set the start port to 0 and the end port to 65535; note that according to [IPSECARCH], &#34;ANY&#34; includes &#34;OPAQUE&#34;. Systems working with [IPSECARCH] that wish to indicate &#34;OPAQUE&#34; ports, but not &#34;ANY&#34; ports, MUST set the start port to 65535 and the end port to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPSECARCH]に準拠しているシステムで、「任意の」ポートを指定したい場合は、開始ポートを0に、終了ポートを65535に設定する必要があります。 [IPSECARCH]によれば、「ANY」には「OPAQUE」が含まれることに注意してください。 [IPSECARCH]で動作し、「OPAQUE」ポートを示し、「ANY」ポートを示さないシステムは、開始ポートを65535に、終了ポートを0に設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Traffic Selector types 7 and 8 can also refer to ICMP or ICMPv6 type and code fields, as well as MH Type fields for the IPv6 mobility header [MIPV6]. Note, however, that neither ICMP nor MIPv6 packets have separate source and destination fields. The method for specifying the Traffic Selectors for ICMP and MIPv6 is shown by example in Section 4.4.1.3 of [IPSECARCH].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トラフィックセレクタータイプ7および8は、ICMPまたはICMPv6タイプおよびコードフィールド、ならびにIPv6モビリティヘッダー[MIPV6]のMHタイプフィールドも参照できます。ただし、ICMPパケットもMIPv6パケットも、送信元フィールドと宛先フィールドが別々であることに注意してください。 ICMPおよびMIPv6のトラフィックセレクターを指定する方法は、[IPSECARCH]のセクション4.4.1.3に例として示されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following table lists values for the Traffic Selector Type field and the corresponding Address Selector Data. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の表に、Traffic Selector Typeフィールドの値と、対応するAddress Selector Dataを示します。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   TS Type                            Value
   -------------------------------------------------------------------
   TS_IPV4_ADDR_RANGE                  7
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
A range of IPv4 addresses, represented by two four-octet values. The first value is the beginning IPv4 address (inclusive) and the second value is the ending IPv4 address (inclusive). All addresses falling between the two specified addresses are considered to be within the list.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
2つの4オクテット値で表されるIPv4アドレスの範囲。最初の値は開始IPv4アドレス（両端を含む）で、2番目の値は終了IPv4アドレス（両端を含む）です。指定された2つのアドレスの間にあるすべてのアドレスは、リスト内にあると見なされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TS_IPV6_ADDR_RANGE 8
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TS_IPV6_ADDR_RANGE 8
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
A range of IPv6 addresses, represented by two sixteen-octet values. The first value is the beginning IPv6 address (inclusive) and the second value is the ending IPv6 address (inclusive). All addresses falling between the two specified addresses are considered to be within the list.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
2つの16オクテット値で表されるIPv6アドレスの範囲。最初の値は開始IPv6アドレス（両端を含む）で、2番目の値は終了IPv6アドレス（両端を含む）です。指定された2つのアドレスの間にあるすべてのアドレスは、リスト内にあると見なされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-14--Encrypted-Payload">
3.14. Encrypted Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.14. 暗号化されたペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Encrypted payload, denoted SK {...} in this document, contains other payloads in encrypted form. The Encrypted payload, if present in a message, MUST be the last payload in the message. Often, it is the only payload in the message. This payload is also called the &#34;Encrypted and Authenticated&#34; payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではSK {...}と示されている暗号化されたペイロードには、暗号化された形式で他のペイロードが含まれています。暗号化されたペイロードは、メッセージに存在する場合、メッセージの最後のペイロードでなければなりません。多くの場合、それはメッセージ内の唯一のペイロードです。このペイロードは、「暗号化および認証された」ペイロードとも呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The algorithms for encryption and integrity protection are negotiated during IKE SA setup, and the keys are computed as specified in Sections 2.14 and 2.18.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
暗号化と整合性保護のアルゴリズムは、IKE SAのセットアップ中にネゴシエートされ、セクション2.14および2.18で指定されているようにキーが計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document specifies the cryptographic processing of Encrypted payloads using a block cipher in CBC mode and an integrity check algorithm that computes a fixed-length checksum over a variable size message. The design is modeled after the ESP algorithms described in RFCs 2104 [HMAC], 4303 [ESP], and 2451 [ESPCBC]. This document completely specifies the cryptographic processing of IKE data, but those documents should be consulted for design rationale. Future documents may specify the processing of Encrypted payloads for other types of transforms, such as counter mode encryption and authenticated encryption algorithms. Peers MUST NOT negotiate transforms for which no such specification exists.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、CBCモードのブロック暗号と、可変サイズのメッセージに対して固定長のチェックサムを計算する整合性チェックアルゴリズムを使用して、暗号化されたペイロードの暗号化処理を指定します。この設計は、RFC 2104 [HMAC]、4303 [ESP]、および2451 [ESPCBC]で説明されているESPアルゴリズムをモデルにしています。このドキュメントでは、IKEデータの暗号化処理を完全に指定していますが、設計の根拠については、これらのドキュメントを参照してください。今後のドキュメントでは、カウンターモード暗号化や認証済み暗号化アルゴリズムなど、他のタイプの変換用の暗号化ペイロードの処理を指定する可能性があります。ピアは、そのような仕様が存在しない変換をネゴシエートしてはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an authenticated encryption algorithm is used to protect the IKE SA, the construction of the Encrypted payload is different than what is described here. See [AEAD] for more information on authenticated encryption algorithms and their use in IKEv2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
認証された暗号化アルゴリズムを使用してIKE SAを保護する場合、暗号化されたペイロードの構成は、ここで説明するものとは異なります。認証された暗号化アルゴリズムとIKEv2でのそれらの使用の詳細については、[AEAD]を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for an Encrypted payload is forty-six (46). The Encrypted payload consists of the IKE generic payload header followed by individual fields as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
暗号化されたペイロードのペイロードタイプは46（46）です。暗号化されたペイロードは、次のように、IKEの一般的なペイロードヘッダーとそれに続く個々のフィールドで構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Initialization Vector                     |
   |         (length is block size for encryption algorithm)       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    Encrypted IKE Payloads                     ~
   +               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               |             Padding (0-255 octets)            |
   +-+-+-+-+-+-+-+-+                               +-+-+-+-+-+-+-+-+
   |                                               |  Pad Length   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    Integrity Checksum Data                    ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-20">
Figure 21: Encrypted Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-20">
図21：暗号化されたペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Next Payload - The payload type of the first embedded payload. Note that this is an exception in the standard header format, since the Encrypted payload is the last payload in the message and therefore the Next Payload field would normally be zero. But because the content of this payload is embedded payloads and there was no natural place to put the type of the first one, that type is placed here.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 次のペイロード-最初の埋め込みペイロードのペイロードタイプ。暗号化されたペイロードはメッセージの最後のペイロードであるため、通常、次のペイロードフィールドはゼロになるため、これは標準ヘッダー形式の例外です。ただし、このペイロードのコンテンツは埋め込みペイロードであり、最初のタイプを配置する自然な場所がないため、そのタイプがここに配置されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Payload Length - Includes the lengths of the header, initialization vector (IV), Encrypted IKE payloads, Padding, Pad Length, and Integrity Checksum Data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ペイロードの長さ-ヘッダー、初期化ベクトル（IV）、暗号化されたIKEペイロード、パディング、パッドの長さ、および整合性チェックサムデータの長さを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 o Initialization Vector - For CBC mode ciphers, the length of the initialization vector (IV) is equal to the block length of the underlying encryption algorithm. Senders MUST select a new unpredictable IV for every message; recipients MUST accept any value. The reader is encouraged to consult [MODES] for advice on IV generation. In particular, using the final ciphertext block of the previous message is not considered unpredictable. For modes other than CBC, the IV format and processing is specified in the document specifying the encryption algorithm and mode.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
o初期化ベクトル-CBCモード暗号の場合、初期化ベクトル（IV）の長さは、基礎となる暗号化アルゴリズムのブロック長と同じです。送信者は、すべてのメッセージに対して新しい予測不可能なIVを選択する必要があります。受信者は任意の値を受け入れる必要があります。 IV生成についてのアドバイスは、[モード]を参照することをお勧めします。特に、前のメッセージの最後の暗号文ブロックを使用することは予測不可能とは見なされません。 CBC以外のモードの場合、IV形式と処理は、暗号化アルゴリズムとモードを指定するドキュメントで指定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKE payloads are as specified earlier in this section. This field is encrypted with the negotiated cipher.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKEペイロードは、このセクションで前述したとおりです。このフィールドは、ネゴシエートされた暗号で暗号化されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Padding MAY contain any value chosen by the sender, and MUST have a length that makes the combination of the payloads, the Padding, and the Pad Length to be a multiple of the encryption block size. This field is encrypted with the negotiated cipher.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o パディングには送信者が選択した任意の値を含めることができ（MAY）、ペイロード、パディング、およびパッド長の組み合わせを暗号化ブロックサイズの倍数にする長さを持っている必要があります。このフィールドは、ネゴシエートされた暗号で暗号化されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Pad Length is the length of the Padding field. The sender SHOULD set the Pad Length to the minimum value that makes the combination of the payloads, the Padding, and the Pad Length a multiple of the block size, but the recipient MUST accept any length that results in proper alignment. This field is encrypted with the negotiated cipher.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Pad Lengthは、Paddingフィールドの長さです。送信者は、ペイロード、パディング、およびパッド長の組み合わせをブロックサイズの倍数にする最小値にパッド長を設定する必要があります（SHOULD）が、受信者は適切な配置になる任意の長さを受け入れる必要があります。このフィールドは、ネゴシエートされた暗号で暗号化されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Integrity Checksum Data is the cryptographic checksum of the entire message starting with the Fixed IKE header through the Pad Length. The checksum MUST be computed over the encrypted message. Its length is determined by the integrity algorithm negotiated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 整合性チェックサムデータは、固定IKEヘッダーからパッド長までのメッセージ全体の暗号化チェックサムです。チェックサムは、暗号化されたメッセージに対して計算する必要があります。その長さは、交渉された整合性アルゴリズムによって決定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-15--Configuration-Payload">
3.15. Configuration Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.15. 設定ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Configuration payload, denoted CP in this document, is used to exchange configuration information between IKE peers. The exchange is for an IRAC to request an internal IP address from an IRAS and to exchange other information of the sort that one would acquire with Dynamic Host Configuration Protocol (DHCP) if the IRAC were directly connected to a LAN.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではCPと示されている構成ペイロードは、IKEピア間で構成情報を交換するために使用されます。交換は、IRACがIRASに内部IPアドレスを要求し、IRACが直接LANに接続されている場合にDHCPで取得するような他の情報を交換するためのものです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Configuration payload is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
構成ペイロードは次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C| RESERVED    |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   CFG Type    |                    RESERVED                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                   Configuration Attributes                    ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
Figure 22: Configuration Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
図22：構成ペイロードの形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for the Configuration payload is forty-seven (47).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
構成ペイロードのペイロードタイプは47（47）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o CFG Type (1 octet) - The type of exchange represented by the Configuration Attributes. The values in the following table are only current as of the publication date of RFC 4306. Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o CFGタイプ（1オクテット）-構成属性で表される交換のタイプ。次の表の値は、RFC 4306の発行日現在のものです。他の値は、それ以降に追加された可能性があるか、このドキュメントの発行後に追加される予定です。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      CFG Type           Value
      --------------------------
      CFG_REQUEST        1
      CFG_REPLY          2
      CFG_SET            3
      CFG_ACK            4
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o RESERVED (3 octets) - MUST be sent as zero; MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み（3オクテット）-ゼロとして送信する必要があります。受信時には無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Configuration Attributes (variable length) - These are type length value (TLV) structures specific to the Configuration payload and are defined below. There may be zero or more Configuration Attributes in this payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 構成属性（可変長）-これらは、構成ペイロードに固有のタイプ長値（TLV）構造であり、以下で定義されます。このペイロードには、0個以上の構成属性が含まれる場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-15-1--Configuration-Attributes">
3.15.1. Configuration Attributes
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.15.1. 構成属性
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |R|         Attribute Type      |            Length             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                             Value                             ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
Figure 23: Configuration Attribute Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
図23：構成属性の形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Reserved (1 bit) - This bit MUST be set to zero and MUST be ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 予約済み（1ビット）-このビットはゼロに設定する必要があり、受信時に無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Attribute Type (15 bits) - A unique identifier for each of the Configuration Attribute Types.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 属性タイプ（15ビット）-各構成属性タイプの一意の識別子。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Length (2 octets, unsigned integer) - Length in octets of value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 長さ（2オクテット、符号なし整数）-オクテット単位の値の長さ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Value (0 or more octets) - The variable-length value of this Configuration Attribute. The following lists the attribute types.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 値（0以上のオクテット）-この構成属性の可変長の値。以下に属性タイプをリストします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The values in the following table are only current as of the publication date of RFC 4306 (except INTERNAL_ADDRESS_EXPIRY and INTERNAL_IP6_NBNS, which were removed by RFC 5996). Other values may have been added since then or will be added after the publication of this document. Readers should refer to [IKEV2IANA] for the latest values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の表の値は、RFC 4306の発行日現在のものです（RFC 5996によって削除されたINTERNAL_ADDRESS_EXPIRYおよびINTERNAL_IP6_NBNSを除く）。それ以降、他の値が追加されている場合や、このドキュメントの公開後に追加される場合があります。最新の値については、読者が[IKEV2IANA]を参照する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Attribute Type           Value  Multi-Valued  Length
      ------------------------------------------------------------
      INTERNAL_IP4_ADDRESS     1      YES*          0 or 4 octets
      INTERNAL_IP4_NETMASK     2      NO            0 or 4 octets
      INTERNAL_IP4_DNS         3      YES           0 or 4 octets
      INTERNAL_IP4_NBNS        4      YES           0 or 4 octets
      INTERNAL_IP4_DHCP        6      YES           0 or 4 octets
      APPLICATION_VERSION      7      NO            0 or more
      INTERNAL_IP6_ADDRESS     8      YES*          0 or 17 octets
      INTERNAL_IP6_DNS         10     YES           0 or 16 octets
      INTERNAL_IP6_DHCP        12     YES           0 or 16 octets
      INTERNAL_IP4_SUBNET      13     YES           0 or 8 octets
      SUPPORTED_ATTRIBUTES     14     NO            Multiple of 2
      INTERNAL_IP6_SUBNET      15     YES           17 octets
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* These attributes may be multi-valued on return only if multiple values were requested.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* これらの属性は、複数の値が要求された場合にのみ、戻り時に複数の値を持つ可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_ADDRESS, INTERNAL_IP6_ADDRESS - An address on the internal network, sometimes called a red node address or private address, and it MAY be a private address on the Internet. In a request message, the address specified is a requested address (or a zero-length address if no specific address is requested). If a specific address is requested, it likely indicates that a previous connection existed with this address and the requestor would like to reuse that address. With IPv6, a requestor MAY supply the low-order address octets it wants to use. Multiple internal addresses MAY be requested by requesting multiple internal address attributes. The responder MAY only send up to the number of addresses requested. The INTERNAL_IP6_ADDRESS is made up of two fields: the first is a 16-octet IPv6 address, and the second is a one-octet prefix-length as defined in [ADDRIPV6]. The requested address is valid as long as this IKE SA (or its rekeyed successors) requesting the address is valid. This is described in more detail in Section 3.15.3.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_ADDRESS、INTERNAL_IP6_ADDRESS-内部ネットワーク上のアドレス。赤いノードアドレスまたはプライベートアドレスと呼ばれることもあり、インターネット上のプライベートアドレスである場合があります。要求メッセージでは、指定されたアドレスは要求されたアドレス（または、特定のアドレスが要求されていない場合は長さゼロのアドレス）です。特定のアドレスが要求された場合は、このアドレスとの以前の接続が存在し、要求者がそのアドレスを再利用したいことを示している可能性があります。 IPv6では、リクエスターは使用したい下位アドレスのオクテットを提供してもよい（MAY）。複数の内部アドレス属性を要求することにより、複数の内部アドレスが要求される場合があります。レスポンダは、要求されたアドレス数までしか送信できません。 INTERNAL_IP6_ADDRESSは2つのフィールドで構成されています。1つ目は16オクテットのIPv6アドレスで、2つ目は[ADDRIPV6]で定義されている1オクテットのプレフィックス長です。要求されたアドレスは、アドレスを要求しているこのIKE SA（またはその再生成された後続）が有効である限り有効です。これについては、セクション3.15.3で詳しく説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 o INTERNAL_IP4_NETMASK - The internal network&#39;s netmask. Only one netmask is allowed in the request and response messages (e.g., 255.255.255.0), and it MUST be used only with an INTERNAL_IP4_ADDRESS attribute. INTERNAL_IP4_NETMASK in a CFG_REPLY means roughly the same thing as INTERNAL_IP4_SUBNET containing the same information (&#34;send traffic to these addresses through me&#34;), but also implies a link boundary. For instance, the client could use its own address and the netmask to calculate the broadcast address of the link. An empty INTERNAL_IP4_NETMASK attribute can be included in a CFG_REQUEST to request this information (although the gateway can send the information even when not requested). Non-empty values for this attribute in a CFG_REQUEST do not make sense and thus MUST NOT be included.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
o INTERNAL_IP4_NETMASK-内部ネットワークのネットマスク。要求メッセージと応答メッセージ（255.255.255.0など）で使用できるネットマスクは1つだけで、INTERNAL_IP4_ADDRESS属性を指定した場合にのみ使用する必要があります。 CFG_REPLYのINTERNAL_IP4_NETMASKは、同じ情報を含むINTERNAL_IP4_SUBNETとほぼ同じことを意味します（「これらのアドレスにトラフィックを送信する」）が、リンク境界も意味します。たとえば、クライアントは独自のアドレスとネットマスクを使用して、リンクのブロードキャストアドレスを計算できます。空のINTERNAL_IP4_NETMASK属性をCFG_REQUESTに含めて、この情報を要求できます（ただし、ゲートウェイは要求されていない場合でも情報を送信できます）。 CFG_REQUESTのこの属性の空でない値は意味をなさないため、含めることはできません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_DNS, INTERNAL_IP6_DNS - Specifies an address of a DNS server within the network. Multiple DNS servers MAY be requested. The responder MAY respond with zero or more DNS server attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_DNS、INTERNAL_IP6_DNS-ネットワーク内のDNSサーバーのアドレスを指定します。複数のDNSサーバーが要求される場合があります。レスポンダは0個以上のDNSサーバー属性で応答してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_NBNS - Specifies an address of a NetBios Name Server (WINS) within the network. Multiple NBNS servers MAY be requested. The responder MAY respond with zero or more NBNS server attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_NBNS-ネットワーク内のNetBIOSネームサーバー（WINS）のアドレスを指定します。複数のNBNSサーバーが要求される場合があります。レスポンダは0個以上のNBNSサーバー属性で応答してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_DHCP, INTERNAL_IP6_DHCP - Instructs the host to send any internal DHCP requests to the address contained within the attribute. Multiple DHCP servers MAY be requested. The responder MAY respond with zero or more DHCP server attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_DHCP、INTERNAL_IP6_DHCP-内部DHCP要求を属性内に含まれるアドレスに送信するようにホストに指示します。複数のDHCPサーバーが要求される場合があります。レスポンダは、0個以上のDHCPサーバー属性で応答してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o APPLICATION_VERSION - The version or application information of the IPsec host. This is a string of printable ASCII characters that is NOT null terminated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o APPLICATION_VERSION-IPsecホストのバージョンまたはアプリケーション情報。これは、nullで終了していない印刷可能なASCII文字列です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_SUBNET - The protected sub-networks that this edge-device protects. This attribute is made up of two fields: the first being an IP address and the second being a netmask. Multiple sub-networks MAY be requested. The responder MAY respond with zero or more sub-network attributes. This is discussed in more detail in Section 3.15.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP4_SUBNET-このエッジデバイスが保護する保護されたサブネットワーク。この属性は2つのフィールドで構成されています。1つ目はIPアドレス、2つ目はネットマスクです。複数のサブネットワークが要求される場合があります。レスポンダは0個以上のサブネットワーク属性で応答してもよい（MAY）。これについては、セクション3.15.2で詳しく説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SUPPORTED_ATTRIBUTES - When used within a Request, this attribute MUST be zero-length and specifies a query to the responder to reply back with all of the attributes that it supports. The response contains an attribute that contains a set of attribute identifiers each in 2 octets. The length divided by 2 (octets) would state the number of supported attributes contained in the response.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SUPPORTED_ATTRIBUTES-リクエスト内で使用される場合、この属性は長さがゼロである必要があり、レスポンダがサポートするすべての属性で返信するためのクエリを指定します。応答には、2オクテットの属性識別子のセットを含む属性が含まれています。 2で割った長さ（オクテット）は、応答に含まれるサポートされる属性の数を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP6_SUBNET - The protected sub-networks that this edge-device protects. This attribute is made up of two fields: the first is a 16-octet IPv6 address, and the second is a one-octet prefix-length as defined in [ADDRIPV6]. Multiple
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o INTERNAL_IP6_SUBNET-このエッジデバイスが保護する保護されたサブネットワーク。この属性は2つのフィールドで構成されています。1つ目は16オクテットのIPv6アドレスで、2つ目は[ADDRIPV6]で定義されている1オクテットのプレフィックス長です。複数
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
sub-networks MAY be requested. The responder MAY respond with zero or more sub-network attributes. This is discussed in more detail in Section 3.15.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
サブネットワークが要求される場合があります。レスポンダは0個以上のサブネットワーク属性で応答してもよい（MAY）。これについては、セクション3.15.2で詳しく説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that no recommendations are made in this document as to how an implementation actually figures out what information to send in a response. That is, we do not recommend any specific method of an IRAS determining which DNS server should be returned to a requesting IRAC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、実装が応答でどの情報を送信するかを実際に把握する方法については推奨されていません。つまり、要求しているIRACに戻す必要があるDNSサーバーを特定するIRASの特定の方法はお勧めしません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CFG_REQUEST and CFG_REPLY pair allows an IKE endpoint to request information from its peer. If an attribute in the CFG_REQUEST Configuration payload is not zero-length, it is taken as a suggestion for that attribute. The CFG_REPLY Configuration payload MAY return that value, or a new one. It MAY also add new attributes and not include some requested ones. Unrecognized or unsupported attributes MUST be ignored in both requests and responses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CFG_REQUESTとCFG_REPLYのペアにより、IKEエンドポイントはピアから情報を要求できます。 CFG_REQUEST構成ペイロードの属性が長さゼロでない場合、それはその属性の提案と見なされます。 CFG_REPLY構成ペイロードは、その値または新しい値を返す場合があります。また、新しい属性を追加し、一部の要求された属性を含まない場合があります。認識されない、またはサポートされていない属性は、要求と応答の両方で無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The CFG_SET and CFG_ACK pair allows an IKE endpoint to push configuration data to its peer. In this case, the CFG_SET Configuration payload contains attributes the initiator wants its peer to alter. The responder MUST return a Configuration payload if it accepted any of the configuration data, and the Configuration payload MUST contain the attributes that the responder accepted with zero-length data. Those attributes that it did not accept MUST NOT be in the CFG_ACK Configuration payload. If no attributes were accepted, the responder MUST return either an empty CFG_ACK payload or a response message without a CFG_ACK payload. There are currently no defined uses for the CFG_SET/CFG_ACK exchange, though they may be used in connection with extensions based on Vendor IDs. An implementation of this specification MAY ignore CFG_SET payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CFG_SETとCFG_ACKのペアにより、IKEエンドポイントは構成データをそのピアにプッシュできます。この場合、CFG_SET構成ペイロードには、イニシエーターがピアに変更を要求する属性が含まれています。レスポンダは、構成データのいずれかを受け入れた場合、構成ペイロードを返さなければならず（MUST）、構成ペイロードには、レスポンダが長さゼロのデータで受け入れた属性が含まれている必要があります。受け入れなかった属性は、CFG_ACK構成ペイロードに含まれていてはなりません（MUST NOT）。属性が受け入れられなかった場合、レスポンダは空のCFG_ACKペイロード、またはCFG_ACKペイロードのない応答メッセージを返さなければなりません（MUST）。現在、CFG_SET / CFG_ACK交換の定義された使用法はありませんが、ベンダーIDに基づく拡張機能に関連して使用される場合があります。この仕様の実装は、CFG_SETペイロードを無視してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-15-2--Meaning-of-INTERNALIP4SUBNET-and-INTERNALIP6SUBNET">
3.15.2. Meaning of INTERNAL_IP4_SUBNET and INTERNAL_IP6_SUBNET
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.15.2. INTERNAL_IP4_SUBNETおよびINTERNAL_IP6_SUBNETの意味
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INTERNAL_IP4/6_SUBNET attributes can indicate additional subnets, ones that need one or more separate SAs, that can be reached through the gateway that announces the attributes. INTERNAL_IP4/6_SUBNET attributes may also express the gateway&#39;s policy about what traffic should be sent through the gateway; the client can choose whether other traffic (covered by TSr, but not in INTERNAL_IP4/6_SUBNET) is sent through the gateway or directly to the destination. Thus, traffic to the addresses listed in the INTERNAL_IP4/6_SUBNET attributes should be sent through the gateway that announces the attributes. If there are no existing Child SAs whose Traffic Selectors cover the address in question, new SAs need to be created.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INTERNAL_IP4 / 6_SUBNET属性は、追加のサブネット（1つ以上の個別のSAを必要とするもの）を示すことができます。これらのサブネットは、属性を通知するゲートウェイを介して到達できます。 INTERNAL_IP4 / 6_SUBNET属性は、ゲートウェイを介して送信する必要があるトラフィックに関するゲートウェイのポリシーを表す場合もあります。クライアントは、他のトラフィック（TSrでカバーされるが、INTERNAL_IP4 / 6_SUBNETではカバーされない）をゲートウェイ経由で送信するか、宛先に直接送信するかを選択できます。したがって、INTERNAL_IP4 / 6_SUBNET属性にリストされているアドレスへのトラフィックは、属性を通知するゲートウェイを介して送信する必要があります。問題のアドレスを対象とするトラフィックセレクターを持つ既存の子SAがない場合は、新しいSAを作成する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For instance, if there are two subnets, 198.51.100.0/26 and 192.0.2.0/24, and the client&#39;s request contains the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、2つのサブネット198.51.100.0/26と192.0.2.0/24があり、クライアントのリクエストに次のものが含まれているとします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REQUEST) =
     INTERNAL_IP4_ADDRESS()
   TSi = (0, 0-65535, 0.0.0.0-255.255.255.255)
   TSr = (0, 0-65535, 0.0.0.0-255.255.255.255)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
then a valid response could be the following (in which TSr and INTERNAL_IP4_SUBNET contain the same information):
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次に、有効な応答は次のようになります（TSrとINTERNAL_IP4_SUBNETに同じ情報が含まれています）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REPLY) =
     INTERNAL_IP4_ADDRESS(198.51.100.234)
     INTERNAL_IP4_SUBNET(198.51.100.0/255.255.255.192)
     INTERNAL_IP4_SUBNET(192.0.2.0/255.255.255.0)
   TSi = (0, 0-65535, 198.51.100.234-198.51.100.234)
   TSr = ((0, 0-65535, 198.51.100.0-198.51.100.63),
          (0, 0-65535, 192.0.2.0-192.0.2.255))
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In these cases, the INTERNAL_IP4_SUBNET does not really carry any useful information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらの場合、INTERNAL_IP4_SUBNETは、実際には有用な情報を一切持ちません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A different possible response would have been this:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
別の可能な応答はこれでした：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REPLY) =
     INTERNAL_IP4_ADDRESS(198.51.100.234)
     INTERNAL_IP4_SUBNET(198.51.100.0/255.255.255.192)
     INTERNAL_IP4_SUBNET(192.0.2.0/255.255.255.0)
   TSi = (0, 0-65535, 198.51.100.234-198.51.100.234)
   TSr = (0, 0-65535, 0.0.0.0-255.255.255.255)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
That response would mean that the client can send all its traffic through the gateway, but the gateway does not mind if the client sends traffic not included by INTERNAL_IP4_SUBNET directly to the destination (without going through the gateway).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
その応答は、クライアントがすべてのトラフィックをゲートウェイ経由で送信できることを意味しますが、ゲートウェイは、クライアントがINTERNAL_IP4_SUBNETに含まれていないトラフィックを（ゲートウェイを経由せずに）宛先に直接送信しても問題ありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A different situation arises if the gateway has a policy that requires the traffic for the two subnets to be carried in separate SAs. Then a response like this would indicate to the client that if it wants access to the second subnet, it needs to create a separate SA:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2つのサブネットのトラフィックを別々のSAで伝送することを要求するポリシーがゲートウェイにある場合、別の状況が発生します。次に、このような応答は、2番目のサブネットへのアクセスが必要な場合、別のSAを作成する必要があることをクライアントに示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REPLY) =
     INTERNAL_IP4_ADDRESS(198.51.100.234)
     INTERNAL_IP4_SUBNET(198.51.100.0/255.255.255.192)
     INTERNAL_IP4_SUBNET(192.0.2.0/255.255.255.0)
   TSi = (0, 0-65535, 198.51.100.234-198.51.100.234)
   TSr = (0, 0-65535, 198.51.100.0-198.51.100.63)
   INTERNAL_IP4_SUBNET can also be useful if the client&#39;s TSr included
   only part of the address space.  For instance, if the client requests
   the following:
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REQUEST) =
     INTERNAL_IP4_ADDRESS()
   TSi = (0, 0-65535, 0.0.0.0-255.255.255.255)
   TSr = (0, 0-65535, 192.0.2.155-192.0.2.155)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
then the gateway&#39;s response might be:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
その場合、ゲートウェイの応答は次のようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REPLY) =
     INTERNAL_IP4_ADDRESS(198.51.100.234)
     INTERNAL_IP4_SUBNET(198.51.100.0/255.255.255.192)
     INTERNAL_IP4_SUBNET(192.0.2.0/255.255.255.0)
   TSi = (0, 0-65535, 198.51.100.234-198.51.100.234)
   TSr = (0, 0-65535, 192.0.2.155-192.0.2.155)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because the meaning of INTERNAL_IP4_SUBNET/INTERNAL_IP6_SUBNET in CFG_REQUESTs is unclear, they cannot be used reliably in CFG_REQUESTs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CFG_REQUESTでのINTERNAL_IP4_SUBNET / INTERNAL_IP6_SUBNETの意味は不明確であるため、CFG_REQUESTで確実に使用することはできません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-15-3--Configuration-Payloads-for-IPv6">
3.15.3. Configuration Payloads for IPv6
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.15.3. IPv6の構成ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Configuration payloads for IPv6 are based on the corresponding IPv4 payloads, and do not fully follow the &#34;normal IPv6 way of doing things&#34;. In particular, IPv6 stateless autoconfiguration or router advertisement messages are not used, neither is neighbor discovery. Note that there is an additional document that discusses IPv6 configuration in IKEv2, [IPV6CONFIG]. At the present time, it is an experimental document, but there is a hope that with more implementation experience, it will gain the same standards treatment as this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6の構成ペイロードは、対応するIPv4ペイロードに基づいており、「通常のIPv6のやり方」に完全には従いません。特に、IPv6ステートレス自動構成またはルーター通知メッセージは使用されず、ネイバー探索も使用されません。 IKEv2 [IPV6CONFIG]のIPv6構成について説明している追加のドキュメントがあることに注意してください。現時点では実験的なドキュメントですが、実装経験が増えれば、このドキュメントと同じ標準の扱いになることが期待されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A client can be assigned an IPv6 address using the INTERNAL_IP6_ADDRESS Configuration payload. A minimal exchange might look like this:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INTERNAL_IP6_ADDRESS構成ペイロードを使用して、クライアントにIPv6アドレスを割り当てることができます。最小限の交換は次のようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REQUEST) =
     INTERNAL_IP6_ADDRESS()
     INTERNAL_IP6_DNS()
   TSi = (0, 0-65535, :: - FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF)
   TSr = (0, 0-65535, :: - FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   CP(CFG_REPLY) =
     INTERNAL_IP6_ADDRESS(2001:DB8:0:1:2:3:4:5/64)
     INTERNAL_IP6_DNS(2001:DB8:99:88:77:66:55:44)
   TSi = (0, 0-65535, 2001:DB8:0:1:2:3:4:5 - 2001:DB8:0:1:2:3:4:5)
   TSr = (0, 0-65535, :: - FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The client MAY send a non-empty INTERNAL_IP6_ADDRESS attribute in the CFG_REQUEST to request a specific address or interface identifier. The gateway first checks if the specified address is acceptable, and if it is, returns that one. If the address was not acceptable, the gateway attempts to use the interface identifier with some other prefix; if even that fails, the gateway selects another interface identifier.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは、CFG_REQUESTの空ではないINTERNAL_IP6_ADDRESS属性を送信して、特定のアドレスまたはインターフェース識別子を要求できます。ゲートウェイはまず、指定されたアドレスが受け入れ可能かどうかをチェックし、受け入れ可能である場合はそのアドレスを返します。アドレスが受け入れられなかった場合、ゲートウェイは他のいくつかの接頭辞を持つインターフェース識別子を使用しようとします。それでも失敗した場合、ゲートウェイは別のインターフェース識別子を選択します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The INTERNAL_IP6_ADDRESS attribute also contains a prefix length field. When used in a CFG_REPLY, this corresponds to the INTERNAL_IP4_NETMASK attribute in the IPv4 case.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
INTERNAL_IP6_ADDRESS属性には、プレフィックス長フィールドも含まれます。 CFG_REPLYで使用される場合、これはIPv4の場合のINTERNAL_IP4_NETMASK属性に対応します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although this approach to configuring IPv6 addresses is reasonably simple, it has some limitations. IPsec tunnels configured using IKEv2 are not fully featured &#34;interfaces&#34; in the IPv6 addressing architecture sense [ADDRIPV6]. In particular, they do not necessarily have link-local addresses, and this may complicate the use of protocols that assume them, such as [MLDV2].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6アドレスを構成するこのアプローチはかなり簡単ですが、いくつかの制限があります。 IKEv2を使用して構成されたIPsecトンネルは、IPv6アドレッシングアーキテクチャの意味[ADDRIPV6]で完全に機能する「インターフェース」ではありません。特に、リンクローカルアドレスは必ずしも必要ではなく、[MLDV2]などのように、それらを前提とするプロトコルの使用が複雑になる可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-15-4--Address-Assignment-Failures">
3.15.4. Address Assignment Failures
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.15.4. アドレス割り当ての失敗
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the responder encounters an error while attempting to assign an IP address to the initiator during the processing of a Configuration payload, it responds with an INTERNAL_ADDRESS_FAILURE notification. The IKE SA is still created even if the initial Child SA cannot be created because of this failure. If this error is generated within an IKE_AUTH exchange, no Child SA will be created. However, there are some more complex error cases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダーは、構成ペイロードの処理中にイニシエーターにIPアドレスを割り当てようとしたときにエラーが発生した場合、INTERNAL_ADDRESS_FAILURE通知で応答します。この障害のために最初の子SAを作成できない場合でも、IKE SAは作成されます。このエラーがIKE_AUTH交換内で生成された場合、子SAは作成されません。ただし、さらに複雑なエラーのケースがいくつかあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the responder does not support Configuration payloads at all, it can simply ignore all Configuration payloads. This type of implementation never sends INTERNAL_ADDRESS_FAILURE notifications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダが構成ペイロードをまったくサポートしていない場合は、すべての構成ペイロードを単に無視できます。このタイプの実装は、INTERNAL_ADDRESS_FAILURE通知を送信しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the initiator requires the assignment of an IP address, it will treat a response without CFG_REPLY as an error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターがIPアドレスの割り当てを必要とする場合、CFG_REPLYのない応答はエラーとして扱われます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator may request a particular type of address (IPv4 or IPv6) that the responder does not support, even though the responder supports Configuration payloads. In this case, the responder simply ignores the type of address it does not support and processes the rest of the request as usual.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターは、レスポンダーが構成ペイロードをサポートしていても、レスポンダーがサポートしていない特定のタイプのアドレス（IPv4またはIPv6）を要求する場合があります。この場合、レスポンダは、サポートしていないアドレスのタイプを単に無視し、通常どおり残りのリクエストを処理します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the initiator requests multiple addresses of a type that the responder supports, and some (but not all) of the requests fail, the responder replies with the successful addresses only. The responder sends INTERNAL_ADDRESS_FAILURE only if no addresses can be assigned.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターがレスポンダーがサポートするタイプの複数のアドレスを要求し、一部の（すべてではない）要求が失敗した場合、レスポンダーは成功したアドレスのみで応答します。レスポンダは、アドレスを割り当てることができない場合にのみINTERNAL_ADDRESS_FAILUREを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the initiator does not receive the IP address(es) required by its policy, it MAY keep the IKE SA up and retry the Configuration payload as separate INFORMATIONAL exchange after suitable timeout, or it MAY tear down the IKE SA by sending a Delete payload inside a separate INFORMATIONAL exchange and later retry IKE SA from the beginning after some timeout. Such a timeout should not be too short (especially if the IKE SA is started from the beginning) because these error situations may not be able to be fixed quickly; the timeout should likely be several minutes. For example, an address shortage problem on the responder will probably only be fixed when more entries are returned to the address pool when other clients disconnect or when responder is reconfigured with larger address pool.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエーターがポリシーで必要なIPアドレスを受信しない場合、IKE SAをアップに保ち、適切なタイムアウト後に個別の情報交換として構成ペイロードを再試行するか、削除ペイロードを送信してIKE SAを破棄する場合があります。別個のINFORMATIONAL交換の内部で、後でタイムアウト後にIKE SAを最初から再試行します。このようなタイムアウトは短すぎないようにしてください（特にIKE SAが最初から開始されている場合）。これらのエラー状況を迅速に修正できない場合があるためです。タイムアウトはおそらく数分になるはずです。たとえば、レスポンダのアドレス不足の問題は、他のクライアントが切断したとき、またはより大きなアドレスプールでレスポンダが再構成されたときに、より多くのエントリがアドレスプールに返されたときにのみ修正される可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-16--Extensible-Authentication-Protocol-EAP-Payload">
3.16. Extensible Authentication Protocol (EAP) Payload
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.16. 拡張認証プロトコル（EAP）ペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Extensible Authentication Protocol payload, denoted EAP in this document, allows IKE SAs to be authenticated using the protocol defined in RFC 3748 [EAP] and subsequent extensions to that protocol. When using EAP, an appropriate EAP method needs to be selected. Many of these methods have been defined, specifying the protocol&#39;s use with various authentication mechanisms. EAP method types are listed in [EAP-IANA]. A short summary of the EAP format is included here for clarity.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントではEAPと示されているExtensible Authentication Protocolペイロードにより、IKE SAは、RFC 3748 [EAP]で定義されているプロトコルと、そのプロトコルに対する後続の拡張機能を使用して認証されます。 EAPを使用する場合は、適切なEAPメソッドを選択する必要があります。これらのメソッドの多くは定義されており、さまざまな認証メカニズムでのプロトコルの使用を指定しています。 EAP方式のタイプは[EAP-IANA]にリストされています。明確にするために、ここではEAP形式の簡単な概要を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                       EAP Message                             ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-23">
Figure 24: EAP Payload Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-23">
図24：EAPペイロード形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The payload type for an EAP payload is forty-eight (48).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAPペイロードのペイロードタイプは48です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Code      | Identifier    |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      | Type_Data...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-23">
Figure 25: EAP Message Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-23">
図25：EAPメッセージ形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Code (1 octet) - Indicates whether this message is a Request (1), Response (2), Success (3), or Failure (4).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o コード（1オクテット）-このメッセージが要求（1）、応答（2）、成功（3）、または失敗（4）のいずれであるかを示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Identifier (1 octet) - Used in PPP to distinguish replayed messages from repeated ones. Since in IKE, EAP runs over a reliable protocol, the Identifier serves no function here. In a response message, this octet MUST be set to match the identifier in the corresponding request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 識別子（1オクテット）-リプレイされたメッセージと繰り返されるメッセージを区別するためにPPPで使用されます。 IKEでは、EAPは信頼できるプロトコル上で実行されるため、識別子はここでは機能しません。応答メッセージでは、このオクテットは、対応する要求の識別子と一致するように設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Length (2 octets, unsigned integer) - The length of the EAP message. MUST be four less than the Payload Length of the encapsulating payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 長さ（2オクテット、符号なし整数）-EAPメッセージの長さ。カプセル化ペイロードのペイロード長よりも4短い必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Type (1 octet) - Present only if the Code field is Request (1) or Response (2). For other codes, the EAP message length MUST be four octets and the Type and Type_Data fields MUST NOT be present. In a Request (1) message, Type indicates the data being requested. In a Response (2) message, Type MUST either be Nak or match the type of the data requested. Note that since IKE passes an indication of initiator identity in the first message in the IKE_AUTH exchange, the responder SHOULD NOT send EAP Identity requests (type 1). The initiator MAY, however, respond to such requests if it receives them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o タイプ（1オクテット）-コードフィールドがリクエスト（1）またはレスポンス（2）の場合にのみ表示されます。他のコードの場合、EAPメッセージの長さは4オクテットである必要があり、TypeおよびType_Dataフィールドは存在してはなりません（MUST NOT）。要求（1）メッセージのタイプは、要求されているデータを示します。応答（2）メッセージでは、タイプはNakであるか、要求されたデータのタイプと一致する必要があります。 IKEはIKE_AUTH交換の最初のメッセージでイニシエーターIDの指示を渡すため、レスポンダーはEAP ID要求（タイプ1）を送信してはいけません（SHOULD NOT）。しかしながら、イニシエーターは、それらを受け取った場合、そのような要求に応答してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Type_Data (variable length) - Varies with the Type of Request and the associated Response. For the documentation of the EAP methods, see [EAP].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Type_Data（可変長）-要求のタイプと関連する応答によって異なります。 EAPメソッドのドキュメントについては、[EAP]を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that since IKE passes an indication of initiator identity in the first message in the IKE_AUTH exchange, the responder SHOULD NOT send EAP Identity requests. The initiator MAY, however, respond to such requests if it receives them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEはIKE_AUTH交換の最初のメッセージでイニシエーターIDの指示を渡すため、レスポンダーはEAP ID要求を送信してはいけません。しかしながら、イニシエーターは、それらを受け取った場合、そのような要求に応答してもよい（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--Conformance-Requirements">
4. Conformance Requirements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 適合要件
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order to assure that all implementations of IKEv2 can interoperate, there are &#34;MUST support&#34; requirements in addition to those listed elsewhere. Of course, IKEv2 is a security protocol, and one of its major functions is to allow only authorized parties to successfully complete establishment of SAs. So a particular implementation may be configured with any of a number of restrictions concerning algorithms and trusted authorities that will prevent universal interoperability.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2のすべての実装が相互運用できることを保証するために、他の場所にリストされているものに加えて、「サポートしなければならない」要件があります。もちろん、IKEv2はセキュリティプロトコルであり、その主要な機能の1つは、許可された関係者のみがSAの確立を正常に完了できるようにすることです。したがって、特定の実装は、ユニバーサル相互運用性を妨げるアルゴリズムおよび信頼できる機関に関するいくつかの制限のいずれかで構成されている可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2 is designed to permit minimal implementations that can interoperate with all compliant implementations. The following are features that can be omitted in a minimal implementation:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2は、すべての準拠実装と相互運用できる最小限の実装を許可するように設計されています。以下は、最小限の実装で省略できる機能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ability to negotiate SAs through a NAT and tunnel the resulting ESP SA over UDP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o NATを介してSAをネゴシエートし、結果のESP SAをUDP経由でトンネリングする機能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ability to request (and respond to a request for) a temporary IP address on the remote end of a tunnel.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o トンネルのリモートエンドで一時的なIPアドレスを要求（および要求に応答）する機能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ability to support EAP-based authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o EAPベースの認証をサポートする機能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ability to support window sizes greater than one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 1より大きいウィンドウサイズをサポートする機能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ability to establish multiple ESP or AH SAs within a single IKE SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 単一のIKE SA内に複数のESPまたはAH SAを確立する機能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Ability to rekey SAs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Aviliti、それはあなたに流れます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To assure interoperability, all implementations MUST be capable of parsing all payload types (if only to skip over them) and to ignore payload types that it does not support unless the critical bit is set in the payload header. If the critical bit is set in an unsupported payload header, all implementations MUST reject the messages containing those payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
相互運用性を保証するために、すべての実装はすべてのペイロードタイプを解析でき（それらをスキップする場合のみ）、重要なビットがペイロードヘッダーで設定されていない限り、サポートしないペイロードタイプを無視する必要があります。クリティカルビットがサポートされていないペイロードヘッダーに設定されている場合、すべての実装はそれらのペイロードを含むメッセージを拒否する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Every implementation MUST be capable of doing four-message IKE_SA_INIT and IKE_AUTH exchanges establishing two SAs (one for IKE, one for ESP or AH). Implementations MAY be initiate-only or respond-only if appropriate for their platform. Every implementation MUST be capable of responding to an INFORMATIONAL exchange, but a minimal implementation MAY respond to any request in the INFORMATIONAL exchange with an empty response (note that within the context of an IKE SA, an &#34;empty&#34; message consists of an IKE header followed by an Encrypted payload with no payloads contained in it). A minimal implementation MAY support the CREATE_CHILD_SA exchange only in so far as to recognize requests and reject them with a Notify payload of type NO_ADDITIONAL_SAS. A minimal implementation need not be able to initiate CREATE_CHILD_SA or INFORMATIONAL exchanges. When an SA expires (based on locally configured values of either lifetime or octets passed), an implementation MAY either try to renew it with a CREATE_CHILD_SA exchange or it MAY delete (close) the old SA and create a new one. If the responder rejects the CREATE_CHILD_SA request with a NO_ADDITIONAL_SAS notification, the implementation MUST be capable of instead deleting the old SA and creating a new one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべての実装は、2つのSAを確立する4つのメッセージのIKE_SA_INITおよびIKE_AUTH交換を実行できる必要があります（1つはIKE、もう1つはESPまたはAH）。実装は、プラットフォームに適切な場合、開始のみまたは応答のみの場合があります。すべての実装は、情報交換に応答できなければならない（MUST）が、最小実装は、情報交換の要求に空の応答で応答してもよい（IKE SAのコンテキスト内では、「空の」メッセージはIKEヘッダーで構成されることに注意）その後に、ペイロードが含まれていない暗号化ペイロードが続きます）。最小限の実装は、リクエストを認識し、タイプNO_ADDITIONAL_SASのNotifyペイロードでそれらを拒否する限りにおいてのみ、CREATE_CHILD_SA交換をサポートしてもよい（MAY）。最小限の実装では、CREATE_CHILD_SAまたはINFORMATIONALの交換を開始できる必要はありません。 SAが（有効期間または渡されたオクテットのローカルに構成された値に基づいて）期限切れになると、実装はCREATE_CHILD_SA交換でそれを更新しようとするか、古いSAを削除（クローズ）して新しいものを作成できます（MAY）。レスポンダがNO_ADDITIONAL_SAS通知でCREATE_CHILD_SAリクエストを拒否した場合、実装は古いSAを削除して新しいSAを作成できる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Implementations are not required to support requesting temporary IP addresses or responding to such requests. If an implementation does support issuing such requests and its policy requires using temporary IP addresses, it MUST include a CP payload in the first message in the IKE_AUTH exchange containing at least a field of type INTERNAL_IP4_ADDRESS or INTERNAL_IP6_ADDRESS. All other fields are optional. If an implementation supports responding to such requests, it MUST parse the CP payload of type CFG_REQUEST in the first message in the IKE_AUTH exchange and recognize a field of type INTERNAL_IP4_ADDRESS or INTERNAL_IP6_ADDRESS. If it supports leasing an address of the appropriate type, it MUST return a CP payload of type CFG_REPLY containing an address of the requested type. The responder may include any other related attributes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
実装は、一時的なIPアドレスの要求やそのような要求への応答をサポートする必要はありません。実装がそのような要求の発行をサポートし、そのポリシーが一時的なIPアドレスの使用を要求する場合、少なくともINTERNAL_IP4_ADDRESSまたはINTERNAL_IP6_ADDRESSタイプのフィールドを含むIKE_AUTH交換の最初のメッセージにCPペイロードを含める必要があります。他のすべてのフィールドはオプションです。実装がそのような要求への応答をサポートする場合、IKE_AUTH交換の最初のメッセージでタイプCFG_REQUESTのCPペイロードを解析し、タイプINTERNAL_IP4_ADDRESSまたはINTERNAL_IP6_ADDRESSのフィールドを認識する必要があります。適切なタイプのアドレスのリースをサポートする場合、要求されたタイプのアドレスを含むタイプCFG_REPLYのCPペイロードを返さなければなりません（MUST）。レスポンダには、他の関連する属性を含めることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For an implementation to be called conforming to this specification, it MUST be possible to configure it to accept the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この仕様に準拠して実装を呼び出すには、以下を受け入れるように構成する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Public Key Infrastructure using X.509 (PKIX) Certificates containing and signed by RSA keys of size 1024 or 2048 bits, where the ID passed is any of ID_KEY_ID, ID_FQDN, ID_RFC822_ADDR, or ID_DER_ASN1_DN.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o X.509（PKIX）証明書を使用する公開鍵インフラストラクチャ。サイズが1024または2048ビットのRSA鍵を含み、RSA鍵で署名されます。渡されるIDは、ID_KEY_ID、ID_FQDN、ID_RFC822_ADDR、またはID_DER_ASN1_DNのいずれかです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Shared key authentication where the ID passed is any of ID_KEY_ID, ID_FQDN, or ID_RFC822_ADDR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 渡されるIDの共有キー認証は、ID_KEY_ID、ID_FQDN、またはID_RFC822_ADDRのいずれかです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Authentication where the responder is authenticated using PKIX Certificates and the initiator is authenticated using shared key authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o レスポンダがPKIX証明書を使用して認証され、イニシエータが共有キー認証を使用して認証される認証。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--Security-Considerations">
5. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. セキュリティに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While this protocol is designed to minimize disclosure of configuration information to unauthenticated peers, some such disclosure is unavoidable. One peer or the other must identify itself first and prove its identity first. To avoid probing, the initiator of an exchange is required to identify itself first, and usually is required to authenticate itself first. The initiator can, however, learn that the responder supports IKE and what cryptographic protocols it supports. The responder (or someone impersonating the responder) not only can probe the initiator for its identity but may, by using CERTREQ payloads, be able to determine what certificates the initiator is willing to use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このプロトコルは、認証されていないピアへの構成情報の開示を最小限に抑えるように設計されていますが、そのような開示の一部は避けられません。どちらかのピアが最初に自身を識別し、そのアイデンティティを最初に証明する必要があります。プロービングを回避するために、交換の開始者は最初に自身を識別する必要があり、通常は最初に自身を認証する必要があります。ただし、イニシエーターは、レスポンダがIKEをサポートし、IKEがサポートする暗号プロトコルを知ることができます。レスポンダ（またはレスポンダになりすましている人）は、IDのイニシエータをプローブできるだけでなく、CERTREQペイロードを使用して、イニシエータが使用する予定の証明書を判別できる場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Use of EAP authentication changes the probing possibilities somewhat. When EAP authentication is used, the responder proves its identity before the initiator does, so an initiator that knew the name of a valid initiator could probe the responder for both its name and certificates.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAP認証を使用すると、プローブの可能性が多少変わります。 EAP認証を使用する場合、レスポンダはイニシエーターより前にIDを証明するため、有効なイニシエーターの名前を知っているイニシエーターは、レスポンダの名前と証明書の両方をプローブできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Repeated rekeying using CREATE_CHILD_SA without additional Diffie-Hellman exchanges leaves all SAs vulnerable to cryptanalysis of a single key. Implementers should take note of this fact and set a limit on CREATE_CHILD_SA exchanges between exponentiations. This document does not prescribe such a limit.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
追加のDiffie-Hellman交換を行わずにCREATE_CHILD_SAを使用して鍵の再生成を繰り返すと、すべてのSAが単一の鍵の暗号解読に対して脆弱になります。実装者はこの事実に注意し、指数間のCREATE_CHILD_SA交換に制限を設定する必要があります。このドキュメントでは、そのような制限を規定していません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The strength of a key derived from a Diffie-Hellman exchange using any of the groups defined here depends on the inherent strength of the group, the size of the exponent used, and the entropy provided by the random number generator used. Due to these inputs, it is difficult to determine the strength of a key for any of the defined groups. Diffie-Hellman group number two, when used with a strong random number generator and an exponent no less than 200 bits, is common for use with 3DES. Group five provides greater security than group two. Group one is for historic purposes only and does not provide sufficient strength except for use with DES, which is also for historic use only. Implementations should make note of these estimates when establishing policy and negotiating security parameters.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで定義されたグループのいずれかを使用してDiffie-Hellman交換から導出されたキーの強度は、グループの固有の強度、使用される指数のサイズ、および使用される乱数ジェネレーターによって提供されるエントロピーに依存します。これらの入力があるため、定義されたグループのキーの強度を判断することは困難です。 Diffie-Hellmanグループ番号2は、強力な乱数ジェネレーターと200ビット以上の指数で使用される場合、3DESでの使用に一般的です。グループ5は、グループ2よりも優れたセキュリティを提供します。グループ1は歴史的な目的のみであり、歴史的な用途のみであるDESでの使用を除いて、十分な強度を提供しません。実装では、ポリシーを確立してセキュリティパラメータをネゴシエートするときに、これらの推定値に注意する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Note that these limitations are on the Diffie-Hellman groups themselves. There is nothing in IKE that prohibits using stronger groups nor is there anything that will dilute the strength obtained from stronger groups (limited by the strength of the other algorithms negotiated including the PRF). In fact, the extensible framework of IKE encourages the definition of more groups; use of elliptic curve groups may greatly increase strength using much smaller numbers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
これらの制限はDiffie-Hellmanグループ自体にあることに注意してください。 IKEには、より強力なグループの使用を禁止するものはなく、より強力なグループから得られる強度を弱めるものもありません（PRFを含む、ネゴシエートされた他のアルゴリズムの強度によって制限されます）。実際、IKEの拡張可能なフレームワークは、より多くのグループの定義を奨励しています。楕円曲線グループを使用すると、はるかに小さい数を使用して強度が大幅に向上する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is assumed that all Diffie-Hellman exponents are erased from memory after use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのDiffie-Hellman指数は、使用後にメモリから消去されると想定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IKE_SA_INIT and IKE_AUTH exchanges happen before the initiator has been authenticated. As a result, an implementation of this protocol needs to be completely robust when deployed on any insecure network. Implementation vulnerabilities, particularly DoS attacks, can be exploited by unauthenticated peers. This issue is particularly worrisome because of the unlimited number of messages in EAP-based authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE_SA_INITおよびIKE_AUTH交換は、イニシエーターが認証される前に行われます。その結果、このプロトコルの実装は、セキュリティで保護されていないネットワークに展開される場合、完全に堅牢である必要があります。実装の脆弱性、特にDoS攻撃は、認証されていないピアによって悪用される可能性があります。 EAPベースの認証ではメッセージの数に制限がないため、この問題は特に気になります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The strength of all keys is limited by the size of the output of the negotiated PRF. For this reason, a PRF whose output is less than 128 bits (e.g., 3DES-CBC) MUST NOT be used with this protocol.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのキーの強度は、ネゴシエートされたPRFの出力のサイズによって制限されます。このため、出力が128ビット未満のPRF（3DES-CBCなど）は、このプロトコルで使用してはなりません（MUST NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The security of this protocol is critically dependent on the randomness of the randomly chosen parameters. These should be generated by a strong random or properly seeded pseudorandom source (see [RANDOMNESS]). Implementers should take care to ensure that use of random numbers for both keys and nonces is engineered in a fashion that does not undermine the security of the keys.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このプロトコルのセキュリティは、ランダムに選択されたパラメータのランダム性に大きく依存しています。これらは、強力なランダムまたは適切にシードされた疑似ランダムソースによって生成されます（[ランダム]を参照）。実装者は、キーとノンスの両方での乱数の使用が、キーのセキュリティを損なわないように設計されていることを確認するように注意する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For information on the rationale of many of the cryptographic design choices in this protocol, see [SIGMA] and [SKEME]. Though the security of negotiated Child SAs does not depend on the strength of the encryption and integrity protection negotiated in the IKE SA, implementations MUST NOT negotiate NONE as the IKE integrity protection algorithm or ENCR_NULL as the IKE encryption algorithm.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このプロトコルにおける多くの暗号化設計の選択の根拠については、[SIGMA]および[SKEME]を参照してください。ネゴシエートされた子SAのセキュリティは、IKE SAでネゴシエートされた暗号化と整合性保護の強度に依存しませんが、実装では、IKE整合性保護アルゴリズムとしてNONEをネゴシエートしたり、IKE暗号化アルゴリズムとしてENCR_NULLをネゴシエートしてはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When using pre-shared keys, a critical consideration is how to assure the randomness of these secrets. The strongest practice is to ensure that any pre-shared key contain as much randomness as the strongest key being negotiated. Deriving a shared secret from a password, name, or other low-entropy source is not secure. These sources are subject to dictionary and social-engineering attacks, among others.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
事前共有キーを使用する場合、重要な考慮事項は、これらの秘密のランダム性をどのように保証するかです。最も強力な方法は、事前共有キーには、ネゴシエートされる最強のキーと同じだけのランダム性が含まれるようにすることです。パスワード、名前、またはその他の低エントロピーソースから共有シークレットを取得することは安全ではありません。これらのソースは、特に辞書攻撃やソーシャルエンジニアリング攻撃の対象になります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The NAT_DETECTION_*_IP notifications contain a hash of the addresses and ports in an attempt to hide internal IP addresses behind a NAT. Since the IPv4 address space is only 32 bits, and it is usually very sparse, it would be possible for an attacker to find out the internal address used behind the NAT box by trying all possible IP addresses and trying to find the matching hash. The port numbers are normally fixed to 500, and the SPIs can be extracted from the packet. This reduces the number of hash calculations to 2^32. With an educated guess of the use of private address space, the number of hash calculations is much smaller. Designers should therefore not assume that use of IKE will not leak internal address information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
NAT_DETECTION _ * _ IP通知には、内部IPアドレスをNATの背後に隠そうとするアドレスとポートのハッシュが含まれています。 IPv4アドレス空間は32ビットのみであり、通常は非常に疎であるため、攻撃者は、可能なすべてのIPアドレスを試し、一致するハッシュを見つけようとすることで、NATボックスの背後で使用されている内部アドレスを見つけることができます。ポート番号は通常500に固定されており、SPIはパケットから抽出できます。これにより、ハッシュ計算の数が2 ^ 32に減ります。プライベートアドレススペースの使用に関する知識に基づいた推測により、ハッシュ計算の数ははるかに少なくなります。したがって、設計者は、IKEを使用しても内部アドレス情報が漏洩しないとは考えないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When using an EAP authentication method that does not generate a shared key for protecting a subsequent AUTH payload, certain man-in-the-middle and server-impersonation attacks are possible [EAPMITM]. These vulnerabilities occur when EAP is also used in protocols that are not protected with a secure tunnel. Since EAP is a general-purpose authentication protocol, which is often used to provide single-signon facilities, a deployed IPsec solution that relies on an EAP authentication method that does not generate a shared key (also known as a non-key-generating EAP method) can become compromised due to the deployment of an entirely unrelated application that also happens to use the same non-key-generating EAP method, but in an unprotected fashion. Note that this vulnerability is not limited to just EAP, but can occur in other scenarios where an authentication infrastructure is reused. For example, if the EAP mechanism used by IKEv2 utilizes a token authenticator, a man-in-the-middle attacker could impersonate the web server, intercept the token authentication exchange, and use it to initiate an IKEv2 connection. For this reason, use of non-key-generating EAP methods SHOULD be avoided where possible. Where they are used, it is extremely important that all usages of these EAP methods SHOULD utilize a protected tunnel, where the initiator validates the responder&#39;s certificate before initiating the EAP authentication. Implementers should describe the vulnerabilities of using non-key-generating EAP methods in the documentation of their implementations so that the administrators deploying IPsec solutions are aware of these dangers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
後続のAUTHペイロードを保護するための共有キーを生成しないEAP認証方法を使用すると、特定の中間者攻撃やサーバー偽装攻撃が可能になります[EAPMITM]。これらの脆弱性は、セキュアなトンネルで保護されていないプロトコルでもEAPが使用されている場合に発生します。 EAPは汎用の認証プロトコルであり、シングルサインオン機能の提供によく使用されるため、共有キーを生成しないEAP認証方法に依存する展開済みのIPsecソリューション（非キー生成EAPとも呼ばれます）メソッド）は、まったく無関係のアプリケーションのデプロイメントが原因で侵害される可能性があります。このアプリケーションも、同じ非キー生成EAPメソッドを使用しますが、保護されていない方法です。この脆弱性はEAPだけに限定されているわけではなく、認証インフラストラクチャが再利用される他のシナリオで発生する可能性があることに注意してください。たとえば、IKEv2で使用されるEAPメカニズムがトークン認証システムを利用している場合、中間者攻撃者がWebサーバーになりすまし、トークン認証交換を傍受し、それを使用してIKEv2接続を開始する可能性があります。このため、キーを生成しないEAPメソッドの使用は可能な限り避けるべきです。それらが使用される場合、これらのEAPメソッドのすべての使用法が保護されたトンネルを使用する必要があることが非常に重要です。イニシエーターはEAP認証を開始する前にレスポンダーの証明書を検証します。実装者は、IPsecソリューションを展開する管理者がこれらの危険性を認識できるように、実装のドキュメントに、キーを生成しないEAPメソッドを使用することの脆弱性を説明する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation using EAP MUST also use a public-key-based authentication of the server to the client before the EAP authentication begins, even if the EAP method offers mutual authentication. This avoids having additional IKEv2 protocol variations and protects the EAP data from active attackers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAPメソッドが相互認証を提供している場合でも、EAPを使用する実装では、EAP認証が開始する前に、クライアントに対するサーバーの公開キーベースの認証を使用する必要があります。これにより、IKEv2プロトコルのバリエーションが追加されるのを防ぎ、アクティブな攻撃者からEAPデータを保護します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the messages of IKEv2 are long enough that IP-level fragmentation is necessary, it is possible that attackers could prevent the exchange from completing by exhausting the reassembly buffers. The chances of this can be minimized by using the Hash and URL encodings instead of sending certificates (see Section 3.6). Additional mitigations are discussed in [DOSUDPPROT].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2のメッセージがIPレベルの断片化が必要となるほど長い場合、攻撃者は再構成バッファーを使い果たすことで交換が完了できないようにする可能性があります。証明書を送信する代わりにハッシュとURLエンコーディングを使用することで、この可能性を最小限に抑えることができます（セクション3.6を参照）。追加の緩和策については、[DOSUDPPROT]で説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Admission control is critical to the security of the protocol. For example, trust anchors used for identifying IKE peers should probably be different than those used for other forms of trust, such as those used to identify public web servers. Moreover, although IKE provides a great deal of leeway in defining the security policy for a trusted peer&#39;s identity, credentials, and the correlation between them, having such security policy defined explicitly is essential to a secure implementation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
アドミッションコントロールは、プロトコルのセキュリティにとって重要です。たとえば、IKEピアの識別に使用されるトラストアンカーは、パブリックWebサーバーの識別に使用されるトラストアンカーなど、他の形式の信頼に使用されるトラストアンカーとはおそらく異なるはずです。さらに、IKEは、信頼できるピアのID、資格情報、およびそれらの間の相関のセキュリティポリシーを定義する際にかなりの余裕を提供しますが、そのようなセキュリティポリシーを明示的に定義することは、安全な実装に不可欠です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-1--Traffic-Selector-Authorization">
5.1. Traffic Selector Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. トラフィックセレクタの承認
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2 relies on information in the Peer Authorization Database (PAD) when determining what kind of Child SAs a peer is allowed to create. This process is described in Section 4.4.3 of [IPSECARCH]. When a peer requests the creation of a Child SA with some Traffic Selectors, the PAD must contain &#34;Child SA Authorization Data&#34; linking the identity authenticated by IKEv2 and the addresses permitted for Traffic Selectors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2は、ピアが作成できる子SAの種類を決定するときに、ピア承認データベース（PAD）の情報に依存します。このプロセスは、[IPSECARCH]のセクション4.4.3で説明されています。ピアが一部のトラフィックセレクターで子SAの作成を要求する場合、PADには、IKEv2によって認証されたIDとトラフィックセレクターに許可されたアドレスをリンクする「子SA承認データ」が含まれている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, the PAD might be configured so that authenticated identity &#34;sgw23.example.com&#34; is allowed to create Child SAs for 192.0.2.0/24, meaning this security gateway is a valid &#34;representative&#34; for these addresses. Host-to-host IPsec requires similar entries, linking, for example, &#34;fooserver4.example.com&#34; with 198.51.100.66/32, meaning this identity is a valid &#34;owner&#34; or &#34;representative&#34; of the address in question.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、認証されたID「sgw23.example.com」が192.0.2.0/24の子SAを作成できるようにPADを構成できます。つまり、このセキュリティゲートウェイはこれらのアドレスの有効な「代表」です。ホスト間IPsecには同様のエントリが必要です。たとえば、「fooserver4.example.com」と198.51.100.66/32をリンクします。つまり、このIDは問題のアドレスの有効な「所有者」または「代表」です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As noted in [IPSECARCH], &#34;It is necessary to impose these constraints on creation of child SAs to prevent an authenticated peer from spoofing IDs associated with other, legitimate peers&#34;. In the example given above, a correct configuration of the PAD prevents sgw23 from creating Child SAs with address 198.51.100.66, and prevents fooserver4 from creating Child SAs with addresses from 192.0.2.0/24.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPSECARCH]で述べたように、「子SAの作成にこれらの制約を課して、認証されたピアが他の正当なピアに関連付けられたIDを偽装しないようにする必要があります」。上記の例では、PADを正しく構成すると、sgw23がアドレス198.51.100.66の子SAを作成できなくなり、fooserver4が192.0.2.0/24のアドレスの子SAを作成できなくなります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is important to note that simply sending IKEv2 packets using some particular address does not imply a permission to create Child SAs with that address in the Traffic Selectors. For example, even if sgw23 would be able to spoof its IP address as 198.51.100.66, it could not create Child SAs matching fooserver4&#39;s traffic.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
特定のアドレスを使用してIKEv2パケットを送信するだけでは、トラフィックセレクターでそのアドレスを使用して子SAを作成する権限を意味するわけではないことに注意することが重要です。たとえば、sgw23がそのIPアドレスを198.51.100.66として偽装できたとしても、fooserver4のトラフィックに一致する子SAを作成することはできませんでした。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IKEv2 specification does not specify how exactly IP address assignment using Configuration payloads interacts with the PAD. Our interpretation is that when a security gateway assigns an address using Configuration payloads, it also creates a temporary PAD entry linking the authenticated peer identity and the newly allocated inner address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2仕様は、構成ペイロードを使用したIPアドレス割り当てがPADとどのように相互作用するかを正確に指定していません。私たちの解釈では、セキュリティゲートウェイが構成ペイロードを使用してアドレスを割り当てると、認証されたピアIDと新しく割り当てられた内部アドレスをリンクする一時的なPADエントリも作成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 It has been recognized that configuring the PAD correctly may be difficult in some environments. For instance, if IPsec is used between a pair of hosts whose addresses are allocated dynamically using DHCP, it is extremely difficult to ensure that the PAD specifies the correct &#34;owner&#34; for each IP address. This would require a mechanism to securely convey address assignments from the DHCP server, and link them to identities authenticated using IKEv2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
一部の環境では、PADを正しく構成することが難しい場合があることが認識されています。たとえば、DHCPを使用してアドレスが動的に割り当てられるホストのペア間でIPsecを使用する場合、PADが各IPアドレスの正しい「所有者」を指定していることを確認することは非常に困難です。これには、DHCPサーバーからのアドレス割り当てを安全に伝達し、それらをIKEv2を使用して認証されたIDにリンクするメカニズムが必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Due to this limitation, some vendors have been known to configure their PADs to allow an authenticated peer to create Child SAs with Traffic Selectors containing the same address that was used for the IKEv2 packets. In environments where IP spoofing is possible (i.e., almost everywhere) this essentially allows any peer to create Child SAs with any Traffic Selectors. This is not an appropriate or secure configuration in most circumstances. See [H2HIPSEC] for an extensive discussion about this issue, and the limitations of host-to-host IPsec in general.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この制限により、一部のベンダーは、認証されたピアがIKEv2パケットに使用されたのと同じアドレスを含むトラフィックセレクターで子SAを作成できるようにPADを構成することが知られています。 IPスプーフィングが可能な環境（つまり、ほぼすべての場所）では、これにより、すべてのピアが任意のトラフィックセレクターで子SAを作成できるようになります。これは、ほとんどの状況で適切または安全な構成ではありません。この問題に関する広範な議論と、一般的なホスト間IPsecの制限については、[H2HIPSEC]を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--IANA-Considerations">
6. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. IANAに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV2] defined many field types and values. IANA has already registered those types and values in [IKEV2IANA], so they are not listed here again.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV2]は、多くのフィールドタイプと値を定義しました。 IANAはこれらのタイプと値を[IKEV2IANA]にすでに登録しているため、ここに再びリストされることはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One item has been deprecated from the &#34;IKEv2 Certificate Encodings&#34; registry: &#34;Raw RSA Key&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「IKEv2 Certificate Encodings」レジストリから「Raw RSA Key」という項目が廃止されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA has updated all references to RFC 5996 to point to this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANAは、このドキュメントを指すようにRFC 5996へのすべての参照を更新しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--References">
7. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 参考文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-1--Normative-References">
7.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. 引用文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ADDGROUP] Kivinen, T. and M. Kojo, &#34;More Modular Exponential (MODP) Diffie-Hellman groups for Internet Key Exchange (IKE)&#34;, RFC 3526, May 2003, &lt;http://www.rfc-editor.org/info/rfc3526&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ADDGROUP] Kivinen、T.、M。Kojo、「More Modular Exponential（MODP）Diffie-Hellman groups for Internet Key Exchange（IKE）」、RFC 3526、2003年5月、&lt;http://www.rfc-editor.org / info / rfc3526&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ADDRIPV6] Hinden, R. and S. Deering, &#34;IP Version 6 Addressing Architecture&#34;, RFC 4291, February 2006, &lt;http://www.rfc-editor.org/info/rfc4291&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ADDRIPV6] Hinden、R. and S. Deering、 &#34;IP Version 6 Addressing Architecture&#34;、RFC 4291、February 2006、&lt;http://www.rfc-editor.org/info/rfc4291&gt;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AEAD] Black, D. and D. McGrew, &#34;Using Authenticated Encryption Algorithms with the Encrypted Payload of the Internet Key Exchange version 2 (IKEv2) Protocol&#34;, RFC 5282, August 2008, &lt;http://www.rfc-editor.org/info/rfc5282&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AEAD] Black、D.、D。McGrew、「Authenticated Encryption Algorithms with the Encrypted Payload of the Internet Key Exchange version 2（IKEv2）Protocol」、RFC 5282、2008年8月、&lt;http：//www.rfc-editor .org / info / rfc5282&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AESCMACPRF128] Song, J., Poovendran, R., Lee, J., and T. Iwata, &#34;The Advanced Encryption Standard-Cipher-based Message Authentication Code-Pseudo-Random Function-128 (AES-CMAC-PRF-128) Algorithm for the Internet Key Exchange Protocol (IKE)&#34;, RFC 4615, August 2006, &lt;http://www.rfc-editor.org/info/rfc4615&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AESCMACPRF128] Song、J.、Poovendran、R.、Lee、J.、and T. Iwata、 &#34;The Advanced Encryption Standard-Cipher-based Message Authentication Code-Pseudo-Random Function-128（AES-CMAC-PRF-128 ）Internet Key Exchange Protocol（IKE）のアルゴリズム」、RFC 4615、2006年8月、&lt;http://www.rfc-editor.org/info/rfc4615&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AESXCBCPRF128] Hoffman, P., &#34;The AES-XCBC-PRF-128 Algorithm for the Internet Key Exchange Protocol (IKE)&#34;, RFC 4434, February 2006, &lt;http://www.rfc-editor.org/info/rfc4434&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AESXCBCPRF128]ホフマン、P。、「インターネットキーエクスチェンジプロトコル（IKE）のAES-XCBC-PRF-128アルゴリズム」、RFC 4434、2006年2月、&lt;http://www.rfc-editor.org/info/ rfc4434&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAP] Aboba, B., Blunk, L., Vollbrecht, J., Carlson, J., and H. Levkowetz, &#34;Extensible Authentication Protocol (EAP)&#34;, RFC 3748, June 2004, &lt;http://www.rfc-editor.org/info/rfc3748&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAP] Aboba、B.、Blunk、L.、Vollbrecht、J.、Carlson、J。、およびH. Levkowetz、「Extensible Authentication Protocol（EAP）」、RFC 3748、2004年6月、&lt;http：// www。 rfc-editor.org/info/rfc3748&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ECN] Ramakrishnan, K., Floyd, S., and D. Black, &#34;The Addition of Explicit Congestion Notification (ECN) to IP&#34;, RFC 3168, September 2001, &lt;http://www.rfc-editor.org/info/rfc3168&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ECN] Ramakrishnan、K.、Floyd、S。、およびD. Black、「The Addition of Explicit Congestion Notification（ECN）to IP」、RFC 3168、2001年9月、&lt;http://www.rfc-editor.org / info / rfc3168&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ESPCBC] Pereira, R. and R. Adams, &#34;The ESP CBC-Mode Cipher Algorithms&#34;, RFC 2451, November 1998, &lt;http://www.rfc-editor.org/info/rfc2451&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ESPCBC] Pereira、R。およびR. Adams、「ESP CBC-Mode Cipher Algorithms」、RFC 2451、1998年11月、&lt;http://www.rfc-editor.org/info/rfc2451&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV2IANA] IANA, &#34;Internet Key Exchange Version 2 (IKEv2) Parameters&#34;, &lt;http://www.iana.org/assignments/ikev2-parameters/&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV2IANA] IANA、「インターネットキーエクスチェンジバージョン2（IKEv2）パラメータ」、&lt;http://www.iana.org/assignments/ikev2-parameters/&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPSECARCH] Kent, S. and K. Seo, &#34;Security Architecture for the Internet Protocol&#34;, RFC 4301, December 2005, &lt;http://www.rfc-editor.org/info/rfc4301&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPSECARCH] Kent、S。およびK. Seo、「インターネットプロトコルのセキュリティアーキテクチャ」、RFC 4301、2005年12月、&lt;http://www.rfc-editor.org/info/rfc4301&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MUSTSHOULD] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997, &lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[必須] Bradner、S。、「RFCで使用して要件レベルを示すためのキーワード」、BCP 14、RFC 2119、1997年3月、&lt;http://www.rfc-editor.org/info/rfc2119&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PKCS1] Jonsson, J. and B. Kaliski, &#34;Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1&#34;, RFC 3447, February 2003, &lt;http://www.rfc-editor.org/info/rfc3447&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PKCS1] Jonsson、J。およびB. Kaliski、「Public-Key Cryptography Standards（PKCS）＃1：RSA Cryptography Specifications Version 2.1」、RFC 3447、2003年2月、&lt;http://www.rfc-editor.org/ info / rfc3447&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PKIX] Cooper, D., Santesson, S., Farrell, S., Boeyen, S., Housley, R., and W. Polk, &#34;Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile&#34;, RFC 5280, May 2008, &lt;http://www.rfc-editor.org/info/rfc5280&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PKIX] Cooper、D.、Santesson、S.、Farrell、S.、Boeyen、S.、Housley、R。、およびW. Polk、「Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List（CRL）Profile &#34;、RFC 5280、2008年5月、&lt;http://www.rfc-editor.org/info/rfc5280&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4307] Schiller, J., &#34;Cryptographic Algorithms for Use in the Internet Key Exchange Version 2 (IKEv2)&#34;, RFC 4307, December 2005, &lt;http://www.rfc-editor.org/info/rfc4307&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4307] Schiller、J。、「インターネットキーエクスチェンジバージョン2（IKEv2）で使用する暗号化アルゴリズム」、RFC 4307、2005年12月、&lt;http://www.rfc-editor.org/info/rfc4307&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[UDPENCAPS] Huttunen, A., Swander, B., Volpe, V., DiBurro, L., and M. Stenberg, &#34;UDP Encapsulation of IPsec ESP Packets&#34;, RFC 3948, January 2005, &lt;http://www.rfc-editor.org/info/rfc3948&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[UDPENCAPS] Huttunen、A.、Swander、B.、Volpe、V.、DiBurro、L。、およびM. Stenberg、「UDP Encapsulation of IPsec ESP Packets」、RFC 3948、2005年1月、&lt;http：// www。 rfc-editor.org/info/rfc3948&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[URLS] Berners-Lee, T., Fielding, R., and L. Masinter, &#34;Uniform Resource Identifier (URI): Generic Syntax&#34;, STD 66, RFC 3986, January 2005, &lt;http://www.rfc-editor.org/info/rfc3986&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[URLS] Berners-Lee、T.、Fielding、R。、およびL. Masinter、「Uniform Resource Identifier（URI）：Generic Syntax」、STD 66、RFC 3986、2005年1月、&lt;http：//www.rfc- editor.org/info/rfc3986&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-2--Informative-References">
7.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 参考引用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AH] Kent, S., &#34;IP Authentication Header&#34;, RFC 4302, December 2005, &lt;http://www.rfc-editor.org/info/rfc4302&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[AH]ケント、S。、「IP認証ヘッダー」、RFC 4302、2005年12月、&lt;http://www.rfc-editor.org/info/rfc4302&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ARCHGUIDEPHIL] Bush, R. and D. Meyer, &#34;Some Internet Architectural Guidelines and Philosophy&#34;, RFC 3439, December 2002, &lt;http://www.rfc-editor.org/info/rfc3439&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ARCHGUIDEPHIL] Bush、R。およびD. Meyer、「Some Internet Architectural Guidelines and Philosophy」、RFC 3439、2002年12月、&lt;http://www.rfc-editor.org/info/rfc3439&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ARCHPRINC] Carpenter, B., &#34;Architectural Principles of the Internet&#34;, RFC 1958, June 1996, &lt;http://www.rfc-editor.org/info/rfc1958&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ARCHPRINC]カーペンター、B。、「インターネットのアーキテクチャの原則」、RFC 1958、1996年6月、&lt;http://www.rfc-editor.org/info/rfc1958&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Clarif] Eronen, P. and P. Hoffman, &#34;IKEv2 Clarifications and Implementation Guidelines&#34;, RFC 4718, October 2006, &lt;http://www.rfc-editor.org/info/rfc4718&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Clarif] Eronen、P。およびP. Hoffman、「IKEv2 Clarifications and Implementation Guidelines」、RFC 4718、2006年10月、&lt;http://www.rfc-editor.org/info/rfc4718&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DES] American National Standards Institute, &#34;American National Standard for Information Systems-Data Link Encryption&#34;, ANSI X3.106, 1983.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DES] American National Standards Institute、「American National Standard for Information Systems-Data Link Encryption」、ANSI X3.106、1983。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DH] Diffie, W. and M. Hellman, &#34;New Directions in Cryptography&#34;, IEEE Transactions on Information Theory, V.IT-22 n. 6, June 1977.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DH] Diffie、W。およびM. Hellman、「暗号化の新しい方向性」、IEEE Transactions on Information Theory、V.IT-22 n。 1977年6月6日。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DIFFSERVARCH] Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z., and W. Weiss, &#34;An Architecture for Differentiated Services&#34;, RFC 2475, December 1998, &lt;http://www.rfc-editor.org/info/rfc2475&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DIFFSERVARCH] Blake、S.、Black、D.、Carlson、M.、Davies、E.、Wang、Z。、およびW. Weiss、「An Architecture for Differentiated Services」、RFC 2475、1998年12月、&lt;http： //www.rfc-editor.org/info/rfc2475&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DIFFSERVFIELD] Nichols, K., Blake, S., Baker, F., and D. Black, &#34;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers&#34;, RFC 2474, December 1998, &lt;http://www.rfc-editor.org/info/rfc2474&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DIFFSERVFIELD] Nichols、K.、Blake、S.、Baker、F。、およびD. Black、「Definition of the Differentiated Services Field（DS Field）in the IPv4 and IPv6 Headers」、RFC 2474、1998年12月、&lt;http ：//www.rfc-editor.org/info/rfc2474&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DIFFTUNNEL] Black, D., &#34;Differentiated Services and Tunnels&#34;, RFC 2983, October 2000, &lt;http://www.rfc-editor.org/info/rfc2983&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DIFFTUNNEL] Black、D。、「Differentiated Services and Tunnels」、RFC 2983、2000年10月、&lt;http://www.rfc-editor.org/info/rfc2983&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DOI] Piper, D., &#34;The Internet IP Security Domain of Interpretation for ISAKMP&#34;, RFC 2407, November 1998, &lt;http://www.rfc-editor.org/info/rfc2407&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DOI] Piper、D。、「ISAKMPの解釈のインターネットIPセキュリティドメイン」、RFC 2407、1998年11月、&lt;http://www.rfc-editor.org/info/rfc2407&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DOSUDPPROT] Kaufman, C., Perlman, R., and B. Sommerfeld, &#34;DoS protection for UDP-based protocols&#34;, ACM Conference on Computer and Communications Security, October 2003.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DOSUDPPROT] Kaufman、C.、Perlman、R。、およびB. Sommerfeld、「UDPベースのプロトコルのDoS保護」、ACM Conference on Computer and Communications Security、2003年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DSS] National Institute of Standards and Technology, U.S. Department of Commerce, &#34;Digital Signature Standard (DSS)&#34;, FIPS 186-4, July 2013, &lt;http://nvlpubs.nist.gov/nistpubs/FIPS/ NIST.FIPS.186-4.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DSS]国立標準技術研究所、米国商務省、「デジタル署名標準（DSS）」、FIPS 186-4、2013年7月、&lt;http://nvlpubs.nist.gov/nistpubs/FIPS/ NIST.FIPS .186-4.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAI] Yang, A., Steele, S., and N. Freed, &#34;Internationalized Email Headers&#34;, RFC 6532, February 2012, &lt;http://www.rfc-editor.org/info/rfc6532&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAI] Yang、A.、Steele、S。、およびN. Freed、「Internationalized Email Headers」、RFC 6532、2012年2月、&lt;http://www.rfc-editor.org/info/rfc6532&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAP-IANA] IANA, &#34;Extensible Authentication Protocol (EAP) Registry: Method Types&#34;, &lt;http://http://www.iana.org/assignments/eap-eke/&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAP-IANA] IANA、「拡張認証プロトコル（EAP）レジストリ：メソッドタイプ」、&lt;http：// http：//www.iana.org/assignments/eap-eke/&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAPMITM] Asokan, N., Niemi, V., and K. Nyberg, &#34;Man-in-the-Middle in Tunneled Authentication Protocols&#34;, November 2002, &lt;http://eprint.iacr.org/2002/163&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EAPMITM] Asokan、N.、Niemi、V。、およびK. Nyberg、「トンネル認証プロトコルの中間者」、2002年11月、&lt;http://eprint.iacr.org/2002/163&gt; 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ESP] Kent, S., &#34;IP Encapsulating Security Payload (ESP)&#34;, RFC 4303, December 2005, &lt;http://www.rfc-editor.org/info/rfc4303&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ESP]ケント、S。、「IPカプセル化セキュリティペイロード（ESP）」、RFC 4303、2005年12月、&lt;http://www.rfc-editor.org/info/rfc4303&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EXCHANGEANALYSIS] Perlman, R. and C. Kaufman, &#34;Analysis of the IPsec key exchange Standard&#34;, WET-ICE Security Conference, MIT, 2001, &lt;http://www.computer.org/csdl/proceedings/ wetice/2001/1269/00/12690150.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[EXCHANGEANALYSIS] Perlman、R。およびC. Kaufman、「Analysis of the IPsec key exchange Standard」、WET-ICE Security Conference、MIT、2001、&lt;http://www.computer.org/csdl/proceedings/ wetice / 2001 /1269/00/12690150.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[FIPS.180-4.2012] National Institute of Standards and Technology, U.S. Department of Commerce, &#34;Secure Hash Standard (SHS)&#34;, FIPS 180-4, March 2012, &lt;http://csrc.nist.gov/publications/fips/fips180-4/ fips-180-4.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[FIPS.180-4.2012]米国商務省国立標準技術研究所、「Secure Hash Standard（SHS）」、FIPS 180-4、2012年3月、&lt;http://csrc.nist.gov/publications/fips / fips180-4 / fips-180-4.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[H2HIPSEC] Aura, T., Roe, M., and A. Mohammed, &#34;Experiences with Host-to-Host IPsec&#34;, 13th International Workshop on Security Protocols, Cambridge, UK, April 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[H2HIPSEC] Aura、T.、Roe、M。、およびA. Mohammed、「Experiences with Host-to-Host IPsec」、13th International Workshop on Security Protocols、ケンブリッジ、英国、2005年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[HMAC] Krawczyk, H., Bellare, M., and R. Canetti, &#34;HMAC: Keyed-Hashing for Message Authentication&#34;, RFC 2104, February 1997, &lt;http://www.rfc-editor.org/info/rfc2104&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[HMAC] Krawczyk、H.、Bellare、M。、およびR. Canetti、「HMAC：Keyed-Hashing for Message Authentication」、RFC 2104、1997年2月、&lt;http://www.rfc-editor.org/info/ rfc2104&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IDEA] Lai, X., &#34;On the Design and Security of Block Ciphers&#34;, ETH Series in Information Processing, v. 1, Konstanz: Hartung-Gorre Verlag, 1992.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IDEA] Lai、X。、「ブロック暗号の設計とセキュリティについて」、情報処理のETHシリーズ、v。1、コンスタンツ：Hartung-Gorre Verlag、1992。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IDNA] Klensin, J., &#34;Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework&#34;, RFC 5890, August 2010, &lt;http://www.rfc-editor.org/info/rfc5890&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IDNA] Klensin、J。、「Internationalized Domain Names for Applications（IDNA）：Definitions and Document Framework」、RFC 5890、2010年8月、&lt;http://www.rfc-editor.org/info/rfc5890&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV1] Harkins, D. and D. Carrel, &#34;The Internet Key Exchange (IKE)&#34;, RFC 2409, November 1998, &lt;http://www.rfc-editor.org/info/rfc2409&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV1] Harkins、D。およびD. Carrel、「The Internet Key Exchange（IKE）」、RFC 2409、1998年11月、&lt;http://www.rfc-editor.org/info/rfc2409&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV2] Kaufman, C., &#34;Internet Key Exchange (IKEv2) Protocol&#34;, RFC 4306, December 2005, &lt;http://www.rfc-editor.org/info/rfc4306&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IKEV2] Kaufman、C。、「インターネットキーエクスチェンジ（IKEv2）プロトコル」、RFC 4306、2005年12月、&lt;http://www.rfc-editor.org/info/rfc4306&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IP] Postel, J., &#34;Internet Protocol&#34;, STD 5, RFC 791, September 1981, &lt;http://www.rfc-editor.org/info/rfc791&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IP] Postel、J。、「インターネットプロトコル」、STD 5、RFC 791、1981年9月、&lt;http://www.rfc-editor.org/info/rfc791&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IP-COMP] Shacham, A., Monsour, B., Pereira, R., and M. Thomas, &#34;IP Payload Compression Protocol (IPComp)&#34;, RFC 3173, September 2001, &lt;http://www.rfc-editor.org/info/rfc3173&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IP-COMP] Shacham、A.、Monsour、B.、Pereira、R。、およびM. Thomas、「IP Payload Compression Protocol（IPComp）」、RFC 3173、2001年9月、&lt;http：//www.rfc- editor.org/info/rfc3173&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPSECARCH-OLD] Kent, S. and R. Atkinson, &#34;Security Architecture for the Internet Protocol&#34;, RFC 2401, November 1998, &lt;http://www.rfc-editor.org/info/rfc2401&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPSECARCH-OLD]ケント、S。、およびR.アトキンソン、「インターネットプロトコルのセキュリティアーキテクチャ」、RFC 2401、1998年11月、&lt;http://www.rfc-editor.org/info/rfc2401&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPV6CONFIG] Eronen, P., Laganier, J., and C. Madson, &#34;IPv6 Configuration in Internet Key Exchange Protocol Version 2 (IKEv2)&#34;, RFC 5739, February 2010, &lt;http://www.rfc-editor.org/info/rfc5739&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[IPV6CONFIG] Eronen、P.、Laganier、J。、およびC. Madson、「IPv6 Configuration in Internet Key Exchange Protocol Version 2（IKEv2）」、RFC 5739、2010年2月、&lt;http：//www.rfc-editor。 org / info / rfc5739&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ISAKMP] Maughan, D., Schneider, M., and M. Schertler, &#34;Internet Security Association and Key Management Protocol (ISAKMP)&#34;, RFC 2408, November 1998, &lt;http://www.rfc-editor.org/info/rfc2408&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ISAKMP] Maughan、D.、Schneider、M。、およびM. Schertler、「Internet Security Association and Key Management Protocol（ISAKMP）」、RFC 2408、1998年11月、&lt;http://www.rfc-editor.org/ info / rfc2408&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MAILFORMAT] Resnick, P., Ed., &#34;Internet Message Format&#34;, RFC 5322, October 2008, &lt;http://www.rfc-editor.org/info/rfc5322&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[メールフォーマット] Resnick、P。、編、「インターネットメッセージフォーマット」、RFC 5322、2008年10月、&lt;http://www.rfc-editor.org/info/rfc5322&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MD5] Rivest, R., &#34;The MD5 Message-Digest Algorithm&#34;, RFC 1321, April 1992, &lt;http://www.rfc-editor.org/info/rfc1321&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MD5] Rivest、R。、「The MD5 Message-Digest Algorithm」、RFC 1321、1992年4月、&lt;http://www.rfc-editor.org/info/rfc1321&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MIPV6] Perkins, C., Johnson, D., and J. Arkko, &#34;Mobility Support in IPv6&#34;, RFC 6275, July 2011, &lt;http://www.rfc-editor.org/info/rfc6275&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MIPV6] Perkins、C.、Johnson、D。、およびJ. Arkko、「IPv6でのモビリティサポート」、RFC 6275、2011年7月、&lt;http://www.rfc-editor.org/info/rfc6275&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MLDV2] Vida, R. and L. Costa, &#34;Multicast Listener Discovery Version 2 (MLDv2) for IPv6&#34;, RFC 3810, June 2004, &lt;http://www.rfc-editor.org/info/rfc3810&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MLDV2] Vida、R。およびL. Costa、「Multicast Listener Discovery Version 2（MLDv2）for IPv6」、RFC 3810、2004年6月、&lt;http://www.rfc-editor.org/info/rfc3810&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MOBIKE] Eronen, P., &#34;IKEv2 Mobility and Multihoming Protocol (MOBIKE)&#34;, RFC 4555, June 2006, &lt;http://www.rfc-editor.org/info/rfc4555&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MOBIKE] Eronen、P。、「IKEv2 Mobility and Multihoming Protocol（MOBIKE）」、RFC 4555、2006年6月、&lt;http://www.rfc-editor.org/info/rfc4555&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MODES] Dworkin, M., &#34;Recommendation for Block Cipher Modes of Operation&#34;, National Institute of Standards and Technology, NIST Special Publication 800-38A 2001 Edition, December 2001.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[モード] Dworkin、M。、「ブロック暗号の動作モードに関する推奨事項」、国立標準技術研究所、NIST Special Publication 800-38A 2001 Edition、2001年12月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[NAI] Aboba, B., Beadles, M., Arkko, J., and P. Eronen, &#34;The Network Access Identifier&#34;, RFC 4282, December 2005, &lt;http://www.rfc-editor.org/info/rfc4282&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[NAI] Aboba、B.、Beadles、M.、Arkko、J。、およびP. Eronen、「The Network Access Identifier」、RFC 4282、2005年12月、&lt;http://www.rfc-editor.org/info / rfc4282&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[NATREQ] Aboba, B. and W. Dixon, &#34;IPsec-Network Address Translation (NAT) Compatibility Requirements&#34;, RFC 3715, March 2004, &lt;http://www.rfc-editor.org/info/rfc3715&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[NATREQ] Aboba、B。およびW. Dixon、「IPsec-Network Address Translation（NAT）Compatibility Requirements」、RFC 3715、March 2004、&lt;http://www.rfc-editor.org/info/rfc3715&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[OAKLEY] Orman, H., &#34;The OAKLEY Key Determination Protocol&#34;, RFC 2412, November 1998, &lt;http://www.rfc-editor.org/info/rfc2412&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[OAKLEY] Orman、H。、「The OAKLEYキー決定プロトコル」、RFC 2412、1998年11月、&lt;http://www.rfc-editor.org/info/rfc2412&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PFKEY] McDonald, D., Metz, C., and B. Phan, &#34;PF_KEY Key Management API, Version 2&#34;, RFC 2367, July 1998, &lt;http://www.rfc-editor.org/info/rfc2367&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PFKEY] McDonald、D.、Metz、C。、およびB. Phan、「PF_KEY Key Management API、Version 2」、RFC 2367、1998年7月、&lt;http://www.rfc-editor.org/info/rfc2367 &gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[PHOTURIS] Karn, P. and W. Simpson, &#34;Photuris: Session-Key Management Protocol&#34;, RFC 2522, March 1999, &lt;http://www.rfc-editor.org/info/rfc2522&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[写真] Karn、P。およびW. Simpson、「Photuris：Session-Key Management Protocol」、RFC 2522、1999年3月、&lt;http://www.rfc-editor.org/info/rfc2522&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RANDOMNESS] Eastlake 3rd, D., Schiller, J., and S. Crocker, &#34;Randomness Requirements for Security&#34;, BCP 106, RFC 4086, June 2005, &lt;http://www.rfc-editor.org/info/rfc4086&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ランダム] Eastlake 3rd、D.、Schiller、J。、およびS. Crocker、「Randomness Requirements for Security」、BCP 106、RFC 4086、2005年6月、&lt;http://www.rfc-editor.org/info/ rfc4086&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[REAUTH] Nir, Y., &#34;Repeated Authentication in Internet Key Exchange (IKEv2) Protocol&#34;, RFC 4478, April 2006, &lt;http://www.rfc-editor.org/info/rfc4478&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[REAUTH] Nir、Y。、「インターネットキーエクスチェンジ（IKEv2）プロトコルでの繰り返し認証」、RFC 4478、2006年4月、&lt;http://www.rfc-editor.org/info/rfc4478&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[REUSE] Menezes, A. and B. Ustaoglu, &#34;On Reusing Ephemeral Keys In Diffie-Hellman Key Agreement Protocols&#34;, December 2008, &lt;http://www.cacr.math.uwaterloo.ca/techreports/2008/ cacr2008-24.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[再利用] Menezes、A。およびB. Ustaoglu、「Diffie-Hellman鍵合意プロトコルでの短命鍵の再利用について」、2008年12月、&lt;http://www.cacr.math.uwaterloo.ca/techreports/2008/ cacr2008- 24.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4945] Korver, B., &#34;The Internet IP Security PKI Profile of IKEv1/ISAKMP, IKEv2, and PKIX&#34;, RFC 4945, August 2007, &lt;http://www.rfc-editor.org/info/rfc4945&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4945] Korver、B。、「IKEv1 / ISAKMP、IKEv2、およびPKIXのインターネットIPセキュリティPKIプロファイル」、RFC 4945、2007年8月、&lt;http://www.rfc-editor.org/info/rfc4945&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5996] Kaufman, C., Hoffman, P., Nir, Y., and P. Eronen, &#34;Internet Key Exchange Protocol Version 2 (IKEv2)&#34;, RFC 5996, September 2010, &lt;http://www.rfc-editor.org/info/rfc5996&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5996] Kaufman、C.、Hoffman、P.、Nir、Y。、およびP. Eronen、「インターネットキー交換プロトコルバージョン2（IKEv2）」、RFC 5996、2010年9月、&lt;http：//www.rfc- editor.org/info/rfc5996&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6989] Sheffer, Y. and S. Fluhrer, &#34;Additional Diffie-Hellman Tests for the Internet Key Exchange Protocol Version 2 (IKEv2)&#34;, RFC 6989, July 2013, &lt;http://www.rfc-editor.org/info/rfc6989&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6989] Sheffer、Y。およびS. Fluhrer、「インターネットキーエクスチェンジプロトコルバージョン2（IKEv2）の追加Diffie-Hellmanテスト」、RFC 6989、2013年7月、&lt;http://www.rfc-editor.org/ info / rfc6989&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ROHCV2] Ertekin, E., Christou, C., Jasani, R., Kivinen, T., and C. Bormann, &#34;IKEv2 Extensions to Support Robust Header Compression over IPsec&#34;, RFC 5857, May 2010, &lt;http://www.rfc-editor.org/info/rfc5857&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[ROHCV2] Ertekin、E.、Christou、C.、Jasani、R.、Kivinen、T。、およびC. Bormann、「IPsecを介した堅牢なヘッダー圧縮をサポートするIKEv2拡張機能」、RFC 5857、2010年5月、&lt;http：/ /www.rfc-editor.org/info/rfc5857&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SIGMA] Krawczyk, H., &#34;SIGMA: the &#39;SIGn-and-MAc&#39; Approach to Authenticated Diffie-Hellman and its Use in the IKE Protocols&#34;, Advances in Cryptography - CRYPTO 2003 Proceedings LNCS 2729, 2003, &lt;http://www.informatik.uni-trier.de/~ley/db/conf/crypto/ crypto2003.html&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SIGMA] Krawczyk、H。、「SIGMA：Authenticated Diffie-Hellmanへの「SIGn-and-MAc」アプローチとIKEプロトコルでの使用」、暗号技術の進歩-CRYPTO 2003 Proceedings LNCS 2729、2003、&lt;http：/ /www.informatik.uni-trier.de/~ley/db/conf/crypto/crypto2003.html&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SKEME] Krawczyk, H., &#34;SKEME: A Versatile Secure Key Exchange Mechanism for Internet&#34;, IEEE Proceedings of the 1996 Symposium on Network and Distributed Systems Security, 1996.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SKEME] Krawczyk、H。、「SKEME：A Versatile Secure Key Exchange Mechanism for Internet」、IEEE Proceedings of the 1996 Symposium on Network and Distributed Systems Security、1996。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[TRANSPARENCY] Carpenter, B., &#34;Internet Transparency&#34;, RFC 2775, February 2000, &lt;http://www.rfc-editor.org/info/rfc2775&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[透明性]カーペンター、B。、「インターネット透明性」、RFC 2775、2000年2月、&lt;http://www.rfc-editor.org/info/rfc2775&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="Appendix-A--Summary-of-Changes-from-IKEv1">
Appendix A. Summary of Changes from IKEv1
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A. IKEv1からの変更の要約
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The goals of this revision to IKE are:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このIKEの改訂の目標は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. To define the entire IKE protocol in a single document, replacing RFCs 2407, 2408, and 2409 and incorporating subsequent changes to support NAT traversal, Extensible Authentication, and Remote Address acquisition;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. IKEプロトコル全体を単一のドキュメントで定義し、RFC 2407、2408、および2409を置き換え、その後の変更を組み込んで、NATトラバーサル、拡張認証、およびリモートアドレスの取得をサポートします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. To simplify IKE by replacing the eight different initial exchanges with a single four-message exchange (with changes in authentication mechanisms affecting only a single AUTH payload rather than restructuring the entire exchange) see [EXCHANGEANALYSIS];
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 8つの異なる初期交換を単一の4メッセージ交換に置き換えることでIKEを簡素化するには（認証メカニズムの変更により、交換全体を再構築するのではなく、単一のAUTHペイロードのみに影響する）[EXCHANGEANALYSIS]を参照
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. To remove the Domain of Interpretation (DOI), Situation (SIT), and Labeled Domain Identifier fields, and the Commit and Authentication only bits;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. Domain of Interpretation（DOI）、Situation（SIT）、Labeled Domain Identifierフィールド、およびCommitとAuthentication onlyビットを削除するには、
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. To decrease IKE&#39;s latency in the common case by making the initial exchange be 2 round trips (4 messages), and allowing the ability to piggyback setup of a Child SA on that exchange;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 最初の交換を2回の往復（4メッセージ）にし、その交換で子SAの設定を便乗させることにより、一般的なケースでIKEの待機時間を短縮します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. To replace the cryptographic syntax for protecting the IKE messages themselves with one based closely on ESP to simplify implementation and security analysis;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. IKEメッセージ自体を保護するための暗号構文をESPに基づいたものに置き換えて、実装とセキュリティ分析を簡素化します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. To reduce the number of possible error states by making the protocol reliable (all messages are acknowledged) and sequenced. This allows shortening CREATE_CHILD_SA exchanges from 3 messages to 2;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. プロトコルを信頼できるものにし（すべてのメッセージが確認されます）、順序付けすることにより、考えられるエラー状態の数を減らすため。これにより、CREATE_CHILD_SA交換を3つのメッセージから2つのメッセージに短縮できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
7. To increase robustness by allowing the responder to not do significant processing until it receives a message proving that the initiator can receive messages at its claimed IP address;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
7. イニシエーターが要求されたIPアドレスでメッセージを受信できることを証明するメッセージを受信するまで、レスポンダーが重要な処理を実行できないようにすることで、堅牢性を向上させるため。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
8. To fix cryptographic weaknesses such as the problem with symmetries in hashes used for authentication (documented by Tero Kivinen);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
8. 認証に使用されるハッシュの対称性の問題などの暗号の弱点を修正するため（Tero Kivinenによって文書化）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
9. To specify Traffic Selectors in their own payloads type rather than overloading ID payloads, and making more flexible the Traffic Selectors that may be specified;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
9. IDペイロードをオーバーロードするのではなく、独自のペイロードタイプでトラフィックセレクターを指定し、指定できるトラフィックセレクターをより柔軟にする。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
10. To specify required behavior under certain error conditions or when data that is not understood is received in order to make it easier to make future revisions in a way that does not break backward compatibility;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
10. 特定のエラー条件で、または理解できないデータが受信されたときに必要な動作を指定して、下位互換性を損なわない方法で将来の修正を容易にすること。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
11. To simplify and clarify how shared state is maintained in the presence of network failures and DoS attacks; and
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
11. ネットワーク障害やDoS攻撃が発生した場合に共有状態がどのように維持されるかを簡素化して明確にするため。そして
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
12. To maintain existing syntax and magic numbers to the extent possible to make it likely that implementations of IKEv1 can be enhanced to support IKEv2 with minimum effort.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
12. 既存の構文とマジックナンバーを可能な限り維持し、IKEv1の実装を拡張して、最小限の労力でIKEv2をサポートできるようにする。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="Appendix-B--Diffie-Hellman-Groups">
Appendix B. Diffie-Hellman Groups
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録B. Diffie-Hellmanグループ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are two Diffie-Hellman groups defined here for use in IKE. These groups were generated by Richard Schroeppel at the University of Arizona. Properties of these primes are described in [OAKLEY].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEで使用するためにここで定義された2つのDiffie-Hellmanグループがあります。これらのグループは、アリゾナ大学のリチャードシュレッペルによって生成されました。これらの素数の特性は[OAKLEY]で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The strength supplied by group 1 may not be sufficient for typical uses and is here for historic reasons.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
グループ1が提供する強度は、通常の使用には十分でない場合があり、歴史的な理由によりここにあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Additional Diffie-Hellman groups have been defined in [ADDGROUP].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
追加のDiffie-Hellmanグループが[ADDGROUP]で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="B-1--Group-1---768-bit-MODP">
B.1. Group 1 - 768-bit MODP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
B.1. グループ1-768ビットMODP
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This group is assigned ID 1 (one).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このグループにはID 1（1）が割り当てられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The prime is: 2^768 - 2 ^704 - 1 + 2^64 * { [2^638 pi] + 149686 } Its hexadecimal value is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
素数は次のとおりです：2 ^ 768-2 ^ 704-1 + 2 ^ 64 * {[2 ^ 638 pi] + 149686}その16進値は次のとおりです：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FFFFFFFF FFFFFFFF C90FDAA2 2168C234 C4C6628B 80DC1CD1 29024E08 8A67CC74 020BBEA6 3B139B22 514A0879 8E3404DD EF9519B3 CD3A431B 302B0A6D F25F1437 4FE1356D 6D51C245 E485B576 625E7EC6 F44C42E9 A63A3620 FFFFFFFF FFFFFFFF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FFFFFFFF FFFFFFFF C90FDAA2 2168C234 C4C6628B 80DC1CD1 29024E08 8A67CC74 020BBEA6 3B139B22 514A0879 8E3404DD EF9519B3 CD3A431B 302B0A6D F25FFF3437 4FE1356D 6D51FFFFA43E6AFFE63C42E63B6AFFE63A42E6400C6E6AFFE63C6E61AFF6A6E6C6E7AFF6C6E61E6E6E6E6C7E64E6
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The generator is 2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ジェネレータは2です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="B-2--Group-2---1024-bit-MODP">
B.2. Group 2 - 1024-bit MODP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
B.2. グループ2-1024ビットMODP
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This group is assigned ID 2 (two).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このグループにはID 2（2）が割り当てられています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The prime is 2^1024 - 2^960 - 1 + 2^64 * { [2^894 pi] + 129093 }. Its hexadecimal value is:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
素数は2 ^ 1024-2 ^ 960-1 + 2 ^ 64 * {[2 ^ 894 pi] + 129093}です。その16進値は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FFFFFFFF FFFFFFFF C90FDAA2 2168C234 C4C6628B 80DC1CD1 29024E08 8A67CC74 020BBEA6 3B139B22 514A0879 8E3404DD EF9519B3 CD3A431B 302B0A6D F25F1437 4FE1356D 6D51C245 E485B576 625E7EC6 F44C42E9 A637ED6B 0BFF5CB6 F406B7ED EE386BFB 5A899FA5 AE9F2411 7C4B1FE6 49286651 ECE65381 FFFFFFFF FFFFFFFF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FFFFFFFF FFFFFFFF C90FDAA2 2168C234 C4C6628B 80DC1CD1 29024E08 8A67CC74 020BBEA6 3B139B22 514A0879 8E3404DD EF9519B3 CD3A431B 302B0A6D F25F1437 4FE1356D 6D51C245 E485B576 625E7EC6 F44C42E9 A637ED6B 0BFF5CB6 F406B7ED EE386BFB 5A899FA5 AE9F2411 7C4B1FE6 49286651 ECE65381 FFFFFFFF FFFFFFFF
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The generator is 2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ジェネレータは2です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="Appendix-C--Exchanges-and-Payloads">
Appendix C. Exchanges and Payloads
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録C.交換とペイロード
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This appendix contains a short summary of the IKEv2 exchanges, and what payloads can appear in which message. This appendix is purely informative; if it disagrees with the body of this document, the other text is considered correct.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この付録には、IKEv2交換の簡単な概要と、どのメッセージに表示される可能性のあるペイロードが含まれています。この付録は、純粋に参考情報です。このドキュメントの本文と一致しない場合、他のテキストは正しいと見なされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Vendor ID (V) payloads may be included in any place in any message. This sequence here shows what are the most logical places for them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ベンダーID（V）ペイロードは、メッセージの任意の場所に含めることができます。ここでのこのシーケンスは、それらにとって最も論理的な場所を示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="C-1--IKESAINIT-Exchange">
C.1. IKE_SA_INIT Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
C.1. IKE_SA_INIT交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   request             --&gt; [N(COOKIE),]
                           SA, KE, Ni,
                           [N(NAT_DETECTION_SOURCE_IP)+,
                            N(NAT_DETECTION_DESTINATION_IP),]
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   normal response     &lt;-- SA, KE, Nr,
   (no cookie)             [N(NAT_DETECTION_SOURCE_IP),
                            N(NAT_DETECTION_DESTINATION_IP),]
                           [[N(HTTP_CERT_LOOKUP_SUPPORTED),] CERTREQ+,]
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   cookie response     &lt;-- N(COOKIE),
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
different Diffie- &lt;-- N(INVALID_KE_PAYLOAD), Hellman group [V+][N+] wanted
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
異なるDiffie- &lt;-N（INVALID_KE_PAYLOAD）、Hellmanグループ[V +] [N +]が必要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="C-2--IKEAUTH-Exchange-without-EAP">
C.2. IKE_AUTH Exchange without EAP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
C.2. EAPを使用しないIKE_AUTH交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   request             --&gt; IDi, [CERT+,]
                           [N(INITIAL_CONTACT),]
                           [[N(HTTP_CERT_LOOKUP_SUPPORTED),] CERTREQ+,]
                           [IDr,]
                           AUTH,
                           [CP(CFG_REQUEST),]
                           [N(IPCOMP_SUPPORTED)+,]
                           [N(USE_TRANSPORT_MODE),]
                           [N(ESP_TFC_PADDING_NOT_SUPPORTED),]
                           [N(NON_FIRST_FRAGMENTS_ALSO),]
                           SA, TSi, TSr,
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   response            &lt;-- IDr, [CERT+,]
                           AUTH,
                           [CP(CFG_REPLY),]
                           [N(IPCOMP_SUPPORTED),]
                           [N(USE_TRANSPORT_MODE),]
                           [N(ESP_TFC_PADDING_NOT_SUPPORTED),]
                           [N(NON_FIRST_FRAGMENTS_ALSO),]
                           SA, TSi, TSr,
                           [N(ADDITIONAL_TS_POSSIBLE),]
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
error in Child SA &lt;-- IDr, [CERT+,] creation AUTH, N(error), [V+][N+]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
子SAのエラー&lt;-IDr、[CERT +、]作成AUTH、N（エラー）、[V +] [N +]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="C-3--IKEAUTH-Exchange-with-EAP">
C.3. IKE_AUTH Exchange with EAP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
C.3. EAPを使用したIKE_AUTH交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   first request       --&gt; IDi,
                           [N(INITIAL_CONTACT),]
                           [[N(HTTP_CERT_LOOKUP_SUPPORTED),] CERTREQ+,]
                           [IDr,]
                           [CP(CFG_REQUEST),]
                           [N(IPCOMP_SUPPORTED)+,]
                           [N(USE_TRANSPORT_MODE),]
                           [N(ESP_TFC_PADDING_NOT_SUPPORTED),]
                           [N(NON_FIRST_FRAGMENTS_ALSO),]
                           SA, TSi, TSr,
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
first response &lt;-- IDr, [CERT+,] AUTH, EAP, [V+][N+]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初の応答&lt;-IDr、[CERT +、] AUTH、EAP、[V +] [N +]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
 / --&gt; EAP repeat 1..N times | \ &lt;-- EAP
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
/-&gt; EAP繰り返し1..N回| \ &lt;-EAP
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
last request --&gt; AUTH
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最後のリクエスト-&gt; AUTH
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   last response       &lt;-- AUTH,
                           [CP(CFG_REPLY),]
                           [N(IPCOMP_SUPPORTED),]
                           [N(USE_TRANSPORT_MODE),]
                           [N(ESP_TFC_PADDING_NOT_SUPPORTED),]
                           [N(NON_FIRST_FRAGMENTS_ALSO),]
                           SA, TSi, TSr,
                           [N(ADDITIONAL_TS_POSSIBLE),]
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="C-4--CREATECHILDSA-Exchange-for-Creating-or-Rekeying-Child-SAs">
C.4. CREATE_CHILD_SA Exchange for Creating or Rekeying Child SAs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
C.4. CREATE_CHILD_SA子SAの作成またはキー再生成のための交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   request             --&gt; [N(REKEY_SA),]
                           [CP(CFG_REQUEST),]
                           [N(IPCOMP_SUPPORTED)+,]
                           [N(USE_TRANSPORT_MODE),]
                           [N(ESP_TFC_PADDING_NOT_SUPPORTED),]
                           [N(NON_FIRST_FRAGMENTS_ALSO),]
                           SA, Ni, [KEi,] TSi, TSr,
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   normal              &lt;-- [CP(CFG_REPLY),]
   response                [N(IPCOMP_SUPPORTED),]
                           [N(USE_TRANSPORT_MODE),]
                           [N(ESP_TFC_PADDING_NOT_SUPPORTED),]
                           [N(NON_FIRST_FRAGMENTS_ALSO),]
                           SA, Nr, [KEr,] TSi, TSr,
                           [N(ADDITIONAL_TS_POSSIBLE),]
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
error case &lt;-- N(error)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーケース&lt;-N（エラー）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
different Diffie- &lt;-- N(INVALID_KE_PAYLOAD), Hellman group [V+][N+] wanted
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
異なるDiffie- &lt;-N（INVALID_KE_PAYLOAD）、Hellmanグループ[V +] [N +]が必要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="C-5--CREATECHILDSA-Exchange-for-Rekeying-the-IKE-SA">
C.5. CREATE_CHILD_SA Exchange for Rekeying the IKE SA
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
C.5. IKE SAの鍵を再生成するためのCREATE_CHILD_SA交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   request             --&gt; SA, Ni, KEi,
                           [V+][N+]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
response &lt;-- SA, Nr, KEr, [V+][N+]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンス&lt;-СА、Нр、Кер、ШВ+ЩШН+щ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="C-6--INFORMATIONAL-Exchange">
C.6. INFORMATIONAL Exchange
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
C.6. 情報交換
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   request             --&gt; [N+,]
                           [D+,]
                           [CP(CFG_REQUEST)]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   response            &lt;-- [N+,]
                           [D+,]
                           [CP(CFG_REPLY)]
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Many individuals in the IPsecME Working Group were very helpful in contributing ideas and text for this document, as well as in reviewing the clarifications suggested by others.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPsecMEワーキンググループの多くの個人は、このドキュメントのアイデアやテキストを提供したり、他の人が提案した説明を確認したりするのに非常に役立ちました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The acknowledgements from the IKEv2 document were:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEv2ドキュメントからの謝辞は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a collaborative effort of the entire IPsec WG. If there were no limit to the number of authors that could appear on an RFC, the following, in alphabetical order, would have been listed: Bill Aiello, Stephane Beaulieu, Steve Bellovin, Sara Bitan, Matt Blaze, Ran Canetti, Darren Dukes, Dan Harkins, Paul Hoffman, John Ioannidis, Charlie Kaufman, Steve Kent, Angelos Keromytis, Tero Kivinen, Hugo Krawczyk, Andrew Krywaniuk, Radia Perlman, Omer Reingold, and Michael Richardson. Many other people contributed to the design. It is an evolution of IKEv1, ISAKMP, and the IPsec DOI, each of which has its own list of authors. Hugh Daniel suggested the feature of having the initiator, in message 3, specify a name for the responder, and gave the feature the cute name &#34;You Tarzan, Me Jane&#34;. David Faucher and Valery Smyslov helped refine the design of the Traffic Selector negotiation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IPsec WG全体の共同作業です。 RFCに表示できる著者の数に制限がない場合は、アルファベット順で、Bill Aiello、Stephane Beaulieu、Steve Bellovin、Sara Bitan、Matt Blaze、Ran Canetti、Darren Dukes、ダンハーキンス、ポールホフマン、ジョンイオアニディス、チャーリーカウフマン、スティーブケント、アンジェロスケロミティス、テロキビネン、ヒューゴクローチク、アンドリュークリワニウク、ラディアパールマン、オメールレインゴールド、マイケルリチャードソン。他の多くの人々がデザインに貢献しました。これは、IKEv1、ISAKMP、およびIPsec DOIの進化版であり、それぞれに独自の作者のリストがあります。ヒュー・ダニエルは、メッセージ3でイニシエーターがいることの特徴を提案し、レスポンダの名前を指定し、その特徴にキュートな名前「You Tarzan、Me Jane」を与えました。 David FaucherとValery Smyslovは、Traffic Selectorネゴシエーションの設計を改善するのに役立ちました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Charlie Kaufman Microsoft 1 Microsoft Way Redmond, WA 98052 United States
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
チャーリーカウフマンマイクロソフト1マイクロソフトウェイレドモンド、ワシントン98052アメリカ合衆国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: charliekaufman@outlook.com
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Paul Hoffman VPN Consortium 127 Segre Place Santa Cruz, CA 95060 United States
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Paul Hoffman VPNコンソーシアム127 Segre Place Santa Cruz、CA 95060アメリカ合衆国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Phone: 1-831-426-9827 EMail: paul.hoffman@vpnc.org
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
電話：1-831-426-9827メール：paul.hoffman@vpnc.org
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yoav Nir Check Point Software Technologies Ltd. 5 Hasolelim St. Tel Aviv 6789735 Israel
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yoav Nir ​​Check Point Software Technologies Ltd. 5 Hasolelim St. Tel Aviv 6789735 Israel
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: ynir.ietf@gmail.com
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Pasi Eronen Independent
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
パシエローネンインディペンデント
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: pe@iki.fi
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Tero Kivinen INSIDE Secure Eerikinkatu 28 HELSINKI FI-00180 Finland
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Tero Kivinen INSIDE Secure Eerikinkatu 28 HELSINKI FI-00180フィンランド
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: kivinen@iki.fi
        </pre>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
