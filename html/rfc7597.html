<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 7597 - Mapping of Address and Port with Encapsulation (MAP-E) 日本語訳</title>
  <meta name="description" content="RFC 7597は、MAP-Eと呼ばれるアドレスとポートのマッピングを行うための仕様書です。MAP-Eの目的は、IPv4アドレスをIPv6アドレスに変換するための効果的な方法を提供することです。">
  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./master.css">
  <script src="./index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7597</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc7597">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 7597 - Mapping of Address and Port with Encapsulation (MAP-E) 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc7597">
            https://datatracker.ietf.org/doc/html/rfc7597
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 7597 - カプセル化によるアドレスとポートのマッピング（MAP-E）</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div id="rfc_summary">
      <div class="card mb-3">
        <div class="card-body">
          <p class="card-text">[要約] RFC 7597は、MAP-Eと呼ばれるアドレスとポートのマッピングを行うための仕様書です。MAP-Eの目的は、IPv4アドレスをIPv6アドレスに変換するための効果的な方法を提供することです。</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                     O. Troan, Ed.
Request for Comments: 7597                                        W. Dec
Category: Standards Track                                  Cisco Systems
ISSN: 2070-1721                                                    X. Li
                                                                  C. Bao
                                                     Tsinghua University
                                                           S. Matsushima
                                                        SoftBank Telecom
                                                             T. Murakami
                                                             IP Infusion
                                                          T. Taylor, Ed.
                                                     Huawei Technologies
                                                               July 2015
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Mapping of Address and Port with Encapsulation (MAP-E)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
カプセル化によるアドレスとポートのマッピング（MAP-E）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes a mechanism for transporting IPv4 packets across an IPv6 network using IP encapsulation. It also describes a generic mechanism for mapping between IPv6 addresses and IPv4 addresses as well as transport-layer ports.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、IPカプセル化を使用してIPv6ネットワーク経由でIPv4パケットを転送するメカニズムについて説明します。また、IPv6アドレスとIPv4アドレス、およびトランスポート層ポート間のマッピングの一般的なメカニズムについても説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 5741のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7597.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc7597で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2015 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2015 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象であり、この文書の発行日に有効です。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................4
   2. Conventions .....................................................5
   3. Terminology .....................................................5
   4. Architecture ....................................................7
   5. Mapping Algorithm ...............................................8
      5.1. Port-Mapping Algorithm ....................................10
      5.2. Basic Mapping Rule (BMR) ..................................11
      5.3. Forwarding Mapping Rule (FMR) .............................14
      5.4. Destinations outside the MAP Domain .......................14
   6. The IPv6 Interface Identifier ..................................15
   7. MAP Configuration ..............................................15
      7.1. MAP CE ....................................................15
      7.2. MAP BR ....................................................16
   8. Forwarding Considerations ......................................17
      8.1. Receiving Rules ...........................................17
      8.2. ICMP ......................................................18
      8.3. Fragmentation and Path MTU Discovery ......................18
           8.3.1. Fragmentation in the MAP Domain ....................18
           8.3.2. Receiving IPv4 Fragments on the MAP Domain
                  Borders ............................................19
           8.3.3. Sending IPv4 Fragments to the Outside ..............19
   9. NAT44 Considerations ...........................................19
   10. Security Considerations .......................................20
   11. References ....................................................21
      11.1. Normative References .....................................21
      11.2. Informative References ...................................21
   Appendix A. Examples ..............................................25
   Appendix B. A More Detailed Description of the Derivation of the
               Port-Mapping Algorithm ................................29
     B.1. Bit Representation of the Algorithm ........................31
     B.2. GMA Examples ...............................................32
   Acknowledgements ..................................................32
   Contributors ......................................................33
   Authors&#39; Addresses ................................................34
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mapping of IPv4 addresses in IPv6 addresses has been described in numerous mechanisms dating back to the mid-1990s [RFC1933] [RFC4213]. The &#34;automatic tunneling&#34; mechanism as first described in [RFC1933] assigned a globally unique IPv6 address to a host by combining the host&#39;s IPv4 address with a well-known IPv6 prefix. Given an IPv6 packet with a destination address with an embedded IPv4 address, a node could automatically tunnel this packet by extracting the IPv4 tunnel endpoint address from the IPv6 destination address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6アドレスへのIPv4アドレスのマッピングは、1990年代中頃に遡る多くのメカニズムで説明されています[RFC1933] [RFC4213]。 [RFC1933]で最初に説明された「自動トンネリング」メカニズムは、ホストのIPv4アドレスを既知のIPv6プレフィックスと組み合わせることにより、グローバルに一意のIPv6アドレスをホストに割り当てました。 IPv4パケットが埋め込まれた宛先アドレスを持つIPv6パケットが与えられた場合、ノードはIPv6宛先アドレスからIPv4トンネルエンドポイントアドレスを抽出することにより、このパケットを自動的にトンネルできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are numerous variations of this idea, as described in 6over4 [RFC2529], 6to4 [RFC3056], the Intra-Site Automatic Tunnel Addressing Protocol (ISATAP) [RFC5214], and IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) [RFC5969].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6over4 [RFC2529]、6to4 [RFC3056]、Intra-Site Automatic Tunnel Addressing Protocol（ISATAP）[RFC5214]、およびIPv4インフラストラクチャでのIPv6 Rapid Deployment（6rd）[RFC5969]で説明されているように、このアイデアにはさまざまなバリエーションがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The commonalities of all of these IPv6-over-IPv4 mechanisms are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらすべてのIPv6-over-IPv4メカニズムの共通点は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Automatic provisioning of an IPv6 address for a host or an IPv6 prefix for a site.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ホストのIPv6アドレスまたはサイトのIPv6プレフィックスの自動プロビジョニング。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Algorithmic or implicit address resolution of tunnel endpoint addresses. Given an IPv6 destination address, an IPv4 tunnel endpoint address can be calculated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o トンネルエンドポイントアドレスのアルゴリズムまたは暗黙のアドレス解決。 IPv6宛先アドレスを指定すると、IPv4トンネルエンドポイントアドレスを計算できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Embedding of an IPv4 address or part thereof into an IPv6 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPv4アドレスまたはその一部のIPv6アドレスへの埋め込み。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In later phases of IPv4-to-IPv6 migration, it is expected that IPv6-only networks will be common, while there will still be a need for residual IPv4 deployment. This document describes a generic mapping of IPv4 to IPv6 and a mechanism for encapsulating IPv4 over IPv6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4からIPv6への移行の後半のフェーズでは、IPv6のみのネットワークが一般的であると予想されますが、IPv4の残りの展開が依然として必要です。このドキュメントでは、IPv4からIPv6への一般的なマッピングと、IPv4 over IPv6をカプセル化するメカニズムについて説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Just as for the IPv6-over-IPv4 mechanisms referred to above, the residual IPv4-over-IPv6 mechanism must be capable of:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記のIPv6-over-IPv4メカニズムと同様に、残りのIPv4-over-IPv6メカニズムは以下の機能を備えている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Provisioning an IPv4 prefix, an IPv4 address, or a shared IPv4 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPv4プレフィックス、IPv4アドレス、または共有IPv4アドレスのプロビジョニング。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Algorithmically mapping between an IPv4 prefix, an IPv4 address, or a shared IPv4 address and an IPv6 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPv4プレフィックス、IPv4アドレス、または共有IPv4アドレスとIPv6アドレスの間のアルゴリズムによるマッピング。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The mapping scheme described here supports encapsulation of IPv4 packets in IPv6 in both mesh and hub-and-spoke topologies, including address mappings with full independence between IPv6 and IPv4 addresses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで説明するマッピングスキームは、メッシュトポロジとハブアンドスポークトポロジの両方でIPv6のIPv4パケットのカプセル化をサポートします。これには、IPv6アドレスとIPv4アドレス間の完全な独立性を備えたアドレスマッピングが含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes the delivery of IPv4 unicast service across an IPv6 infrastructure. IPv4 multicast is not considered in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、IPv6インフラストラクチャ全体でのIPv4ユニキャストサービスの配信について説明します。このドキュメントではIPv4マルチキャストは考慮されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Address plus Port (A+P) architecture of sharing an IPv4 address by distributing the port space is described in [RFC6346]. Specifically, Section 4 of [RFC6346] covers stateless mapping. The corresponding stateful solution, Dual-Stack Lite (DS-Lite), is described in [RFC6333]. The motivations for this work are described in [Solutions-4v6].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポートスペースを分散することによりIPv4アドレスを共有するアドレスプラスポート（A + P）アーキテクチャは、[RFC6346]で説明されています。具体的には、[RFC6346]のセクション4でステートレスマッピングについて説明しています。対応するステートフルソリューションであるDual-Stack Lite（DS-Lite）については、[RFC6333]で説明されています。この作業の動機は、[Solutions-4v6]で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7598] defines DHCPv6 options for the provisioning of MAP. Other means of provisioning are possible. Deployment considerations are described in [MAP-Deploy].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7598]は、MAPのプロビジョニング用のDHCPv6オプションを定義しています。他のプロビジョニング方法も可能です。展開に関する考慮事項は、[MAP-Deploy]で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP relies on IPv6 and is designed to deliver dual-stack service while allowing IPv4 to be phased out within the service provider&#39;s (SP&#39;s) network. The phasing out of IPv4 within the SP network is independent of whether the end user disables IPv4 service or not. Further, &#34;greenfield&#34; IPv6-only networks may use MAP in order to deliver IPv4 to sites via the IPv6 network.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPはIPv6に依存しており、サービスプロバイダー（SP）のネットワーク内でIPv4を段階的に廃止しながらデュアルスタックサービスを提供するように設計されています。 SPネットワーク内のIPv4の段階的廃止は、エンドユーザーがIPv4サービスを無効にするかどうかに依存しません。さらに、「グリーンフィールド」IPv6のみのネットワークは、IPv4をIPv6ネットワーク経由でサイトに配信するためにMAPを使用する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--Conventions">
2. Conventions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 規約
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in RFC 2119 [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントのキーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、および「OPTIONAL」は、 RFC 2119 [RFC2119]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--Terminology">
3. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 用語
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP domain: One or more MAP Customer Edge (CE) devices and Border Relays (BRs) connected to the same virtual link. A service provider may deploy a single MAP domain or may utilize multiple MAP domains.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPドメイン：同じ仮想リンクに接続された1つ以上のMAPカスタマーエッジ（CE）デバイスとボーダーリレー（BR）。サービスプロバイダーは、単一のMAPドメインを展開することも、複数のMAPドメインを利用することもできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP Rule: A set of parameters describing the mapping between an IPv4 prefix, IPv4 address, or shared IPv4 address and an IPv6 prefix or address. Each domain uses a different mapping rule set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPルール：IPv4プレフィックス、IPv4アドレス、または共有IPv4アドレスとIPv6プレフィックスまたはアドレスの間のマッピングを説明するパラメーターのセット。各ドメインは異なるマッピングルールセットを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP node: A device that implements MAP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノード：MAPを実装するデバイス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP Border Relay (BR): A MAP-enabled router managed by the service provider at the edge of a MAP domain. A BR has at least an IPv6-enabled interface and an IPv4 interface connected to the native IPv4 network. A MAP BR may also be referred to as simply a &#34;BR&#34; within the context of MAP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPボーダーリレー（BR）：MAPドメインのエッジでサービスプロバイダーによって管理されるMAP対応ルーター。 BRには、ネイティブIPv4ネットワークに接続された少なくともIPv6対応のインターフェースとIPv4インターフェースがあります。 ＭＡＰ ＢＲは、ＭＡＰのコンテキスト内では単に「ＢＲ」と呼ばれることもある。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP Customer Edge (CE): A device functioning as a Customer Edge router in a MAP deployment. A typical MAP CE adopting MAP Rules will serve a residential site with one WAN-side interface and one or more LAN-side interfaces. A MAP CE may also be referred to as simply a &#34;CE&#34; within the context of MAP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPカスタマーエッジ（CE）：MAP展開でカスタマーエッジルーターとして機能するデバイス。 MAPルールを採用している一般的なMAP CEは、1つのWAN側のインターフェイスと1つ以上のLAN側のインターフェイスを持つ住宅地にサービスを提供します。 MAP CEは、MAPのコンテキスト内では単に「CE」とも呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Port set: Each node has a separate part of the transport-layer port space; this is denoted as a port set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポートセット：各ノードには、トランスポート層ポートスペースの個別の部分があります。これはポートセットと呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Port Set ID (PSID): Algorithmically identifies a set of ports exclusively assigned to a CE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポートセットID（PSID）：CEに排他的に割り当てられたポートのセットをアルゴリズムによって識別します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Shared IPv4 address: An IPv4 address that is shared among multiple CEs. Only ports that belong to the assigned port set can be used for communication. Also known as a port-restricted IPv4 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
共有IPv4アドレス：複数のCE間で共有されるIPv4アドレス。割り当てられたポートセットに属するポートのみが通信に使用できます。ポート制限IPv4アドレスとも呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
End-user IPv6 prefix: The IPv6 prefix assigned to an End-user CE by means other than MAP itself, e.g., provisioned using DHCPv6 Prefix Delegation (PD) [RFC3633], assigned via Stateless Address Autoconfiguration (SLAAC) [RFC4862], or configured manually. It is unique for each CE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エンドユーザーIPv6プレフィックス：MAP自体以外の方法でエンドユーザーCEに割り当てられたIPv6プレフィックス。たとえば、DHCPv6プレフィックス委任（PD）[RFC3633]を使用してプロビジョニングされ、ステートレスアドレス自動構成（SLAAC）[RFC4862]を介して割り当てられます。または手動で構成されます。各CEに固有です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP IPv6 address: The IPv6 address used to reach the MAP function of a CE from other CEs and from BRs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP IPv6アドレス：他のCEおよびBRからCEのMAP機能に到達するために使用されるIPv6アドレス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rule IPv6 prefix: An IPv6 prefix assigned by a service provider for a mapping rule.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ルールIPv6プレフィックス：マッピングルールのサービスプロバイダーによって割り当てられたIPv6プレフィックス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rule IPv4 prefix: An IPv4 prefix assigned by a service provider for a mapping rule.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ルールIPv4プレフィックス：サービスプロバイダーによってマッピングルールに割り当てられたIPv4プレフィックス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Embedded Address (EA) bits: The IPv4 EA-bits in the IPv6 address identify an IPv4 prefix/address (or part thereof) or a shared IPv4 address (or part thereof) and a Port Set Identifier.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
埋め込みアドレス（EA）ビット：IPv6アドレスのIPv4 EAビットは、IPv4プレフィックス/アドレス（またはその一部）または共有IPv4アドレス（またはその一部）およびポートセット識別子を識別します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--Architecture">
4. Architecture
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 建築
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In accordance with the requirements stated above, the MAP mechanism can operate with shared IPv4 addresses, full IPv4 addresses, or IPv4 prefixes. Operation with shared IPv4 addresses is described here, and the differences for full IPv4 addresses and prefixes are described below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の要件に従って、MAPメカニズムは、共有IPv4アドレス、完全なIPv4アドレス、またはIPv4プレフィックスで動作できます。ここでは、共有IPv4アドレスでの操作について説明します。完全なIPv4アドレスとプレフィックスの違いについては、以下で説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP mechanism uses existing standard building blocks. The existing Network Address and Port Translator (NAPT) [RFC2663] on the CE is used with additional support for restricting transport-protocol ports, ICMP identifiers, and fragment identifiers to the configured port set. For packets outbound from the private IPv4 network, the CE NAPT MUST translate transport identifiers (e.g., TCP and UDP port numbers) so that they fall within the CE&#39;s assigned port range.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPメカニズムは、既存の標準的な構成要素を使用します。 CE上の既存のネットワークアドレスおよびポートトランスレーター（NAPT）[RFC2663]は、トランスポートプロトコルポート、ICMP ID、およびフラグメントIDを構成済みのポートセットに制限するための追加サポートとともに使用されます。プライベートIPv4ネットワークから送信されるパケットの場合、CE NAPTは、トランスポート識別子（TCPおよびUDPポート番号など）を変換して、CEに割り当てられたポート範囲内に収まるようにする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NAPT MUST in turn be connected to a MAP-aware forwarding function that does encapsulation/decapsulation of IPv4 packets in IPv6. MAP supports the encapsulation mode specified in [RFC2473]. In addition, MAP specifies an algorithm to do &#34;address resolution&#34; from an IPv4 address and port to an IPv6 address. This algorithmic mapping is specified in Section 5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NAPTは、IPv6のIPv4パケットのカプセル化/カプセル化解除を行うMAP対応の転送機能に接続する必要があります。 MAPは、[RFC2473]で指定されているカプセル化モードをサポートしています。さらに、MAPは、IPv4アドレスとポートからIPv6アドレスへの「アドレス解決」を行うアルゴリズムを指定します。このアルゴリズムのマッピングは、セクション5で指定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP architecture described here restricts the use of the shared IPv4 address to only be used as the global address (outside) of the NAPT running on the CE. A shared IPv4 address MUST NOT be used to identify an interface. While it is theoretically possible to make host stacks and applications port-aware, it would be a drastic change to the IP model [RFC6250].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで説明するMAPアーキテクチャは、共有IPv4アドレスの使用を、CEで実行されているNAPTのグローバルアドレス（外部）としてのみ使用するように制限します。共有IPv4アドレスは、インターフェースを識別するために使用してはなりません（MUST NOT）。ホストスタックとアプリケーションをポート対応にすることは理論的には可能ですが、IPモデル[RFC6250]は大幅に変更されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For full IPv4 addresses and IPv4 prefixes, the architecture just described applies, with two differences: first, a full IPv4 address or IPv4 prefix can be used as it is today, e.g., for identifying an interface or as a DHCP pool, respectively. Second, the NAPT is not required to restrict the ports used on outgoing packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
完全なIPv4アドレスとIPv4プレフィックスについては、前述のアーキテクチャが適用されますが、2つの違いがあります。1つ目は、完全なIPv4アドレスまたはIPv4プレフィックスを現在のように、たとえば、それぞれインターフェイスを識別するため、またはDHCPプールとして使用できることです。次に、NAPTは、発信パケットで使用されるポートを制限する必要はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This architecture is illustrated in Figure 1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このアーキテクチャを図1に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
         User N
       Private IPv4
      |  Network
      |
   O--+---------------O
   |  |  MAP CE       |
   | +-----+--------+ |
   | NAPT44|  MAP   | |
   | +-----+        | |\     ,-------.                      .------.
   |       +--------+ | \ ,-&#39;         `-.                 ,-&#39;       `-.
   O------------------O  /              \   O---------O  /   Public   \
                        /    IPv6-only  \  |  MAP    | /     IPv4      \
                       (    Network      --+  Border +-     Network    )
                        \  (MAP Domain) /  |  Relay  | \               /
   O------------------O  \              /   O---------O  \            /
   |    MAP   CE      |  /&#34;.         ,-&#39;                 `-.       ,-&#39;
   | +-----+--------+ | /   `----+--&#39;                       ------&#39;
   | NAPT44|  MAP   | |/
   | +-----+        | |
   |   |   +--------+ |
   O---+--------------O
       |
        User M
      Private IPv4
        Network
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
Figure 1: Network Topology
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
図1：ネットワークトポロジ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP BR connects one or more MAP domains to external IPv4 networks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP BRは、1つ以上のMAPドメインを外部IPv4ネットワークに接続します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--Mapping-Algorithm">
5. Mapping Algorithm
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. マッピングアルゴリズム
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP node is provisioned with one or more mapping rules.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノードには、1つ以上のマッピングルールがプロビジョニングされています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mapping rules are used differently, depending on their function. Every MAP node must be provisioned with a Basic Mapping Rule. This is used by the node to configure its IPv4 address, IPv4 prefix, or shared IPv4 address. This same basic rule can also be used for forwarding, where an IPv4 destination address and, optionally, a destination port are mapped into an IPv6 address. Additional mapping rules are specified to allow for multiple different IPv4 subnets to exist within the domain and optimize forwarding between them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
マッピングルールの使用方法は、機能によって異なります。すべてのMAPノードは、基本的なマッピングルールを使用してプロビジョニングする必要があります。これは、ノードがそのIPv4アドレス、IPv4プレフィックス、または共有IPv4アドレスを構成するために使用します。この同じ基本ルールは、IPv4宛先アドレスとオプションで宛先ポートがIPv6アドレスにマップされる転送にも使用できます。複数の異なるIPv4サブネットがドメイン内に存在し、それらの間の転送を最適化できるように、追加のマッピングルールが指定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Traffic outside of the domain (i.e., when the destination IPv4 address does not match (using longest matching prefix) any Rule IPv4 prefix in the Rules database) is forwarded to the BR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ドメイン外のトラフィック（つまり、宛先IPv4アドレスが（最長一致プレフィックスを使用して）一致しない場合（ルールデータベースのルールIPv4プレフィックス））BRに転送されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are two types of mapping rules:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
マッピングルールには次の2つのタイプがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Basic Mapping Rule (BMR) - mandatory. A CE can be provisioned with multiple End-user IPv6 prefixes. There can only be one Basic Mapping Rule per End-user IPv6 prefix. However, all CEs having End-user IPv6 prefixes within (aggregated by) the same Rule IPv6 prefix may share the same Basic Mapping Rule. In combination with the End-user IPv6 prefix, the Basic Mapping Rule is used to derive the IPv4 prefix, address, or shared address and the PSID assigned to the CE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 基本マッピングルール（BMR）-必須。 CEは、複数のエンドユーザーIPv6プレフィックスでプロビジョニングできます。エンドユーザーIPv6プレフィックスごとに1つの基本マッピングルールのみが存在できます。ただし、同じルールIPv6プレフィックス内に（集約される）エンドユーザーIPv6プレフィックスを持つすべてのCEは、同じ基本マッピングルールを共有できます。エンドユーザーIPv6プレフィックスと組み合わせて、基本マッピングルールを使用して、IPv4プレフィックス、アドレス、または共有アドレスとCEに割り当てられたPSIDを導出します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Forwarding Mapping Rule (FMR) - optional; used for forwarding. The Basic Mapping Rule may also be a Forwarding Mapping Rule. Each Forwarding Mapping Rule will result in an entry in the rule table for the Rule IPv4 prefix. Given a destination IPv4 address and port within the MAP domain, a MAP node can use the matching FMR to derive the End-user IPv6 address of the interface through which that IPv4 destination address and port combination can be reached. In hub-and-spoke mode, there are no FMRs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 転送マッピングルール（FMR）-オプション。転送に使用されます。基本マッピングルールは、転送マッピングルールにすることもできます。転送マッピングルールごとに、ルールテーブルにルールIPv4プレフィックスのエントリが作成されます。 MAPドメイン内の宛先IPv4アドレスとポートを指定すると、MAPノードは一致するFMRを使用して、そのIPv4宛先アドレスとポートの組み合わせに到達できるインターフェースのエンドユーザーIPv6アドレスを導出できます。ハブアンドスポークモードでは、FMRはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Both mapping rules share the same parameters:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
両方のマッピングルールは同じパラメーターを共有します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Rule IPv6 prefix (including prefix length)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ルールIPv6プレフィックス（プレフィックス長を含む）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Rule IPv4 prefix (including prefix length)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ルールIPv4プレフィックス（プレフィックス長を含む）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Rule EA-bit length (in bits)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ルールEAビット長（ビット単位）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP node finds its BMR by doing a longest match between the End-user IPv6 prefix and the Rule IPv6 prefix in the Mapping Rules table. The rule is then used for IPv4 prefix, address, or shared address assignment.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノードは、マッピングルールテーブルのエンドユーザーIPv6プレフィックスとルールIPv6プレフィックスの間で最長一致を実行することにより、BMRを見つけます。その後、ルールはIPv4プレフィックス、アドレス、または共有アドレスの割り当てに使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP IPv6 address is formed from the BMR Rule IPv6 prefix. This address MUST be assigned to an interface of the MAP node and is used to terminate all MAP traffic being sent or received to the node.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP IPv6アドレスは、BMRルールIPv6プレフィックスから形成されます。このアドレスはMAPノードのインターフェースに割り当てられる必要があり、ノードに送信または受信されるすべてのMAPトラフィックを終了するために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Port-restricted IPv4 routes are installed in the rule table for all the Forwarding Mapping Rules, and a default route is installed to the MAP BR (see Section 5.4).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべての転送マッピングルールのルールテーブルにポート制限のIPv4ルートがインストールされ、MAP BRへのデフォルトルートがインストールされます（セクション5.4を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Forwarding Mapping Rules are used to allow direct communication between MAP CEs; this is known as &#34;Mesh mode&#34;. In hub-and-spoke mode, there are no Forwarding Mapping Rules; all traffic MUST be forwarded directly to the BR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
転送マッピングルールは、MAP CE間の直接通信を可能にするために使用されます。これは「メッシュモード」と呼ばれます。ハブアンドスポークモードでは、転送マッピングルールはありません。すべてのトラフィックはBRに直接転送される必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While an FMR is optional in the sense that a MAP CE MAY be configured with zero or more FMRs -- depending on the deployment -- all MAP CEs MUST implement support for both rule types.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FMRは、MAP CEを0個以上のFMRで（配置によっては）構成できるという意味でオプションですが、すべてのMAP CEは両方のルールタイプのサポートを実装する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-1--Port-Mapping-Algorithm">
5.1. Port-Mapping Algorithm
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. ポートマッピングアルゴリズム
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The port-mapping algorithm is used in domains whose rules allow IPv4 address sharing.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポートマッピングアルゴリズムは、IPv4アドレス共有を許可するルールのドメインで使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The simplest way to represent a port range is using a notation similar to Classless Inter-Domain Routing (CIDR) [RFC4632]. For example, the first 256 ports are represented as port prefix 0.0/8 and the last 256 ports as 255.0/8. In hexadecimal, these would be 0x0000/8 (PSID = 0) and 0xFF00/8 (PSID = 0xFF), respectively. Using this technique but wishing to avoid allocating the system ports [RFC6335] to the user, one would have to exclude the use of one or more PSIDs (e.g., PSIDs 0 to 3 in the example just given).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポート範囲を表す最も簡単な方法は、クラスレスドメイン間ルーティング（CIDR）[RFC4632]と同様の表記法を使用することです。たとえば、最初の256ポートはポートプレフィックス0.0 / 8として表され、最後の256ポートは255.0 / 8として表されます。 16進数では、これらはそれぞれ0x0000 / 8（PSID = 0）と0xFF00 / 8（PSID = 0xFF）になります。この手法を使用するが、システムポート[RFC6335]をユーザーに割り当てないようにするには、1つ以上のPSID（たとえば、上記の例ではPSID 0〜3）の使用を除外する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the PSID is embedded in the End-user IPv6 prefix, it is desirable to minimize the restrictions of possible PSID values in order to minimize dependencies between the End-user IPv6 prefix and the assigned port set. This is achieved by using an infix representation of the port value. Using such a representation, the well-known ports are excluded by restrictions on the value of the high-order bit field (A) rather than the PSID.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PSIDがエンドユーザーIPv6プレフィックスに埋め込まれている場合、エンドユーザーIPv6プレフィックスと割り当てられたポートセット間の依存関係を最小限に抑えるために、可能なPSID値の制限を最小限に抑えることが望ましいです。これは、ポート値のインフィックス表現を使用して実現されます。このような表現を使用すると、既知のポートは、PSIDではなく高位ビットフィールド（A）の値に対する制限によって除外されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The infix algorithm allocates ports to a given CE as a series of contiguous ranges spaced at regular intervals throughout the complete range of possible port-set values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
インフィックスアルゴリズムは、可能なポートセット値の全範囲にわたって一定の間隔で配置された一連の連続した範囲として、ポートを特定のCEに割り当てます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                              0                   1
                              0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
                             +-----------+-----------+-------+
               Ports in      |     A     |    PSID   |   j   |
            the CE port set  |    &gt; 0    |           |       |
                             +-----------+-----------+-------+
                             |  a bits   |  k bits   |m bits |
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
Figure 2: Structure of a Port-Restricted Port Field
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
図2：ポート制限ポートフィールドの構造
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
a bits: The number of offset bits -- 6 by default, as this excludes the system ports (0-1023). To guarantee non-overlapping port sets, the offset &#39;a&#39; MUST be the same for every MAP CE sharing the same address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
aビット：オフセットビットの数-システムポート（0-1023）を除くため、デフォルトでは6。重複しないポートセットを保証するには、オフセット「a」は、同じアドレスを共有するすべてのMAP CEで同じでなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
A: Selects the range of the port number. For &#39;a&#39; &gt; 0, A MUST be larger than 0. This ensures that the algorithm excludes the system ports. For the default value of &#39;a&#39; (6), the system ports are excluded by requiring that A be greater than 0. Smaller values of &#39;a&#39; exclude a larger initial range, e.g., &#39;a&#39; = 4 will exclude ports 0-4095. The interval between initial port numbers of successive contiguous ranges assigned to the same user is 2^(16 - a).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
A：ポート番号の範囲を選択します。 &#39;a&#39;&gt; 0の場合、Aは0より大きい必要があります。これにより、アルゴリズムがシステムポートを除外することが保証されます。デフォルト値「a」（6）の場合、システムポートは、Aが0より大きいことを要求することによって除外されます。「a」の値が小さいほど、初期範囲が大きくなります。たとえば、「a」= 4は、ポート0-を除外します4095。同じユーザーに割り当てられた連続する連続する範囲の初期ポート番号の間隔は2 ^（16-a）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
k bits: The length in bits of the PSID field. To guarantee non-overlapping port sets, the length &#39;k&#39; MUST be the same for every MAP CE sharing the same address. The sharing ratio is 2^k. The number of ports assigned to the user is 2^(16 - k) - 2^m (excluded ports).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
kビット：PSIDフィールドのビット単位の長さ。重複しないポートセットを保証するには、長さ「k」は、同じアドレスを共有するすべてのMAP CEで同じでなければなりません。共有比率は2 ^ kです。ユーザーに割り当てられたポートの数は、2 ^（16-k）-2 ^ m（除外されたポート）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
PSID: The Port Set Identifier (PSID). Different PSID values guarantee non-overlapping port sets, thanks to the restrictions on &#39;a&#39; and &#39;k&#39; stated above, because the PSID always occupies the same bit positions in the port number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
PSID：ポートセット識別子（PSID）。 PSIDは常にポート番号の同じビット位置を占めるため、上記の「a」と「k」に対する制限のおかげで、異なるPSID値は重複しないポートセットを保証します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
m bits: The number of contiguous ports is given by 2^m.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
mビット：隣接するポートの数は2 ^ mで与えられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
j: Selects the specific port within a particular range specified by the concatenation of A and the PSID.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
j：AとPSIDの連結によって指定された特定の範囲内の特定のポートを選択します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-2--Basic-Mapping-Rule-BMR">
5.2. Basic Mapping Rule (BMR)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. 基本マッピングルール（BMR）
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Basic Mapping Rule is mandatory and is used by the CE to provision itself with an IPv4 prefix, IPv4 address, or shared IPv4 address. Recall from Section 5 that the BMR consists of the following parameters:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
基本マッピングルールは必須であり、CEがIPv4プレフィックス、IPv4アドレス、または共有IPv4アドレスをプロビジョニングするために使用します。セクション5から、BMRは以下のパラメーターで構成されていることを思い出してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Rule IPv6 prefix (including prefix length)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ルールIPv6プレフィックス（プレフィックス長を含む）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Rule IPv4 prefix (including prefix length)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ルールIPv4プレフィックス（プレフィックス長を含む）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 o Rule EA-bit length (in bits) Figure 3 shows the structure of the complete MAP IPv6 address as specified in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
oルールEAビット長（ビット単位）図3は、このドキュメントで指定されている完全なMAP IPv6アドレスの構造を示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |     n bits         |  o bits   | s bits  |   128-n-o-s bits      |
   +--------------------+-----------+---------+-----------------------+
   |  Rule IPv6 prefix  |  EA bits  |subnet ID|     interface ID      |
   +--------------------+-----------+---------+-----------------------+
   |&lt;---  End-user IPv6 prefix  ---&gt;|
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 3: MAP IPv6 Address Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図3：MAP IPv6アドレス形式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Rule IPv6 prefix is common among all CEs using the same Basic Mapping Rule within the MAP domain. The EA bit field encodes the CE-specific IPv4 address and port information. The EA bit field, which is unique for a given Rule IPv6 prefix, can contain a full or partial IPv4 address and, in the shared IPv4 address case, a PSID. An EA bit field length of 0 signifies that all relevant MAP IPv4 addressing information is passed directly in the BMR and is not derived from the EA bit field in the End-user IPv6 prefix.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ルールIPv6プレフィックスは、MAPドメイン内で同じ基本マッピングルールを使用するすべてのCE間で共通です。 EAビットフィールドは、CE固有のIPv4アドレスとポート情報をエンコードします。特定のルールIPv6プレフィックスに固有のEAビットフィールドには、完全または部分的なIPv4アドレスを含めることができ、共有IPv4アドレスの場合はPSIDを含めることができます。 EAビットフィールド長が0の場合は、関連するすべてのMAP IPv4アドレッシング情報がBMRで直接渡され、エンドユーザーIPv6プレフィックスのEAビットフィールドから導出されないことを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP IPv6 address is created by concatenating the End-user IPv6 prefix with the MAP subnet identifier (if the End-user IPv6 prefix is shorter than 64 bits) and the interface identifier as specified in Section 6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP IPv6アドレスは、エンドユーザーIPv6プレフィックスとMAPサブネット識別子（エンドユーザーIPv6プレフィックスが64ビットより短い場合）およびセクション6で指定されているインターフェイス識別子を連結して作成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP subnet identifier is defined to be the first subnet (s bits set to zero).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPサブネット識別子は、最初のサブネット（ゼロに設定されたsビット）になるように定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Define:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定義：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
r = length of the IPv4 prefix given by the BMR;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
r = BMRによって指定されたIPv4プレフィックスの長さ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
o = length of the EA bit field as given by the BMR;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
o = BMRで指定されたEAビットフィールドの長さ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
p = length of the IPv4 suffix contained in the EA bit field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
p = EAビットフィールドに含まれるIPv4サフィックスの長さ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The length r MAY be zero, in which case the complete IPv4 address or prefix is encoded in the EA bits. If only a part of the IPv4 address / prefix is encoded in the EA bits, the Rule IPv4 prefix is provisioned to the CE by other means (e.g., a DHCPv6 option). To create a complete IPv4 address (or prefix), the IPv4 address suffix (p) from the EA bits is concatenated with the Rule IPv4 prefix (r bits).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
長さrはゼロである場合があります。その場合、完全なIPv4アドレスまたはプレフィックスがEAビットでエンコードされます。 IPv4アドレス/プレフィックスの一部のみがEAビットでエンコードされている場合、ルールIPv4プレフィックスは他の手段（DHCPv6オプションなど）によってCEにプロビジョニングされます。完全なIPv4アドレス（またはプレフィックス）を作成するには、EAビットからのIPv4アドレスサフィックス（p）をルールIPv4プレフィックス（rビット）と連結します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The offset of the EA bit field in the IPv6 address is equal to the BMR Rule IPv6 prefix length. The length of the EA bit field (o) is given by the BMR Rule EA-bit length and can be between 0 and 48. A length of 48 means that the complete IPv4 address and port are embedded in the End-user IPv6 prefix (a single port is assigned). A length of 0 means that no part of the IPv4 address or port is embedded in the address. The sum of the Rule IPv6 Prefix length and the Rule EA-bit length MUST be less than or equal to the End-user IPv6 prefix length.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IPv6アドレスのEAビットフィールドのオフセットは、BMRルールのIPv6プレフィックス長と同じです。 EAビットフィールド（o）の長さは、BMRルールのEAビット長で指定され、0〜48の範囲で指定できます。48の長さは、完全なIPv4アドレスとポートがエンドユーザーIPv6プレフィックス（単一のポートが割り当てられます）。長さ0は、IPv4アドレスまたはポートのどの部分もアドレスに埋め込まれていないことを意味します。ルールIPv6プレフィックス長とルールEAビット長の合計は、エンドユーザーIPv6プレフィックス長以下でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If o + r &lt; 32 (length of the IPv4 address in bits), then an IPv4 prefix is assigned. This case is shown in Figure 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o + r &lt;32（ビット単位のIPv4アドレスの長さ）の場合、IPv4プレフィックスが割り当てられます。このケースを図4に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                   |   r bits    |  o bits =  p bits   |
                   +-------------+---------------------+
                   |  Rule IPv4  | IPv4 address suffix |
                   +-------------+---------------------+
                   |           &lt; 32 bits               |
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-27">
Figure 4: IPv4 Prefix
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-27">
図4：IPv4プレフィックス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If o + r is equal to 32, then a full IPv4 address is to be assigned. The address is created by concatenating the Rule IPv4 prefix and the EA-bits. This case is shown in Figure 5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o + rが32に等しい場合、完全なIPv4アドレスが割り当てられます。アドレスは、ルールIPv4プレフィックスとEAビットを連結することによって作成されます。このケースを図5に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                   |   r bits    |  o bits = p bits    |
                   +-------------+---------------------+
                   |  Rule IPv4  | IPv4 address suffix |
                   +-------------+---------------------+
                   |            32 bits                |
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
Figure 5: Complete IPv4 Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
図5：完全なIPv4アドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If o + r is &gt; 32, then a shared IPv4 address is to be assigned. The number of IPv4 address suffix bits (p) in the EA bits is given by 32 - r bits. The PSID bits are used to create a port set. The length of the PSID bit field within the EA bits is q = o - p.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o + rが&gt; 32の場合、共有IPv4アドレスが割り当てられます。 EAビットのIPv4アドレスサフィックスビット（p）の数は、32-rビットで指定されます。 PSIDビットは、ポートセットの作成に使用されます。 EAビット内のPSIDビットフィールドの長さはq = o-pです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       |   r bits    |        p bits       |         |   q bits   |
       +-------------+---------------------+         +------------+
       |  Rule IPv4  | IPv4 address suffix |         |Port Set ID |
       +-------------+---------------------+         +------------+
       |            32 bits                |
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-23">
Figure 6: Shared IPv4 Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-23">
図6：共有IPv4アドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The length of r MAY be 32, with no part of the IPv4 address embedded in the EA bits. This results in a mapping with no dependence between the IPv4 address and the IPv6 address. In addition, the length of o MAY be zero (no EA bits embedded in the End-user IPv6 prefix), meaning that the PSID is also provisioned using, for example, DHCP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
rの長さは32であってもよく、EAビットにIPv4アドレスの一部が埋め込まれていません。これにより、IPv4アドレスとIPv6アドレス間の依存関係のないマッピングが生成されます。さらに、oの長さはゼロ（エンドユーザーのIPv6プレフィックスにEAビットが埋め込まれていない）である可能性があります（つまり、PSIDもDHCPなどを使用してプロビジョニングされます）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See Appendix A for an example of the Basic Mapping Rule.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
基本的なマッピングルールの例については、付録Aを参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-3--Forwarding-Mapping-Rule-FMR">
5.3. Forwarding Mapping Rule (FMR)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. 転送マッピングルール（FMR）
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Forwarding Mapping Rule is optional and is used in Mesh mode to enable direct CE-to-CE connectivity.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
転送マッピングルールはオプションであり、メッシュモードで使用してCEからCEへの直接接続を有効にします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
On adding an FMR rule, an IPv4 route is installed in the rule table for the Rule IPv4 prefix (Figures 4, 5, and 6).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FMRルールを追加すると、IPv4ルートがルールIPv4プレフィックスのルールテーブルにインストールされます（図4、5、および6）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |        32 bits           |         |    16 bits        |
   +--------------------------+         +-------------------+
   | IPv4 destination address |         |  IPv4 dest port   |
   +--------------------------+         +-------------------+
                  :           :           ___/       :
                  |  p bits   |          /  q bits   :
                  +-----------+         +------------+
                  |IPv4 suffix|         |Port Set ID |
                  +-----------+         +------------+
                   \          /    ____/    ________/
                     \       :  __/   _____/
                       \     : /     /
   |     n bits         |  o bits   | s bits  |   128-n-o-s bits      |
   +--------------------+-----------+---------+------------+----------+
   |  Rule IPv6 prefix  |  EA bits  |subnet ID|     interface ID      |
   +--------------------+-----------+---------+-----------------------+
   |&lt;---  End-user IPv6 prefix  ---&gt;|
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
Figure 7: Derivation of MAP IPv6 Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
図7：MAP IPv6アドレスの導出
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See Appendix A for an example of the Forwarding Mapping Rule.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
転送マッピングルールの例については、付録Aを参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-4--Destinations-outside-the-MAP-Domain">
5.4. Destinations outside the MAP Domain
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. MAPドメイン外の宛先
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4 traffic between MAP nodes that are all within one MAP domain is encapsulated in IPv6, with the sender&#39;s MAP IPv6 address as the IPv6 source address and the receiving MAP node&#39;s MAP IPv6 address as the IPv6 destination address. To reach IPv4 destinations outside of the MAP domain, traffic is also encapsulated in IPv6, but the destination IPv6 address is set to the configured IPv6 address of the MAP BR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてが1つのMAPドメイン内にあるMAPノード間のIPv4トラフィックはIPv6にカプセル化され、送信者のMAP IPv6アドレスがIPv6送信元アドレスとして、受信MAPノードのMAP IPv6アドレスがIPv6宛先アドレスとして使用されます。 MAPドメイン外のIPv4宛先に到達するために、トラフィックもIPv6にカプセル化されますが、宛先IPv6アドレスはMAP BRの構成済みIPv6アドレスに設定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
On the CE, the path to the BR can be represented as a point-to-point IPv4-over-IPv6 tunnel [RFC2473] with the source address of the tunnel being the CE&#39;s MAP IPv6 address and the BR IPv6 address as the remote tunnel address. When MAP is enabled, a typical CE router will install a default IPv4 route to the BR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CEでは、BRへのパスはポイントツーポイントIPv4-over-IPv6トンネル[RFC2473]として表すことができます。トンネルのソースアドレスはCEのMAP IPv6アドレスであり、BR IPv6アドレスはリモートトンネルです住所。 MAPを有効にすると、通常のCEルーターはBRへのデフォルトのIPv4ルートをインストールします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The BR forwards traffic received from the outside to CEs using the normal MAP forwarding rules.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
BRは、通常のMAP転送ルールを使用して、外部から受信したトラフィックをCEに転送します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--The-IPv6-Interface-Identifier">
6. The IPv6 Interface Identifier
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. IPv6インターフェース識別子
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The interface identifier format of a MAP node is described below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノードのインターフェース識別子の形式を以下に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                   |          128-n-o-s bits          |
                   | 16 bits|    32 bits     | 16 bits|
                   +--------+----------------+--------+
                   |   0    |  IPv4 address  |  PSID  |
                   +--------+----------------+--------+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-20">
Figure 8: IPv6 Interface Identifier
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-20">
図8：IPv6インターフェース識別子
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of an IPv4 prefix, the IPv4 address field is right-padded with zeros up to 32 bits. The PSID field is left-padded with zeros to create a 16-bit field. For an IPv4 prefix or a complete IPv4 address, the PSID field is zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4プレフィックスの場合、IPv4アドレスフィールドには、32ビットまでのゼロが右側に埋め込まれます。 PSIDフィールドは、16ビットのフィールドを作成するためにゼロが左側に埋め込まれます。 IPv4プレフィックスまたは完全なIPv4アドレスの場合、PSIDフィールドはゼロです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the End-user IPv6 prefix length is larger than 64, the most significant parts of the interface identifier are overwritten by the prefix.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エンドユーザーのIPv6プレフィックス長が64を超える場合、インターフェース識別子の最も重要な部分がプレフィックスによって上書きされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--MAP-Configuration">
7. MAP Configuration
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. MAP設定
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a given MAP domain, the BR and CE MUST be configured with the following MAP elements. The configured values for these elements are identical for all CEs and BRs within a given MAP domain.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
特定のMAPドメインでは、BRおよびCEは次のMAP要素で構成する必要があります。これらの要素の設定値は、特定のMAPドメイン内のすべてのCEおよびBRで同一です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The Basic Mapping Rule and, optionally, the Forwarding Mapping Rules, including the Rule IPv6 prefix, Rule IPv4 prefix, and Length of EA bits.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 基本マッピングルール、およびオプションで、ルールIPv6プレフィックス、ルールIPv4プレフィックス、およびEAビットの長さを含む転送マッピングルール。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Hub-and-spoke mode or Mesh mode (if all traffic should be sent to the BR, or if direct CE-to-CE traffic should be supported).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ハブアンドスポークモードまたはメッシュモード（すべてのトラフィックをBRに送信する必要がある場合、またはCEからCEへの直接トラフィックをサポートする必要がある場合）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition, the MAP CE MUST be configured with the IPv6 address(es) of the MAP BR (Section 5.4).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
さらに、MAP CEはMAP BRのIPv6アドレスで構成する必要があります（セクション5.4）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-1--MAP-CE">
7.1. MAP CE
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. マップCE
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The MAP elements are set to values that are the same across all CEs within a MAP domain. The values may be configured in a variety of ways, including provisioning methods such as the Broadband Forum&#39;s &#34;TR-69&#34; Residential Gateway management interface [TR069], an XML-based object retrieved after IPv6 connectivity is established, or manual configuration by an administrator. IPv6 DHCP options for MAP configuration are defined in [RFC7598]. Other configuration and management methods may use the formats described by these options for consistency and convenience of implementation on CEs that support multiple configuration methods.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
MAP要素は、MAPドメイン内のすべてのCEで同じ値に設定されます。値は、ブロードバンドフォーラムの「TR-69」レジデンシャルゲートウェイ管理インターフェース[TR069]などのプロビジョニング方法、IPv6接続の確立後に取得されるXMLベースのオブジェクト、または管理者による手動構成など、さまざまな方法で構成できます。 。 MAP構成のIPv6 DHCPオプションは、[RFC7598]で定義されています。他の構成および管理方法では、複数の構成方法をサポートするCEでの実装の一貫性と利便性のために、これらのオプションで説明されている形式を使用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The only remaining provisioning information the CE requires in order to calculate the MAP IPv4 address and enable IPv4 connectivity is the IPv6 prefix for the CE. The End-user IPv6 prefix is configured as part of obtaining IPv6 Internet access.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP IPv4アドレスを計算してIPv4接続を有効にするためにCEが必要とする残りのプロビジョニング情報は、CEのIPv6プレフィックスだけです。エンドユーザーIPv6プレフィックスは、IPv6インターネットアクセスの取得の一部として構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP provisioning parameters, and hence the IPv4 service itself, are tied to the associated End-user IPv6 prefix lifetime; thus, the MAP service is also tied to this in terms of authorization, accounting, etc.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPプロビジョニングパラメーター、つまりIPv4サービス自体は、関連するエンドユーザーIPv6プレフィックスの有効期間に関連付けられています。したがって、MAPサービスは、承認、アカウンティングなどの点でもこれに関連付けられています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A single MAP CE MAY be connected to more than one MAP domain, just as any router may have more than one IPv4-enabled service-provider-facing interface and more than one set of associated addresses assigned by DHCP. Each domain within which a given CE operates would require its own set of MAP configuration elements and would generate its own IPv4 address. Each MAP domain requires a distinct End-user IPv6 prefix.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1つのMAP CEを複数のMAPドメインに接続できます。これは、ルーターが複数のIPv4対応のサービスプロバイダー向けインターフェイスと、DHCPによって割り当てられた複数の関連アドレスセットを持つ場合と同様です。特定のCEが動作する各ドメインには、独自のMAP構成要素のセットが必要であり、独自のIPv4アドレスを生成します。各MAPドメインには、個別のエンドユーザーIPv6プレフィックスが必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP DHCP options are specified in [RFC7598].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP DHCPオプションは[RFC7598]で指定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-2--MAP-BR">
7.2. MAP BR
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 地図BR
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MAP BR MUST be configured with corresponding mapping rules for each MAP domain for which it is acting as a BR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP BRは、BRとして機能する各MAPドメインに対応するマッピングルールを使用して設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For increased reliability and load balancing, the BR IPv6 address MAY be an anycast address shared across a given MAP domain. As MAP is stateless, any BR may be used at any time. If the BR IPv6 address is anycast, the relay MUST use this anycast IPv6 address as the source address in packets relayed to CEs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
信頼性と負荷分散を向上させるために、BR IPv6アドレスは、特定のMAPドメイン全体で共有されるエニーキャストアドレスにすることができます。 MAPはステートレスであるため、任意のBRをいつでも使用できます。 BR IPv6アドレスがエニーキャストである場合、リレーはCEにリレーされるパケットのソースアドレスとしてこのエニーキャストIPv6アドレスを使用する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since MAP uses provider address space, no specific routes need to be advertised externally for MAP to operate in IPv6 or IPv4 BGP. However, if anycast is used for the MAP IPv6 relays, the anycast addresses must be advertised in the service provider&#39;s IGP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPはプロバイダーアドレススペースを使用するため、MAPがIPv6またはIPv4 BGPで動作するために特定のルートを外部にアドバタイズする必要はありません。ただし、エニーキャストがMAP IPv6リレーに使用されている場合は、エニーキャストアドレスをサービスプロバイダーのIGPでアドバタイズする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8--Forwarding-Considerations">
8. Forwarding Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. 転送に関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 1 depicts the overall MAP architecture with IPv4 users connected to a routed IPv6 network.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図1は、ルーティングされたIPv6ネットワークに接続されたIPv4ユーザーによる全体的なMAPアーキテクチャを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP uses encapsulation mode as specified in [RFC2473].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPは、[RFC2473]で指定されているカプセル化モードを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a shared IPv4 address, a MAP CE forwarding IPv4 packets from the LAN performs NAT44 functions first and creates appropriate NAT44 bindings. The resulting IPv4 packets MUST contain the source IPv4 address and source transport identifiers specified by the MAP provisioning parameters. The IPv4 packet is forwarded using the CE&#39;s MAP forwarding function. The IPv6 source and destination addresses MUST then be derived as per Section 5 of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
共有IPv4アドレスの場合、LANからIPv4パケットを転送するMAP CEは最初にNAT44機能を実行し、適切なNAT44バインディングを作成します。結果のIPv4パケットには、MAPプロビジョニングパラメーターで指定されたソースIPv4アドレスとソーストランスポート識別子が含まれている必要があります。 IPv4パケットは、CEのMAP転送機能を使用して転送されます。次に、このドキュメントのセクション5に従って、IPv6の送信元アドレスと宛先アドレスを導出する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-1--Receiving-Rules">
8.1. Receiving Rules
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. 受信ルール
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP CE receiving an IPv6 packet to its MAP IPv6 address sends this packet to the CE&#39;s MAP function, where it is decapsulated. The resulting IPv4 packet is then forwarded to the CE&#39;s NAT44 function, where it is handled according to the NAT&#39;s translation table.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
そのMAP IPv6アドレスへのIPv6パケットを受信するMAP CEは、このパケットをCEのMAP機能に送信し、そこでカプセル化を解除します。結果のIPv4パケットは、CEのNAT44機能に転送され、NATの変換テーブルに従って処理されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP BR receiving IPv6 packets selects a best matching MAP domain rule (Rule IPv6 prefix) based on a longest address match of the packet&#39;s IPv6 source address, as well as a match of the packet destination address against the configured BR IPv6 address(es). The selected MAP Rule allows the BR to determine the EA-bits from the source IPv6 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6パケットを受信するMAP BRは、パケットのIPv6送信元アドレスの最長アドレス一致、および構成済みBR IPv6アドレスに対するパケット宛先アドレスの一致に基づいて、最も一致するMAPドメインルール（ルールIPv6プレフィックス）を選択します。選択したMAPルールにより、BRはソースIPv6アドレスからEAビットを決定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To prevent spoofing of IPv4 addresses, any MAP node (CE and BR) MUST perform the following validation upon reception of a packet. First, the embedded IPv4 address or prefix, as well as the PSID (if any), are extracted from the source IPv6 address using the matching MAP Rule. These represent the range of what is acceptable as source IPv4 address and port. Second, the node extracts the source IPv4 address and port from the IPv4 packet encapsulated inside the IPv6 packet. If they are found to be outside the acceptable range, the packet MUST be silently discarded and a counter incremented to indicate that a potential spoofing attack may be underway. The source validation checks just described are not done for packets whose source IPv6 address is that of the BR (BR IPv6 address).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4アドレスのスプーフィングを防ぐために、MAPノード（CEおよびBR）は、パケットの受信時に次の検証を実行する必要があります。最初に、埋め込まれたIPv4アドレスまたはプレフィックス、およびPSID（存在する場合）が、一致するMAPルールを使用してソースIPv6アドレスから抽出されます。これらは、ソースIPv4アドレスおよびポートとして許容される範囲を表します。次に、ノードはIPv6パケット内にカプセル化されたIPv4パケットからソースIPv4アドレスとポートを抽出します。それらが許容範囲外であることが判明した場合、パケットは黙って破棄されなければならず、カウンターが増加して、潜在的なスプーフィング攻撃が進行中である可能性があることを示します。上記の送信元検証チェックは、送信元IPv6アドレスがBR（BR IPv6アドレス）のアドレスであるパケットに対しては行われません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By default, the CE router MUST drop packets received on the MAP virtual interface (i.e., after decapsulation of IPv6) for IPv4 destinations not for its own IPv4 shared address, full IPv4 address, or IPv4 prefix.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
デフォルトでは、CEルーターは、独自のIPv4共有アドレス、完全なIPv4アドレス、またはIPv4プレフィックスではないIPv4宛先のMAP仮想インターフェイスで受信したパケット（つまり、IPv6のカプセル化解除後）をドロップする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-2--ICMP">
8.2. ICMP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. ICMP
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ICMP messages should be supported in MAP domains. Hence, the NAT44 in the MAP CE MUST implement the behavior for ICMP messages conforming to the best current practice documented in [RFC5508].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ICMPメッセージはMAPドメインでサポートされている必要があります。したがって、MAP CEのNAT44は、[RFC5508]で文書化されている現在のベストプラクティスに準拠したICMPメッセージの動作を実装する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a MAP CE receives an ICMP message having the ICMP Identifier field in the ICMP header, the NAT44 in the MAP CE MUST rewrite this field to a specific value assigned from the port set. BRs and other CEs must handle this field in a way similar to the handling of a port number in the TCP/UDP header upon receiving the ICMP message with the ICMP Identifier field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP CEがICMPヘッダーにICMP識別子フィールドを持つICMPメッセージを受信した場合、MAP CEのNAT44は、このフィールドをポートセットから割り当てられた特定の値に書き換える必要があります。 BRおよびその他のCEは、ICMP IDフィールドを持つICMPメッセージを受信したときに、TCP / UDPヘッダーのポート番号の処理と同様の方法でこのフィールドを処理する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a MAP node receives an ICMP error message without the ICMP Identifier field for errors that are detected inside an IPv6 tunnel, a node should relay the ICMP error message to the original source. This behavior SHOULD be implemented in accordance with Section 8 of [RFC2473].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノードがIPv6トンネル内で検出されたエラーのICMP IDフィールドなしでICMPエラーメッセージを受信した場合、ノードはICMPエラーメッセージを元のソースにリレーする必要があります。この動作は、[RFC2473]のセクション8に従って実装する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-3--Fragmentation-and-Path-MTU-Discovery">
8.3. Fragmentation and Path MTU Discovery
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. フラグメンテーションおよびパスMTUディスカバリ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Due to the different sizes of the IPv4 and IPv6 headers, handling the maximum packet size is relevant for the operation of any system connecting the two address families. There are three mechanisms to handle this issue: Path MTU Discovery (PMTUD), fragmentation, and transport-layer negotiation such as the TCP Maximum Segment Size (MSS) option [RFC879]. MAP uses all three mechanisms to deal with different cases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4ヘッダーとIPv6ヘッダーのサイズが異なるため、最大パケットサイズの処理は、2つのアドレスファミリーを接続するすべてのシステムの動作に関連しています。この問題を処理するメカニズムは3つあります。パスMTU検出（PMTUD）、断片化、およびTCP最大セグメントサイズ（MSS）オプション[RFC879]などのトランスポート層ネゴシエーションです。 MAPは3つのメカニズムすべてを使用して、さまざまなケースに対処します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-3-1--Fragmentation-in-the-MAP-Domain">
8.3.1. Fragmentation in the MAP Domain
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3.1. MAPドメインの断片化
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Encapsulating an IPv4 packet to carry it across the MAP domain will increase its size (typically by 40 bytes). It is strongly recommended that the MTU in the MAP domain be well managed and that the IPv6 MTU on the CE WAN-side interface be set so that no fragmentation occurs within the boundary of the MAP domain.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4パケットをカプセル化してMAPドメイン全体に運ぶと、サイズが大きくなります（通常は40バイト）。 MAPドメインのMTUを適切に管理し、MAPドメインの境界内でフラグメンテーションが発生しないように、CE WAN側のインターフェイスのIPv6 MTUを設定することを強くお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For an IPv4 packet entering a MAP domain, fragmentation is performed as described in Section 7.2 of [RFC2473].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPドメインに入るIPv4パケットの場合、[RFC2473]のセクション7.2で説明されているようにフラグメンテーションが実行されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The use of an anycast source address could lead to an ICMP error message generated on the path being sent to a different BR. Therefore, using a dynamically set tunnel MTU (Section 6.7 of [RFC2473]) is subject to IPv6 Path MTU black holes. A MAP BR using an anycast source address SHOULD NOT by default use Path MTU Discovery across the MAP domain.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エニーキャストソースアドレスを使用すると、別のBRに送信されるパスでICMPエラーメッセージが生成される可能性があります。したがって、動的に設定されたトンネルMTU（[RFC2473]のセクション6.7）を使用すると、IPv6パスMTUブラックホールの影響を受けます。エニーキャストソースアドレスを使用するMAP BRは、デフォルトではMAPドメイン全体でパスMTU検出を使用するべきではありません（SHOULD NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Multiple BRs using the same anycast source address could send fragmented packets to the same CE at the same time. If the fragmented packets from different BRs happen to use the same fragment ID, incorrect reassembly might occur. See [RFC4459] for an analysis of the problem; Section 3.4 of [RFC4459] suggests solving the problem by fragmenting the inner packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
同じエニーキャストソースアドレスを使用する複数のBRは、フラグメント化されたパケットを同じCEに同時に送信できます。異なるBRからのフラグメント化されたパケットが偶然同じフラグメントIDを使用する場合、誤った再構成が発生する可能性があります。問題の分析については[RFC4459]を参照してください。 [RFC4459]のセクション3.4は、内部パケットをフラグメント化することで問題を解決することを提案しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-3-2--Receiving-IPv4-Fragments-on-the-MAP-Domain-Borders">
8.3.2. Receiving IPv4 Fragments on the MAP Domain Borders
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3.2. MAPドメインボーダーでのIPv4フラグメントの受信
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The forwarding of an IPv4 packet received from outside of the MAP domain requires the IPv4 destination address and the transport-protocol destination port. The transport-protocol information is only available in the first fragment received. As described in Section 5.3.3 of [RFC6346], a MAP node receiving an IPv4 fragmented packet from outside has to reassemble the packet before sending the packet onto the MAP link. If the first packet received contains the transport-protocol information, it is possible to optimize this behavior by using a cache and forwarding the fragments unchanged. Implementers of MAP should be aware that there are a number of well-known attacks against IP fragmentation; see [RFC1858] and [RFC3128]. Implementers should also be aware of additional issues with reassembling packets at high rates, as described in [RFC4963].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPドメインの外部から受信したIPv4パケットの転送には、IPv4宛先アドレスとトランスポートプロトコル宛先ポートが必要です。トランスポートプロトコル情報は、最初に受信したフラグメントでのみ使用できます。 [RFC6346]のセクション5.3.3で説明されているように、外部からIPv4フラグメントパケットを受信するMAPノードは、パケットをMAPリンクに送信する前にパケットを再構成する必要があります。受信した最初のパケットにトランスポートプロトコル情報が含まれている場合、キャッシュを使用してフラグメントを変更せずに転送することで、この動作を最適化できます。 MAPの実装者は、IPフラグメンテーションに対する多くのよく知られた攻撃があることを認識しておく必要があります。 [RFC1858]と[RFC3128]を参照してください。 [RFC4963]で説明されているように、実装者はパケットを高速で再構成することに関する追加の問題にも注意する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-3-3--Sending-IPv4-Fragments-to-the-Outside">
8.3.3. Sending IPv4 Fragments to the Outside
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3.3. IPv4フラグメントを外部に送信する
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If two IPv4 hosts behind two different MAP CEs with the same IPv4 address send fragments to an IPv4 destination host outside the domain, those hosts may use the same IPv4 fragmentation identifier, resulting in incorrect reassembly of the fragments at the destination host. Given that the IPv4 fragmentation identifier is a 16-bit field, it could be used similarly to port ranges. A MAP CE could rewrite the IPv4 fragmentation identifier to be within its allocated port set, if the resulting fragment identifier space was large enough related to the rate at which fragments were sent. However, splitting the identifier space in this fashion would increase the probability of reassembly collisions for all connections through the Customer Premises Equipment (CPE). See also [RFC6864].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
同じIPv4アドレスを持つ2つの異なるMAP CEの背後にある2つのIPv4ホストがドメイン外のIPv4宛先ホストにフラグメントを送信する場合、それらのホストは同じIPv4断片化識別子を使用する可能性があり、宛先ホストでのフラグメントの誤った再構成が発生します。 IPv4フラグメンテーションIDは16ビットのフィールドであるため、ポート範囲と同様に使用できます。結果のフラグメント識別子スペースがフラグメントの送信速度に関連して十分に大きい場合、MAP CEは、割り当てられたポートセット内にIPv4フラグメント化識別子を書き換えることができます。ただし、この方法でIDスペースを分割すると、Customer Premises Equipment（CPE）を介したすべての接続で再構成の衝突が発生する可能性が高くなります。 [RFC6864]も参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="9--NAT44-Considerations">
9. NAT44 Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. NAT44に関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NAT44 implemented in the MAP CE SHOULD conform to the behavior and best current practices documented in [RFC4787], [RFC5508], and [RFC5382]. In MAP address-sharing mode (determined by the MAP domain / rule configuration parameters), the operation of the NAT44 MUST be restricted to the available port numbers derived via the Basic Mapping Rule.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAP CEに実装されているNAT44は、[RFC4787]、[RFC5508]、および[RFC5382]で文書化されている動作と現在のベストプラクティスに準拠する必要があります（SHOULD）。 MAPアドレス共有モード（MAPドメイン/ルール構成パラメーターによって決定される）では、NAT44の操作は、基本マッピングルールを介して導出された使用可能なポート番号に制限する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="10--Security-Considerations">
10. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. セキュリティに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Spoofing attacks: With consistency checks between IPv4 and IPv6 sources that are performed on IPv4/IPv6 packets received by MAP nodes, MAP does not introduce any new opportunity for spoofing attacks that would not already exist in IPv6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
スプーフィング攻撃：MAPノードによって受信されたIPv4 / IPv6パケットに対して実行されるIPv4ソースとIPv6ソース間の整合性チェックにより、MAPは、IPv6にはまだ存在しないスプーフィング攻撃の新たな機会をもたらしません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Denial-of-service attacks: In MAP domains where IPv4 addresses are shared, the fact that IPv4 datagram reassembly may be necessary introduces an opportunity for DoS attacks. This is inherent in address sharing and is common with other address-sharing approaches such as DS-Lite and NAT64/DNS64. The best protection against such attacks is to accelerate IPv6 deployment so that address sharing is used less and less where MAP is supported.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サービス拒否攻撃：IPv4アドレスが共有されているMAPドメインでは、IPv4データグラムの再構成が必要になる場合があるという事実により、DoS攻撃の機会がもたらされます。これはアドレス共有に固有であり、DS-LiteやNAT64 / DNS64などの他のアドレス共有アプローチと共通です。このような攻撃に対する最良の保護は、IPv6の展開を加速して、MAPがサポートされている場所で使用されるアドレス共有を減らすことです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Routing loop attacks: Routing loop attacks may exist in some &#34;automatic tunneling&#34; scenarios and are documented in [RFC6324]. They cannot exist with MAP because each BR checks that the IPv6 source address of a received IPv6 packet is a CE address based on the Forwarding Mapping Rule.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ルーティングループ攻撃：ルーティングループ攻撃は、いくつかの「自動トンネリング」シナリオで存在する可能性があり、[RFC6324]で文書化されています。各BRは、受信したIPv6パケットのIPv6送信元アドレスが転送マッピングルールに基づいてCEアドレスであることを確認するため、MAPには存在できません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Attacks facilitated by restricted port set: From hosts that are not subject to ingress filtering [RFC2827], an attacker can inject spoofed packets during ongoing transport connections [RFC4953] [RFC5961] [RFC6056]. The attacks depend on guessing which ports are currently used by target hosts. Using an unrestricted port set is preferable, i.e., using native IPv6 connections that are not subject to MAP port-range restrictions. To minimize these types of attacks when using a restricted port set, the MAP CE&#39;s NAT44 filtering behavior SHOULD be &#34;Address-Dependent Filtering&#34; as described in Section 5 of [RFC4787]. Furthermore, the MAP CEs SHOULD use a DNS transport proxy [RFC5625] function to handle DNS traffic and source such traffic from IPv6 interfaces not assigned to MAP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
制限付きポートセットによる攻撃：入力フィルタリングの対象外のホスト[RFC2827]から、攻撃者は進行中のトランスポート接続[RFC4953] [RFC5961] [RFC6056]中にスプーフィングされたパケットを挿入できます。攻撃は、ターゲットホストが現在使用しているポートの推測に依存します。無制限のポートセットを使用することをお勧めします。つまり、MAPポート範囲の制限を受けないネイティブIPv6接続を使用します。 [RFC4787]のセクション5で説明されているように、制限されたポートセットを使用するときにこれらのタイプの攻撃を最小限に抑えるには、MAP CEのNAT44フィルタリング動作を「アドレス依存フィルタリング」にする必要があります。さらに、MAP CEはDNSトランスポートプロキシ[RFC5625]機能を使用してDNSトラフィックを処理し、MAPに割り当てられていないIPv6インターフェースからそのようなトラフィックを送信する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6269] outlines general issues with IPv4 address sharing.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6269]は、IPv4アドレス共有に関する一般的な問題の概要を説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="11--References">
11. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11. 参考文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="11-1--Normative-References">
11.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1. 引用文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、&lt;http://www.rfc-editor.org/info/ rfc2119&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2473] Conta, A. and S. Deering, &#34;Generic Packet Tunneling in IPv6 Specification&#34;, RFC 2473, DOI 10.17487/RFC2473, December 1998, &lt;http://www.rfc-editor.org/info/rfc2473&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2473] Conta、A。およびS. Deering、「Generic Packet Tunneling in IPv6 Specification」、RFC 2473、DOI 10.17487 / RFC2473、1998年12月、&lt;http://www.rfc-editor.org/info/rfc2473&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5625] Bellis, R., &#34;DNS Proxy Implementation Guidelines&#34;, BCP 152, RFC 5625, DOI 10.17487/RFC5625, August 2009, &lt;http://www.rfc-editor.org/info/rfc5625&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5625] Bellis、R。、「DNSプロキシ実装ガイドライン」、BCP 152、RFC 5625、DOI 10.17487 / RFC5625、2009年8月、&lt;http://www.rfc-editor.org/info/rfc5625&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="11-2--Informative-References">
11.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.2. 参考引用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MAP-Deploy] Sun, Q., Chen, M., Chen, G., Tsou, T., and S. Perreault, &#34;Mapping of Address and Port (MAP) - Deployment Considerations&#34;, Work in Progress, draft-ietf-softwire-map-deployment-06, June 2015.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MAP-Deploy] Sun、Q.、Chen、M.、Chen、G.、Tsou、T。、およびS. Perreault、「アドレスとポート（MAP）のマッピング-展開に関する考慮事項」、作業中、ドラフト- ietf-softwire-map-deployment-06、2015年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC879] Postel, J., &#34;The TCP Maximum Segment Size and Related Topics&#34;, RFC 879, DOI 10.17487/RFC0879, November 1983, &lt;http://www.rfc-editor.org/info/rfc879&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC879] Postel、J。、「TCPの最大セグメントサイズと関連トピック」、RFC 879、DOI 10.17487 / RFC0879、1983年11月、&lt;http://www.rfc-editor.org/info/rfc879&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1858] Ziemba, G., Reed, D., and P. Traina, &#34;Security Considerations for IP Fragment Filtering&#34;, RFC 1858, DOI 10.17487/RFC1858, October 1995, &lt;http://www.rfc-editor.org/info/rfc1858&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1858] Ziemba、G.、Reed、D。、およびP. Traina、「IPフラグメントフィルタリングのセキュリティに関する考慮事項」、RFC 1858、DOI 10.17487 / RFC1858、1995年10月、&lt;http://www.rfc-editor.org / info / rfc1858&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1933] Gilligan, R. and E. Nordmark, &#34;Transition Mechanisms for IPv6 Hosts and Routers&#34;, RFC 1933, DOI 10.17487/RFC1933, April 1996, &lt;http://www.rfc-editor.org/info/rfc1933&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1933] Gilligan、R。およびE. Nordmark、「IPv6ホストおよびルーターの移行メカニズム」、RFC 1933、DOI 10.17487 / RFC1933、1996年4月、&lt;http://www.rfc-editor.org/info/rfc1933&gt; 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2529] Carpenter, B. and C. Jung, &#34;Transmission of IPv6 over IPv4 Domains without Explicit Tunnels&#34;, RFC 2529, DOI 10.17487/RFC2529, March 1999, &lt;http://www.rfc-editor.org/info/rfc2529&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2529] Carpenter、B。およびC. Jung、「明示的なトンネルのないIPv4ドメインを介したIPv6の転送」、RFC 2529、DOI 10.17487 / RFC2529、1999年3月、&lt;http://www.rfc-editor.org/info/ rfc2529&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2663] Srisuresh, P. and M. Holdrege, &#34;IP Network Address Translator (NAT) Terminology and Considerations&#34;, RFC 2663, DOI 10.17487/RFC2663, August 1999, &lt;http://www.rfc-editor.org/info/rfc2663&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2663] Srisuresh、P。およびM. Holdrege、「IPネットワークアドレス変換（NAT）の用語と考慮事項」、RFC 2663、DOI 10.17487 / RFC2663、1999年8月、&lt;http://www.rfc-editor.org/info / rfc2663&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2827] Ferguson, P. and D. Senie, &#34;Network Ingress Filtering: Defeating Denial of Service Attacks which employ IP Source Address Spoofing&#34;, BCP 38, RFC 2827, DOI 10.17487/RFC2827, May 2000, &lt;http://www.rfc-editor.org/info/rfc2827&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2827]ファーガソン、P。およびD.セニー、「ネットワーク入力フィルタリング：IP送信元アドレスのスプーフィングを使用するサービス拒否攻撃の阻止」、BCP 38、RFC 2827、DOI 10.17487 / RFC2827、2000年5月、&lt;http：// www .rfc-editor.org / info / rfc2827&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3056] Carpenter, B. and K. Moore, &#34;Connection of IPv6 Domains via IPv4 Clouds&#34;, RFC 3056, DOI 10.17487/RFC3056, February 2001, &lt;http://www.rfc-editor.org/info/rfc3056&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3056]カーペンター、B。およびK.ムーア、「IPv4クラウド経由のIPv6ドメインの接続」、RFC 3056、DOI 10.17487 / RFC3056、2001年2月、&lt;http://www.rfc-editor.org/info/rfc3056&gt; 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3128] Miller, I., &#34;Protection Against a Variant of the Tiny Fragment Attack (RFC 1858)&#34;, RFC 3128, DOI 10.17487/RFC3128, June 2001, &lt;http://www.rfc-editor.org/info/rfc3128&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3128]ミラー、I。、「小さなフラグメント攻撃のバリアントからの保護（RFC 1858）」、RFC 3128、DOI 10.17487 / RFC3128、2001年6月、&lt;http://www.rfc-editor.org/info/ rfc3128&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3633] Troan, O. and R. Droms, &#34;IPv6 Prefix Options for Dynamic Host Configuration Protocol (DHCP) version 6&#34;, RFC 3633, DOI 10.17487/RFC3633, December 2003, &lt;http://www.rfc-editor.org/info/rfc3633&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3633] Troan、O。およびR. Droms、「動的ホスト構成プロトコル（DHCP）バージョン6のIPv6プレフィックスオプション」、RFC 3633、DOI 10.17487 / RFC3633、2003年12月、&lt;http：//www.rfc-editor。 org / info / rfc3633&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4213] Nordmark, E. and R. Gilligan, &#34;Basic Transition Mechanisms for IPv6 Hosts and Routers&#34;, RFC 4213, DOI 10.17487/RFC4213, October 2005, &lt;http://www.rfc-editor.org/info/rfc4213&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4213] Nordmark、E。およびR. Gilligan、「IPv6ホストおよびルーターの基本的な移行メカニズム」、RFC 4213、DOI 10.17487 / RFC4213、2005年10月、&lt;http://www.rfc-editor.org/info/rfc4213 &gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4459] Savola, P., &#34;MTU and Fragmentation Issues with In-the-Network Tunneling&#34;, RFC 4459, DOI 10.17487/RFC4459, April 2006, &lt;http://www.rfc-editor.org/info/rfc4459&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4459] Savola、P。、「ネットワーク内トンネリングでのMTUおよびフラグメンテーションの問題」、RFC 4459、DOI 10.17487 / RFC4459、2006年4月、&lt;http://www.rfc-editor.org/info/rfc4459&gt; 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4632] Fuller, V. and T. Li, &#34;Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan&#34;, BCP 122, RFC 4632, DOI 10.17487/RFC4632, August 2006, &lt;http://www.rfc-editor.org/info/rfc4632&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4632] Fuller、V。およびT. Li、「Classless Inter-domain Routing（CIDR）：the Internet Address Assignment and Aggregation Plan」、BCP 122、RFC 4632、DOI 10.17487 / RFC4632、2006年8月、&lt;http：// www.rfc-editor.org/info/rfc4632&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4787] Audet, F., Ed., and C. Jennings, &#34;Network Address Translation (NAT) Behavioral Requirements for Unicast UDP&#34;, BCP 127, RFC 4787, DOI 10.17487/RFC4787, January 2007, &lt;http://www.rfc-editor.org/info/rfc4787&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4787]オーデット、F。、エド、およびC.ジェニングス、「ユニキャストUDPのネットワークアドレス変換（NAT）動作要件」、BCP 127、RFC 4787、DOI 10.17487 / RFC4787、2007年1月、&lt;http：// www .rfc-editor.org / info / rfc4787&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4862] Thomson, S., Narten, T., and T. Jinmei, &#34;IPv6 Stateless Address Autoconfiguration&#34;, RFC 4862, DOI 10.17487/RFC4862, September 2007, &lt;http://www.rfc-editor.org/info/rfc4862&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4862] Thomson、S.、Narten、T。、およびT. Jinmei、「IPv6 Stateless Address Autoconfiguration」、RFC 4862、DOI 10.17487 / RFC4862、2007年9月、&lt;http://www.rfc-editor.org/info / rfc4862&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4953] Touch, J., &#34;Defending TCP Against Spoofing Attacks&#34;, RFC 4953, DOI 10.17487/RFC4953, July 2007, &lt;http://www.rfc-editor.org/info/rfc4953&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4953] Touch、J。、「なりすまし攻撃に対するTCPの防御」、RFC 4953、DOI 10.17487 / RFC4953、2007年7月、&lt;http://www.rfc-editor.org/info/rfc4953&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4963] Heffner, J., Mathis, M., and B. Chandler, &#34;IPv4 Reassembly Errors at High Data Rates&#34;, RFC 4963, DOI 10.17487/RFC4963, July 2007, &lt;http://www.rfc-editor.org/info/rfc4963&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4963] Heffner、J.、Mathis、M。、およびB. Chandler、「高データレートでのIPv4再構成エラー」、RFC 4963、DOI 10.17487 / RFC4963、2007年7月、&lt;http：//www.rfc-editor。 org / info / rfc4963&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5214] Templin, F., Gleeson, T., and D. Thaler, &#34;Intra-Site Automatic Tunnel Addressing Protocol (ISATAP)&#34;, RFC 5214, DOI 10.17487/RFC5214, March 2008, &lt;http://www.rfc-editor.org/info/rfc5214&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5214] Templin、F.、Gleeson、T。、およびD. Thaler、「Intra-Site Automatic Tunnel Addressing Protocol（ISATAP）」、RFC 5214、DOI 10.17487 / RFC5214、2008年3月、&lt;http：//www.rfc -editor.org/info/rfc5214&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5382] Guha, S., Ed., Biswas, K., Ford, B., Sivakumar, S., and P. Srisuresh, &#34;NAT Behavioral Requirements for TCP&#34;, BCP 142, RFC 5382, DOI 10.17487/RFC5382, October 2008, &lt;http://www.rfc-editor.org/info/rfc5382&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5382] Guha、S。、編、Biswas、K.、Ford、B.、Sivakumar、S。、およびP. Srisuresh、「TCPのNAT動作要件」、BCP 142、RFC 5382、DOI 10.17487 / RFC5382、 2008年10月、&lt;http://www.rfc-editor.org/info/rfc5382&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5508] Srisuresh, P., Ford, B., Sivakumar, S., and S. Guha, &#34;NAT Behavioral Requirements for ICMP&#34;, BCP 148, RFC 5508, DOI 10.17487/RFC5508, April 2009, &lt;http://www.rfc-editor.org/info/rfc5508&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5508] Srisuresh、P.、Ford、B.、Sivakumar、S。、およびS. Guha、「ICMPのNAT動作要件」、BCP 148、RFC 5508、DOI 10.17487 / RFC5508、2009年4月、&lt;http：// www.rfc-editor.org/info/rfc5508&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5961] Ramaiah, A., Stewart, R., and M. Dalal, &#34;Improving TCP&#39;s Robustness to Blind In-Window Attacks&#34;, RFC 5961, DOI 10.17487/RFC5961, August 2010, &lt;http://www.rfc-editor.org/info/rfc5961&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5961] Ramaiah、A.、Stewart、R。、およびM. Dalal、「ブラインドインウィンドウ攻撃に対するTCPの堅牢性の向上」、RFC 5961、DOI 10.17487 / RFC5961、2010年8月、&lt;http：//www.rfc- editor.org/info/rfc5961&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5969] Townsley, W. and O. Troan, &#34;IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) -- Protocol Specification&#34;, RFC 5969, DOI 10.17487/RFC5969, August 2010, &lt;http://www.rfc-editor.org/info/rfc5969&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5969] Townsley、W.およびO. Troan、「IPv4 Infrastructure on IPv4 Infrastructures（6rd）-Protocol Specification」、RFC 5969、DOI 10.17487 / RFC5969、2010年8月、&lt;http：//www.rfc-editor。 org / info / rfc5969&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6056] Larsen, M. and F. Gont, &#34;Recommendations for Transport-Protocol Port Randomization&#34;, BCP 156, RFC 6056, DOI 10.17487/RFC6056, January 2011, &lt;http://www.rfc-editor.org/info/rfc6056&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6056] Larsen、M。およびF. Gont、「Recommendations for Transport-Protocol Port Randomization」、BCP 156、RFC 6056、DOI 10.17487 / RFC6056、2011年1月、&lt;http://www.rfc-editor.org/info / rfc6056&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6250] Thaler, D., &#34;Evolution of the IP Model&#34;, RFC 6250, DOI 10.17487/RFC6250, May 2011, &lt;http://www.rfc-editor.org/info/rfc6250&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6250]ターラー、D。、「IPモデルの進化」、RFC 6250、DOI 10.17487 / RFC6250、2011年5月、&lt;http://www.rfc-editor.org/info/rfc6250&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6269] Ford, M., Ed., Boucadair, M., Durand, A., Levis, P., and P. Roberts, &#34;Issues with IP Address Sharing&#34;, RFC 6269, DOI 10.17487/RFC6269, June 2011, &lt;http://www.rfc-editor.org/info/rfc6269&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6269] Ford、M.、Ed。、Boucadair、M.、Durand、A.、Levis、P。、およびP. Roberts、「Issues with IP Address Sharing」、RFC 6269、DOI 10.17487 / RFC6269、2011年6月、 &lt;http://www.rfc-editor.org/info/rfc6269&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6324] Nakibly, G. and F. Templin, &#34;Routing Loop Attack Using IPv6 Automatic Tunnels: Problem Statement and Proposed Mitigations&#34;, RFC 6324, DOI 10.17487/RFC6324, August 2011, &lt;http://www.rfc-editor.org/info/rfc6324&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6324] G.とF. Templin、「IPv6自動トンネルを使用したルーティングループ攻撃：問題の説明と提案された軽減策」、RFC 6324、DOI 10.17487 / RFC6324、2011年8月、&lt;http：//www.rfc-editor。 org / info / rfc6324&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6333] Durand, A., Droms, R., Woodyatt, J., and Y. Lee, &#34;Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion&#34;, RFC 6333, DOI 10.17487/RFC6333, August 2011, &lt;http://www.rfc-editor.org/info/rfc6333&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6333] Durand、A.、Droms、R.、Woodyatt、J。、およびY. Lee、「IPv4枯渇後のデュアルスタックLiteブロードバンド展開」、RFC 6333、DOI 10.17487 / RFC6333、2011年8月、&lt;http：/ /www.rfc-editor.org/info/rfc6333&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6335] Cotton, M., Eggert, L., Touch, J., Westerlund, M., and S. Cheshire, &#34;Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry&#34;, BCP 165, RFC 6335, DOI 10.17487/RFC6335, August 2011, &lt;http://www.rfc-editor.org/info/rfc6335&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6335]綿、M。、エガート、L。、タッチ、J。、ウェスターランド、M。、およびS.チェシャー、「サービス名とトランスポートプロトコルのポート番号レジストリの管理のためのInternet Assigned Numbers Authority（IANA）手順&#34;、BCP 165、RFC 6335、DOI 10.17487 / RFC6335、2011年8月、&lt;http://www.rfc-editor.org/info/rfc6335&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6346] Bush, R., Ed., &#34;The Address plus Port (A+P) Approach to the IPv4 Address Shortage&#34;, RFC 6346, DOI 10.17487/RFC6346, August 2011, &lt;http://www.rfc-editor.org/info/rfc6346&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6346]ブッシュ、R。、編、「IPv4アドレス不足に対するアドレスとポート（A + P）のアプローチ」、RFC 6346、DOI 10.17487 / RFC6346、2011年8月、&lt;http：//www.rfc-editor .org / info / rfc6346&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6864] Touch, J., &#34;Updated Specification of the IPv4 ID Field&#34;, RFC 6864, DOI 10.17487/RFC6864, February 2013, &lt;http://www.rfc-editor.org/info/rfc6864&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6864] Touch、J。、「IPv4 IDフィールドの更新された仕様」、RFC 6864、DOI 10.17487 / RFC6864、2013年2月、&lt;http://www.rfc-editor.org/info/rfc6864&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7598] Mrugalski, T., Troan, O., Farrer, I., Perreault, S., Dec, W., Bao, C., Yeh, L., and X. Deng, &#34;DHCPv6 Options for Configuration of Softwire Address and Port-Mapped Clients&#34;, RFC 7598, DOI 10.17487/RFC7598, July 2015, &lt;http://www.rfc-editor.org/info/rfc7598&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7598] Mrugalski、T.、Troan、O.、Farrer、I.、Perreault、S.、Dec、W.、Bao、C.、Yeh、L。、およびX. Deng、「Softwireの構成のためのDHCPv6オプションAddress and Port-Mapped Clients」、RFC 7598、DOI 10.17487 / RFC7598、2015年7月、&lt;http://www.rfc-editor.org/info/rfc7598&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Solutions-4v6] Boucadair, M., Ed., Matsushima, S., Lee, Y., Bonness, O., Borges, I., and G. Chen, &#34;Motivations for Carrier-side Stateless IPv4 over IPv6 Migration Solutions&#34;, Work in Progress, draft-ietf-softwire-stateless-4v6-motivation-05, November 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Solutions-4v6] Boucadair、M.、Ed。、Matsushima、S.、Lee、Y.、Bonness、O.、Borges、I.、and G. Chen、 &#34;Motivations for Carrier-side Stateless IPv4 over IPv6 Migration Solutions &#34;、作業中、draft-ietf-softwire-stateless-4v6-motivation-05、2012年11月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[TR069] Broadband Forum TR-069, &#34;CPE WAN Management Protocol&#34;, Amendment 5, CWMP Version: 1.4, November 2013, &lt;https://www.broadband-forum.org&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[TR069]ブロードバンドフォーラムTR-069、「CPE WAN管理プロトコル」、修正5、CWMPバージョン：1.4、2013年11月、&lt;https://www.broadband-forum.org&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="Appendix-A--Examples">
Appendix A. Examples
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A.例
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 1 - Basic Mapping Rule:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例1-基本的なマッピングルール：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Given the MAP domain information and an IPv6 address of an endpoint:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPドメイン情報とエンドポイントのIPv6アドレスを指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   End-user IPv6 prefix: 2001:db8:0012:3400::/56
   Basic Mapping Rule:   {2001:db8:0000::/40 (Rule IPv6 prefix),
                          192.0.2.0/24 (Rule IPv4 prefix),
                          16 (Rule EA-bit length)}
   PSID length:          (16 - (32 - 24) = 8 (sharing ratio of 256)
   PSID offset:          6 (default)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP node (CE or BR) can, via the BMR or equivalent FMR, determine the IPv4 address and port set as shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノード（CEまたはBR）は、BMRまたは同等のFMRを介して、次に示すようにIPv4アドレスとポートセットを決定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EA bits offset:       40
   IPv4 suffix bits (p)  Length of IPv4 address (32) -
                         IPv4 prefix length (24) = 8
   IPv4 address:         192.0.2.18 (0xc0000212)
   PSID start:           40 + p = 40 + 8 = 48
   PSID length:          o - p = (56 - 40) - 8 = 8
   PSID:                 0x34
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   Available ports (63 ranges): 1232-1235, 2256-2259, ...... ,
                                63696-63699, 64720-64723
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The BMR information allows a MAP CE to determine (complete) its IPv6 address within the indicated IPv6 prefix.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
BMR情報により、MAP CEは指定されたIPv6プレフィックス内のIPv6アドレスを（完全に）決定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 IPv6 address of MAP CE: 2001:db8:0012:3400:0000:c000:0212:0034 Example 2 - BR:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
MAP CEのIPv6アドレス：2001：db8：0012：3400：0000：c000：0212：0034例2-BR：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Another example is a MAP BR, configured with the following FMR when receiving a packet with the following characteristics:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
別の例は、次の特性を持つパケットを受信するときに次のFMRで構成されたMAP BRです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4 source address: 1.2.3.4 (0x01020304) IPv4 source port: 80 IPv4 destination address: 192.0.2.18 (0xc0000212) IPv4 destination port: 1232
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4ソースアドレス：1.2.3.4（0x01020304）IPv4ソースポート：80 IPv4宛先アドレス：192.0.2.18（0xc0000212）IPv4宛先ポート：1232
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Forwarding Mapping Rule: {2001:db8::/40 (Rule IPv6 prefix),
                             192.0.2.0/24 (Rule IPv4 prefix),
                             16 (Rule EA-bit length)}
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   IPv6 address of MAP BR:              2001:db8:ffff::1
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The above information allows the BR to derive the mapped destination IPv6 address for the corresponding MAP CE, and also the mapped source IPv6 address for the IPv4 source address, as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の情報により、BRは、次のように、対応するMAP CEのマッピングされた宛先IPv6アドレス、およびIPv4送信元アドレスのマッピングされた送信元IPv6アドレスを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   IPv4 suffix bits (p):  32 - 24 = 8 (18 (0x12))
   PSID length:           8
   PSID:                  0x34 (1232)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The resulting IPv6 packet will have the following key fields:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
結果のIPv6パケットには、次のキーフィールドがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   IPv6 source address:       2001:db8:ffff::1
   IPv6 destination address:  2001:db8:0012:3400:0000:c000:0212:0034
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 3 - Forwarding Mapping Rule:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例3-転送マッピングルール：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An IPv4 host behind the MAP CE (addressed as per the previous examples) corresponding with IPv4 host 1.2.3.4 will have its packets encapsulated by IPv6 using the IPv6 address of the BR configured on the MAP CE as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4ホスト1.2.3.4に対応するMAP CEの背後にあるIPv4ホスト（前の例に従ってアドレス指定）は、次のようにMAP CEで構成されたBRのIPv6アドレスを使用して、パケットをIPv6によってカプセル化します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 IPv6 address of BR: 2001:db8:ffff::1 IPv4 source address: 192.0.2.18 IPv4 destination address: 1.2.3.4 IPv4 source port: 1232 IPv4 destination port: 80 MAP CE IPv6 source address: 2001:db8:0012:3400:0000:c000:0212:0034 IPv6 destination address: 2001:db8:ffff::1 Example 4 - Rule with no embedded address bits and no address sharing:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
BRのIPv6アドレス：2001：db8：ffff :: 1 IPv4送信元アドレス：192.0.2.18 IPv4送信先アドレス：1.2.3.4 IPv4送信元ポート：1232 IPv4送信先ポート：80 MAP CE IPv6送信元アドレス：2001：db8：0012：3400 ：0000：c000：0212：0034 IPv6宛先アドレス：2001：db8：ffff :: 1例4-埋め込まれたアドレスビットとアドレス共有のないルール：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   End-user IPv6 prefix: 2001:db8:0012:3400::/56
   Basic Mapping Rule:   {2001:db8:0012:3400::/56 (Rule IPv6 prefix),
                          192.0.2.18/32 (Rule IPv4 prefix),
                          0 (Rule EA-bit length)}
   PSID length:          0 (sharing ratio is 1)
   PSID offset:          n/a
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP node (CE or BR) can, via the BMR or equivalent FMR, determine the IPv4 address and port set as shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノード（CEまたはBR）は、BMRまたは同等のFMRを介して、次に示すようにIPv4アドレスとポートセットを決定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EA bits offset: 0 IPv4 suffix bits (p): Length of IPv4 address (32) - IPv4 prefix length (32) = 0 IPv4 address: 192.0.2.18 (0xc0000212) PSID start: 0 PSID length: 0 PSID: null
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAビットオフセット：0 IPv4サフィックスビット（p）：IPv4アドレスの長さ（32）-IPv4プレフィックス長（32）= 0 IPv4アドレス：192.0.2.18（0xc0000212）PSID開始：0 PSID長：0 PSID：null
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The BMR information allows a MAP CE to also determine (complete) its full IPv6 address by combining the IPv6 prefix with the MAP interface identifier (that embeds the IPv4 address).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
BMR情報により、MAP CEは、IPv6プレフィックスとMAPインターフェイス識別子（IPv4アドレスを埋め込む）を組み合わせることにより、完全なIPv6アドレスを決定（完全）することもできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 IPv6 address of MAP CE: 2001:db8:0012:3400:0000:c000:0212:0000 Example 5 - Rule with no embedded address bits and address sharing (sharing ratio of 256):
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
MAP CEのIPv6アドレス：2001：db8：0012：3400：0000：c000：0212：0000例5-埋め込まれたアドレスビットとアドレス共有のないルール（共有比率256）：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   End-user IPv6 prefix: 2001:db8:0012:3400::/56
   Basic Mapping Rule:   {2001:db8:0012:3400::/56 (Rule IPv6 prefix),
                          192.0.2.18/32 (Rule IPv4 prefix),
                          0 (Rule EA-bit length)}
   PSID length:          8 (from DHCP; sharing ratio of 256)
   PSID offset:          6 (default)
   PSID:                 0x34 (from DHCP)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A MAP node can, via the Basic Mapping Rule, determine the IPv4 address and port set as shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MAPノードは、基本マッピングルールを介して、次に示すようにIPv4アドレスとポートセットを決定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EA bits offset: 0 IPv4 suffix bits (p): Length of IPv4 address (32) - IPv4 prefix length (32) = 0 IPv4 address: 192.0.2.18 (0xc0000212) PSID offset: 6 PSID length: 8 PSID: 0x34
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EAビットオフセット：0 IPv4サフィックスビット（p）：IPv4アドレスの長さ（32）-IPv4プレフィックス長（32）= 0 IPv4アドレス：192.0.2.18（0xc0000212）PSIDオフセット：6 PSID長：8 PSID：0x34
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   Available ports (63 ranges): 1232-1235, 2256-2259, ...... ,
                                63696-63699, 64720-64723
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Basic Mapping Rule information allows a MAP CE to also determine (complete) its full IPv6 address by combining the IPv6 prefix with the MAP interface identifier (that embeds the IPv4 address and PSID).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
基本マッピングルール情報により、MAP CEは、IPv6プレフィックスとMAPインターフェイス識別子（IPv4アドレスとPSIDを埋め込む）を組み合わせることにより、完全なIPv6アドレスを（完全に）決定することもできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   IPv6 address of MAP CE: 2001:db8:0012:3400:0000:c000:0212:0034
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the IPv4 address and PSID are not derived from the IPv6 prefix assigned to the CE but are provisioned separately using, for example, DHCP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4アドレスとPSIDは、CEに割り当てられたIPv6プレフィックスから派生したものではなく、DHCPなどを使用して個別にプロビジョニングされることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Appendix B. A More Detailed Description of the Derivation of the Port-Mapping Algorithm
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
付録B.ポートマッピングアルゴリズムの導出の詳細な説明
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This appendix describes how the port-mapping algorithm described in Section 5.1 was derived. The algorithm is used in domains whose rules allow IPv4 address sharing.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この付録では、5.1節で説明したポートマッピングアルゴリズムがどのようにして派生したかについて説明します。このアルゴリズムは、IPv4アドレス共有を許可するルールを持つドメインで使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The basic requirement for a port-mapping algorithm is that the port sets it assigns to different MAP CEs MUST be non-overlapping. A number of other requirements guided the choice of the algorithm:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ポートマッピングアルゴリズムの基本的な要件は、異なるMAP CEに割り当てるポートセットが重複しないことです。他の多くの要件がアルゴリズムの選択を導きました：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o In keeping with the general MAP algorithm, the port set MUST be derivable from a Port Set identifier (PSID) that can be embedded in the End-user IPv6 prefix.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 一般的なMAPアルゴリズムに従って、ポートセットは、エンドユーザーIPv6プレフィックスに埋め込むことができるポートセット識別子（PSID）から導出可能でなければなりません（MUST）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The mapping MUST be reversible such that, given the port number, the PSID of the port set to which it belongs can be quickly derived.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o マッピングは、ポート番号を指定すると、それが属するポートセットのPSIDを迅速に導出できるように、可逆でなければなりません（MUST）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The algorithm MUST allow a broad range of address-sharing ratios.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アルゴリズムは、幅広いアドレス共有比率を許可する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o It SHOULD be possible to exclude subsets of the complete port numbering space from assignment. Most operators would exclude the system ports (0-1023). A conservative operator might exclude all but the transient ports (49152-65535).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 割り当てから完全なポート番号付けスペースのサブセットを除外することが可能であるべきです（SHOULD）。ほとんどのオペレーターは、システムポート（0〜1023）を除外します。保守的なオペレーターは、一時的なポート（49152-65535）を除くすべてを除外する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The effect of port exclusion on the possible values of the End-user IPv6 prefix (i.e., due to restrictions on the PSID value) SHOULD be minimized.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o エンドユーザーIPv6プレフィックスの可能な値に対するポート除外の影響（つまり、PSID値の制限のため）は最小限に抑える必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o For administrative simplicity, the algorithm SHOULD allocate the same or almost the same number of ports to each CE sharing a given IPv4 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 管理を簡素化するために、アルゴリズムは、特定のIPv4アドレスを共有する各CEに同じ数またはほぼ同じ数のポートを割り当てる必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The two extreme cases that an algorithm satisfying those conditions might support are when (1) the port numbers are not contiguous for each PSID but uniformly distributed across the allowed port range and (2) the port numbers are contiguous in a single range for each PSID. The port-mapping algorithm proposed here is called the Generalized Modulus Algorithm (GMA) and supports both of these cases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらの条件を満たすアルゴリズムがサポートする可能性のある2つの極端なケースは、（1）ポート番号が各PSIDで連続していないが、許可されたポート範囲全体に均一に分散している、および（2）ポート番号が各PSIDの単一の範囲で連続している場合です。 。ここで提案するポートマッピングアルゴリズムはGeneralized Modulus Algorithm（GMA）と呼ばれ、これらの両方のケースをサポートします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a given IPv4 address-sharing ratio (R) and the maximum number of contiguous ports (M) in a port set, the GMA is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
特定のIPv4アドレス共有比率（R）およびポートセット内の連続ポートの最大数（M）に対して、GMAは次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
a. The port numbers (P) corresponding to a given PSID are generated by:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
a. 特定のPSIDに対応するポート番号（P）は、次のように生成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       (1) ... P = (R * M) * i + M * PSID + j
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
where i and j are indices and the ranges of i, j, and the PSID are discussed below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
ここで、iおよびjはインデックスであり、i、j、およびPSIDの範囲については以下で説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
b. For any given port number P, the PSID is calculated as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
b. 特定のポート番号Pの場合、PSIDは次のように計算されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       (2) ... PSID = trunc((P modulo (R * M)) / M)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
where trunc() is the operation of rounding down to the nearest integer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
ここで、trunc()は、最も近い整数に切り捨てる操作です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Formula (1) can be interpreted as follows. First, the available port space is divided into blocks of size R * M. Each block is divided into R individual ranges of length M. The index i in formula (1) selects a block, PSID selects a range within that block, and the index j selects a specific port value within the range. On the basis of this interpretation:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
式（１）は次のように解釈できる。最初に、利用可能なポートスペースはサイズR * Mのブロックに分割されます。各ブロックは長さMのR個の個別の範囲に分割されます。式（1）のインデックスiはブロックを選択し、PSIDはそのブロック内の範囲を選択し、インデックスjは、範囲内の特定のポート値を選択します。この解釈に基づいて：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o i ranges from ceil(N / (R * M)) to trunc(65536/(R * M)) - 1, where ceil is the operation of rounding up to the nearest integer and N is the number of ports (e.g., 1024) excluded from the lower end of the range. That is, any block containing excluded values is discarded at the lower end, and if the final block has fewer than R * M values it is discarded. This ensures that the same number of ports is assigned to every PSID.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o iはceil（N /（R * M））からtrunc（65536 /（R * M））-1の範囲です。ここで、ceilは最も近い整数に切り上げる操作で、Nはポート数です（例：1024）。 ）範囲の下限から除外されます。つまり、除外された値を含むブロックはすべて下端で破棄され、最後のブロックの値がR * M未満の場合は破棄されます。これにより、すべてのPSIDに同じ数のポートが割り当てられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o PSID ranges from 0 to R - 1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o PSIDの範囲は0からR-1です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o j ranges from 0 to M - 1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o jの範囲は0からM-1です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="B-1--Bit-Representation-of-the-Algorithm">
B.1. Bit Representation of the Algorithm
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
B.1. アルゴリズムのビット表現
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If R and M are powers of 2 (R = 2^k, M = 2^m), formula (1) translates to a computationally convenient structure for any port number represented as a 16-bit binary number. This structure is shown in Figure 9.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RとMが2のべき乗である場合（R = 2 ^ k、M = 2 ^ m）、式（1）は、16ビットの2進数として表されるポート番号の計算に便利な構造に変換されます。この構造を図9に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
          0                          8                         15
          +---------------+----------+------+-------------------+
          |                     P                               |
          ----------------+-----------------+-------------------+
          |        i      |       PSID      |        j          |
          +---------------+----------+------+-------------------+
          |&lt;----a bits---&gt;|&lt;-----k bits----&gt;|&lt;------m bits-----&gt;|
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
Figure 9: Bit Representation of a Port Number
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-15">
図9：ポート番号のビット表現
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As shown in the figure, the index value i of formula (1) is given by the first a = 16 - k - m bits of the port number. The PSID value is given by the next k bits, and the index value j is given by the last m bits.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図に示すように、式（1）のインデックス値iは、ポート番号の最初のa = 16-k-mビットで与えられます。 PSID値は次のkビットで指定され、インデックス値jは最後のmビットで指定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because the PSID is always in the same position in the port number and always the same length, different PSID values are guaranteed to generate different sets of port numbers. In the reverse direction, the generating PSID can be extracted from any port number by a bitmask operation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PSIDは常にポート番号の同じ位置にあり、常に同じ長さであるため、異なるPSID値は異なるポート番号のセットを生成することが保証されています。逆方向では、生成するPSIDは、ビットマスク操作によって任意のポート番号から抽出できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that when M and R are powers of 2, 65536 divides evenly by R * M. Hence, the final block is complete, and the upper bound on i is exactly 65536/(R * M) - 1. The lower bound on i is still the minimum required to ensure that the required set of ports is excluded. No port numbers are wasted through the discarding of blocks at the lower end if block size R * M is a factor of N, the number of ports to be excluded.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MとRが2の累乗である場合、65536はR * Mで均等に除算されることに注意してください。したがって、最終ブロックは完成し、iの上限は正確に65536 /（R * M）-1になります。iの下限必要なポートのセットが確実に除外されるようにするために必要な最小値です。ブロックサイズR * Mが除外されるポートの数Nの因数である場合、下端のブロックを破棄することでポート番号が無駄になることはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As a final note, the number of blocks into which the range 0-65535 is being divided in the above representation is given by 2^a. Hence, the case where a = 0 can be interpreted as one where the complete range has been divided into a single block, and individual port sets are contained in contiguous ranges in that block. We cannot throw away the whole block in that case, so port exclusion has to be achieved by putting a lower bound equal to ceil(N / M) on the allowed set of PSID values instead.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最後に、上記の表現で0〜65535の範囲が分割されるブロックの数は2 ^ aで与えられます。したがって、a = 0の場合は、完全な範囲が1つのブロックに分割され、個々のポートセットがそのブロック内の隣接する範囲に含まれる場合と解釈できます。その場合、ブロック全体を破棄することはできないため、代わりに、PSID値の許可されたセットにceil（N / M）に等しい下限を設定することにより、ポートの除外を実現する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="B-2--GMA-Examples">
B.2. GMA Examples
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
B.2. GMAの例
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, for R = 256, PSID = 0, offset: a = 6 and PSID length: k = 8 bits:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、R = 256、PSID = 0、オフセット：a = 6、PSID長：k = 8ビットの場合：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   Available ports (63 ranges): 1024-1027, 2048-2051, ...... ,
                                63488-63491, 64512-64515
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                    Example 1: with offset = 6 (a = 6)
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, for R = 64, PSID = 0, a = 0 (PSID offset = 0 and PSID length = 6 bits), no port exclusion:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、R = 64、PSID = 0、a = 0（PSIDオフセット= 0およびPSID長= 6ビット）の場合、ポートの除外はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Available ports (1 range): 0-1023
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
利用可能なポート（1つの範囲）：0-1023
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
               Example 2: with offset = 0 (a = 0) and N = 0
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is based on the ideas of many, including Masakazu Asama, Mohamed Boucadair, Gang Chen, Maoke Chen, Wojciech Dec, Xiaohong Deng, Jouni Korhonen, Tomek Mrugalski, Jacni Qin, Chunfa Sun, Qiong Sun, and Leaf Yeh. The authors want in particular to recognize Remi Despres, who has tirelessly worked on generalized mechanisms for stateless address mapping.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、浅間正和、モハメドブーカデール、ギャングチェン、マオケチェン、ヴォイチェフデック、シャオホンデン、ジョウニコロネン、トメックムルガルスキ、ジャクニーチン、チュンファサン、キオンサン、リーフイェーなど多くのアイデアに基づいています。著者は特に、ステートレスアドレスマッピングの一般化されたメカニズムに精力的に取り組んできたRemi Despresを認めたいと考えています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors would like to thank Lichun Bao, Guillaume Gottard, Dan Wing, Jan Zorz, Necj Scoberne, Tina Tsou, Kristian Poscic, and especially Tom Taylor and Simon Perreault for the thorough review and comments of this document. Useful IETF Last Call comments were received from Brian Weis and Lei Yan.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの徹底的なレビューとコメントを提供してくれたLichun Bao、Guillaume Gottard、Dan Wing、Jan Zorz、Necj Scoberne、Tina Tsou、Kristian Poscic、特にTom TaylorとSimon Perreaultに感謝します。有用なIETF Last CallコメントがBrian WeisとLei Yanから届きました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Contributors
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
貢献者
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is the result of the IETF Softwire MAP design team effort and numerous previous individual contributions in this area:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF Softwire MAP設計チームの努力と、この分野におけるこれまでの多数の個々の貢献の成果です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Chongfeng Xie China Telecom Room 708, No. 118, Xizhimennei Street Beijing 100035 China Phone: +86-10-58552116 Email: xiechf@ctbri.com.cn
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CレッドメープルX IEチャイナテレコムルーム708、118番、ξストリート北京100035のゲート内中国電話：+ 86-10-58552116メール：Xie Chunfeng @参天揭日.com。人材
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Qiong Sun China Telecom Room 708, No. 118, Xizhimennei Street Beijing 100035 China Phone: +86-10-58552936 Email: sunqiong@ctbri.com.cn
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Qiong Sun China Telecom Room 708、No. 118、Xizhimennei Street Beijing 100035 China電話：+ 86-10-58552936メール：sunqiong@ctbri.com.cn
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Gang Chen China Mobile 29, Jinrong Avenue Xicheng District, Beijing 100033 China Email: phdgang@gmail.com, chengang@chinamobile.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ギャングチェンチャイナモバイル29、ジンロンアベニューX Iチェン地区、北京100033中国Eメール：PhD刚@ Gmail.com、陈刚@China Mobile.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yu Zhai CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China Email: jacky.zhai@gmail.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yu Zhai CERNETセンター/北京100084中国清華大学本館清華大学225号室Email：jacky.zhai@gmail.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Wentao Shang CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China Email: wentaoshang@gmail.com Guoliang Han CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China Email: bupthgl@gmail.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
ウェンタオシャンCERNETセンター/清華大学北京北京100084中国本館225号室のメール：Guaoiang Han CERNETセンター/清華大学225北京清華大学本館225室中国のメール：bupthgl@gmail.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rajiv Asati Cisco Systems 7025-6 Kit Creek Road Research Triangle Park, NC 27709 United States Email: rajiva@cisco.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rajiv Asati Cisco Systems 7025-6 Kit Creek Road Research Triangle Park、NC 27709 United States Email：rajiva@cisco.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Ole Troan (editor) Cisco Systems Philip Pedersens vei 1 Lysaker 1366 Norway
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Ole Troan（編集者）Cisco Systems Philip Pedersens vei 1 Lysaker 1366ノルウェー
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: ot@cisco.com
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Wojciech Dec Cisco Systems Haarlerbergpark Haarlerbergweg 13-19 Amsterdam, NOORD-HOLLAND 1101 CH The Netherlands
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Wojciech Dec Cisco Systems Haarlerbergpark Haarlerbergweg 13-19 Amsterdam、NORTH HOLLAND 1101 CH Netherlands
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: wdec@cisco.com
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Xing Li CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Xing Li CERNETセンター/清華大学本館225号室北京100084中国清華大学
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Email: xing@cernet.edu.cn Congxiao Bao CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
電子メール：xing@cernet.edu.cn Congxiao Bao CERNETセンター/清華大学本館225号室北京100084中国清華大学
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: congxiao@cernet.edu.cn
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Satoru Matsushima SoftBank Telecom 1-9-1 Higashi-Shinbashi, Munato-ku Tokyo Japan
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
さとる まつしま そｆｔばんｋ てぇこｍ １ー９ー１ ひがしーしんばし、 むなとーく ときょ じゃぱん
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: satoru.matsushima@g.softbank.co.jp
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Tetsuya Murakami IP Infusion 1188 East Arques Avenue Sunnyvale, CA 94085 United States
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
てつや むらかみ いＰ いんふしおん １１８８ えあｓｔ あｒくえｓ あゔぇぬえ すんｙゔぁぇ、 か ９４０８５ うにてｄ Ｓたてｓ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: tetsuya@ipinfusion.com
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Tom Taylor (editor) Huawei Technologies Ottawa Canada
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Tom Taylor（編集者）Huawei Technologiesオタワカナダ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: tom.taylor.stds@gmail.com
        </pre>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
