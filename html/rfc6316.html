<!DOCTYPE html>


<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 6316 - Sockets Application Program Interface (API) for Multihoming Shim 日本語訳</title>
  <meta name="description" content="RFC 6316は、マルチホーミングシムのためのソケットアプリケーションプログラムインターフェース（API）に関する仕様です。このRFCの目的は、マルチホーミング環境でのアプリケーション開発をサポートするために、統一されたAPIを提供することです。">

  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./master.css">
  <script src="./index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">6316</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc6316">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 6316 - Sockets Application Program Interface (API) for Multihoming Shim 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc6316">
            https://datatracker.ietf.org/doc/html/rfc6316
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 6316 - マルチホミングシム用のソケットアプリケーションプログラムインターフェイス（API）</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div id="rfc_summary">
      <div class="card mb-3">
        <div class="card-body">
          <p class="card-text">[要約] RFC 6316は、マルチホーミングシムのためのソケットアプリケーションプログラムインターフェース（API）に関する仕様です。このRFCの目的は、マルチホーミング環境でのアプリケーション開発をサポートするために、統一されたAPIを提供することです。</p>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                           M. Komu
Request for Comments: 6316                              Aalto University
Category: Informational                                       M. Bagnulo
ISSN: 2070-1721                                                     UC3M
                                                               K. Slavov
                                                        S. Sugimoto, Ed.
                                                                Ericsson
                                                               July 2011
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-4">
Sockets Application Program Interface (API) for Multihoming Shim
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-4">
マルチホミングシム用のソケットアプリケーションプログラムインターフェイス（API）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document specifies sockets API extensions for the multihoming shim layer. The API aims to enable interactions between applications and the multihoming shim layer for advanced locator management, and access to information about failure detection and path exploration.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、マルチホームシム層のSockets API拡張機能を指定します。APIは、高度なロケーター管理のために、アプリケーションとマルチホームシム層との相互作用を可能にすること、および障害検出とパス探索に関する情報へのアクセスを目指しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is based on an assumption that a multihomed host is equipped with a conceptual sub-layer (hereafter called &#34;shim sub-layer&#34;) inside the IP layer that maintains mappings between identifiers and locators. Examples of the shim are Shim6 and the Host Identity Protocol (HIP).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、マルチホームホストには、識別子とロケーター間のマッピングを維持するIPレイヤー内の概念サブレイヤー（以下「シムサブレイヤー」と呼ばれる）を装備しているという仮定に基づいています。SHIMの例は、SHIM6とホストIDプロトコル（HIP）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の位置付け
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is not an Internet Standards Track specification; it is published for informational purposes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、インターネット標準の追跡仕様ではありません。情報目的で公開されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are a candidate for any level of Internet Standard; see Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、インターネットエンジニアリングタスクフォース（IETF）の製品です。IETFコミュニティのコンセンサスを表しています。公開レビューを受けており、インターネットエンジニアリングステアリンググループ（IESG）からの出版が承認されています。IESGによって承認されたすべてのドキュメントが、あらゆるレベルのインターネット標準の候補者ではありません。RFC 5741のセクション2を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6316.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、任意のERRATA、およびそのフィードバックを提供する方法に関する情報は、http：//www.rfc-editor.org/info/rfc6316で取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2011 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2011 IETF Trustおよび文書著者として特定された人。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、BCP 78およびIETFドキュメント（http://trustee.ietf.org/license-info）に関連するIETF Trustの法的規定の対象となります。この文書に関するあなたの権利と制限を説明するので、これらの文書を注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、セクション4.Eで説明されている法的規定のセクション4.Eで説明されており、単純化されたBSDライセンスで説明されているように保証なしで提供される簡略化されたBSDライセンステキストを含める必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントには、2008年11月10日までに公開または公開されたIETFドキュメントまたはIETFの寄付からの資料が含まれている場合があります。IETF標準プロセスの外。そのような資料の著作権を制御する人から適切なライセンスを取得せずに、このドキュメントはIETF標準プロセスの外側に変更されない場合があり、その派生作業は、ITF標準プロセスの外側で作成されない場合があります。RFCとしての出版またはそれを英語以外の言語に翻訳するため。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................3
   2. Requirements Language ...........................................4
   3. Terminology and Background ......................................4
   4. System Overview .................................................7
   5. Requirements ....................................................8
   6. Socket Options for Multihoming Shim Sub-Layer ..................10
      6.1. SHIM_ASSOCIATED ...........................................14
      6.2. SHIM_DONTSHIM .............................................15
      6.3. SHIM_HOT_STANDBY ..........................................16
      6.4. SHIM_LOC_LOCAL_PREF .......................................17
      6.5. SHIM_LOC_PEER_PREF ........................................18
      6.6. SHIM_LOC_LOCAL_RECV .......................................19
      6.7. SHIM_LOC_PEER_RECV ........................................20
      6.8. SHIM_LOC_LOCAL_SEND .......................................20
      6.9. SHIM_LOC_PEER_SEND ........................................22
      6.10. SHIM_LOCLIST_LOCAL .......................................23
      6.11. SHIM_LOCLIST_PEER ........................................25
      6.12. SHIM_APP_TIMEOUT .........................................26
      6.13. SHIM_PATHEXPLORE .........................................27
         6.14. SHIM_DEFERRED_CONTEXT_SETUP ..............................28
      6.15. Applicability ............................................28
      6.16. Error Handling ...........................................29
   7. Ancillary Data for Multihoming Shim Sub-Layer ..................29
      7.1. Get Locator from Incoming Packet ..........................30
      7.2. Set Locator for Outgoing Packet ...........................30
      7.3. Notification from Application to Multihoming Shim
           Sub-Layer .................................................31
      7.4. Applicability .............................................31
   8. Data Structures ................................................32
      8.1. Data Structure for Locator Information ....................32
           8.1.1. Handling Locator behind NAT ........................33
      8.2. Path Exploration Parameter ................................34
      8.3. Feedback Information ......................................35
   9. System Requirements ............................................36
   10. Relation to Existing Sockets API Extensions ...................36
   11. Operational Considerations ....................................37
      11.1. Conflict Resolution ......................................37
      11.2. Incompatibility between IPv4 and IPv6 ....................38
   12. IANA Considerations ...........................................38
   13. Protocol Constant .............................................38
   14. Security Considerations .......................................38
      14.1. Treatment of Unknown Locator .............................39
           14.1.1. Treatment of Unknown Source Locator ...............39
           14.1.2. Treatment of Unknown Destination Locator ..........39
   15. Acknowledgments ...............................................40
   16. References ....................................................40
      16.1. Normative References .....................................40
      16.2. Informative References ...................................41
   Appendix A. Context Forking .......................................42
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines sockets API extensions by which upper-layer protocols may be informed about and control the way in which a multihoming shim sub-layer in the IP layer manages the dynamic choice of locators. Initially, the multihoming shim sub-layer refers to Shim6 and/or HIP, but it is defined generically.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、上層層プロトコルにIPレイヤーのマルチホームシムサブレイヤーがロケーターの動的な選択を管理する方法を通知し、制御できるソケットAPI拡張機能を定義します。当初、マルチホームシムサブレイヤーはShim6および/または股関節を指しますが、一般的に定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The role of the multihoming shim sub-layer (hereafter called &#34;shim sub-layer&#34; in this document) is to avoid impacts to upper-layer protocols that may be caused when the endhost changes its attachment point to the Internet -- for instance, in the case of a rehoming event under the multihomed environment. There is, however, a need for an API in the cases where 1) the upper-layer protocol is particularly sensitive to impacts, or 2) the upper-layer protocol wants to benefit from better knowledge of what is going on underneath.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
マルチホミングシムサブレイヤー（このドキュメントの「シムサブレイヤー」と呼ばれる以下）の役割は、エンドホストがインターネットに添付ファイルポイントを変更したときに引き起こされる可能性のある上層層プロトコルへの影響を避けることです。マルチホーム環境の下での再ホームイベントの場合。ただし、1）上層層プロトコルが影響に特に敏感である場合、または2）上層層プロトコルは、下で何が起こっているかについてのより良い知識から利益を得たい場合、APIが必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are various kinds of technologies that aim to solve the same issue (the multihoming issue). Note that there will be conflict when more than one shim sub-layer is active at the same time. The assumption made in this document is that there is only a single shim sub-layer (HIP or Shim6) activated on the system.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
同じ問題を解決することを目的としたさまざまな種類のテクノロジーがあります（マルチホームの問題）。複数のシムサブレイヤーが同時にアクティブである場合、競合が発生することに注意してください。このドキュメントで行われた仮定は、システム上でアクティブ化された単一のシムサブレイヤー（股関節またはSHIM6）のみがあることです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The target readers of this document are application programmers who develop application software that may benefit greatly from multihomed environments. In addition, this document aims to provide necessary information for developers of shim protocols to implement APIs for enabling advanced locator management.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントのターゲットリーダーは、マルチホーム環境から大きな利益を得る可能性のあるアプリケーションソフトウェアを開発するアプリケーションプログラマーです。さらに、このドキュメントは、高度なロケーター管理を可能にするためにAPIを実装するために、SHIMプロトコルの開発者に必要な情報を提供することを目的としています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--Requirements-Language">
2. Requirements Language
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 要件言語
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「必須」、「そうしない」、「必須」、「必要」、「しない」、「そうしない」、「そうではない」、「そうでない」、「推奨」、「5月」、および「オプション」は、[RFC2119]に記載されているように解釈される。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--Terminology-and-Background">
3. Terminology and Background
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 用語と背景
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section provides terminology used in this document. Basically, most of the terms used in this document are taken from the following documents:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、このドキュメントで使用される用語を提供します。基本的に、このドキュメントで使用されている用語のほとんどは、次のドキュメントから取得されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Shim6 Protocol Specification [RFC5533]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM6プロトコル仕様[RFC5533]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o HIP Architecture [RFC4423]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ヒップアーキテクチャ[RFC4423]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Reachability Protocol (REAP) [RFC5534]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o リーチ可能性プロトコル（REAP）[RFC5534]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this document, the term &#34;IP&#34; refers to both IPv4 and IPv6, unless the protocol version is specifically mentioned. The following are definitions of terms frequently used in this document:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、「IP」という用語は、プロトコルバージョンが具体的に言及されていない限り、IPv4とIPv6の両方を指します。以下は、このドキュメントで頻繁に使用される用語の定義です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Endpoint Identifier (EID) -- The identifier used by the application to specify the endpoint of a given communication. Applications may handle EIDs in various ways, such as long-lived connections, callbacks, and referrals [SHIM6-APP-REFER].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o エンドポイント識別子（EID） - 特定の通信のエンドポイントを指定するためにアプリケーションで使用される識別子。アプリケーションは、長命の接続、コールバック、紹介[SHIM6-APP-REFER]など、さまざまな方法でEIDを処理する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* In the case of Shim6, an identifier called a ULID (Upper-Layer Identifier) serves as an EID. A ULID is chosen from locators available on the host.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* SHIM6の場合、尿素（上層識別子）と呼ばれる識別子がEIDとして機能します。ホストで利用可能なロケーターからulidが選択されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* In the case of HIP, an identifier called a Host Identifier serves as an EID. A Host Identifier is derived from the public key of a given host. For the sake of backward compatibility with the sockets API, the Host Identifier is represented in the form of a hash of a public key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 股関節の場合、ホスト識別子と呼ばれる識別子がEIDとして機能します。ホスト識別子は、特定のホストの公開鍵から派生しています。Sockets APIとの後方互換性のために、ホスト識別子は公開キーのハッシュの形で表されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Note that the EID appears in the standard sockets API as an address, and does not appear in the extensions defined in this document, which only concern locators.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* EIDは標準ソケットAPIにアドレスとして表示され、このドキュメントで定義されている拡張機能には表示されないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Locator - The IP address actually used to deliver IP packets. Locators are present in the source and destination fields of the IP header of a packet on the wire. A locator as discussed in this document could be either an IPv4 address or an IPv6 address. Note that HIP can handle both IPv4 and IPv6 locators, whereas Shim6 can handle only IPv6 locators. For the HIP case, a locator can be a private IPv4 address when the host is behind a NAT. Section 8.1.1 gives a detailed description about the handling of a locator behind a NAT.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ロケーター - 実際にはIPパケットを配信するために使用されていました。ロケーターは、ワイヤー上のパケットのIPヘッダーのソースおよび宛先フィールドに存在します。このドキュメントで説明されているロケーターは、IPv4アドレスまたはIPv6アドレスのいずれかです。HIPはIPv4とIPv6ロケーターの両方を処理できるのに対し、SHIM6はIPv6ロケーターのみを処理できることに注意してください。HIPケースの場合、ホストがNATの背後にある場合、ロケーターはプライベートIPv4アドレスになります。セクション8.1.1は、NATの背後にあるロケーターの取り扱いに関する詳細な説明を示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* List of locators - A list of locators associated with an EID. There are two lists of locators stored in a given context. One is associated with the local EID, and the other is associated with the remote EID. As defined in [RFC5533], the list of locators associated with an EID &#39;A&#39; is denoted as Ls(A).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* ロケーターのリスト -  EIDに関連するロケーターのリスト。特定のコンテキストに保存されているロケーターの2つのリストがあります。1つは地元のEIDに関連付けられており、もう1つはリモートEIDに関連付けられています。[RFC5533]で定義されているように、EID &#39;A&#39;に関連付けられたロケーターのリストはLS（a）として示されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Preferred locator - The (source/destination) locator currently used to send packets within a given context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 優先ロケーター - 特定のコンテキスト内でパケットを送信するために現在使用されている（ソース/宛先）ロケーター。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Unknown locator - Any locator that does not appear in the locator list of the shim context associated with the socket. When there is no shim context associated with the socket, any source and/or destination locator requested by the application is considered to be an unknown locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 不明なロケーター - ソケットに関連付けられたシムコンテキストのロケーターリストに表示されないロケーター。ソケットに関連付けられたシムコンテキストがない場合、アプリケーションによって要求されたソースおよび/または宛先ロケーターは不明なロケーターと見なされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Valid locator - A valid locator means that the locator is considered to be valid in the security sense. More specifically, the validity indicates whether the locator is part of a Hash-Based Address (HBA) set [RFC5535].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 有効なロケーター - 有効なロケーターとは、ロケーターがセキュリティの意味で有効であると見なされることを意味します。より具体的には、有効性は、ロケーターがハッシュベースのアドレス（HBA）セット[RFC5535]の一部であるかどうかを示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Verified locator - A verified locator means that the locator is considered to be reachable according to the result of a REAP return routability check. Note that the verification applies only to the peer&#39;s locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 検証済みのロケーター - 検証済みのロケーターとは、REAPリターンルー上のチェックの結果に応じて、ロケーターが到達可能であると見なされることを意味します。検証はピアのロケーターにのみ適用されることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Shim - The conceptual sub-layer inside the IP layer. This sub-layer maintains mappings between EIDs and locators. An EID can be associated with more than one locator at a time when the host is multihomed. The term &#34;shim&#34; does not refer to a specific protocol but refers to the conceptual sub-layer inside the IP layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o シム -  IPレイヤー内の概念サブレイヤー。このサブ層は、EIDとロケーター間のマッピングを維持します。EIDは、ホストがマルチホームされているときに、複数のロケーターに関連付けることができます。「シム」という用語は、特定のプロトコルを指すのではなく、IPレイヤー内の概念サブレイヤーを指します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Identifier/locator adaptation - The adaptation performed at the shim sub-layer. This adaptation may end up re-writing the source and/or destination addresses of an IP packet. In the outbound packet processing, the EID pair is converted to the associated locator pair. In the inbound packet processing, the locator pair is converted to the EID pair.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 識別子/ロケーターの適応 - シムサブレイヤーで実行される適応。この適応は、IPパケットのソースおよび/または宛先アドレスを書き直すことになります。アウトバウンドパケット処理では、EIDペアは関連するロケーターペアに変換されます。インバウンドパケット処理では、ロケーターペアがEIDペアに変換されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Context - The state information shared by a given pair of peers. Context stores a binding between the EID and associated locators. Contexts are maintained by the shim sub-layer. Deferred context setup is a scenario where a context is established after the communication starts. Deferred context setup is possible if the ULID is routable, such as in the case of Shim6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o コンテキスト - 特定のピアが共有する状態情報。コンテキストは、EIDと関連するロケーターの間にバインディングを保存します。コンテキストは、シムサブレイヤーによって維持されます。延期されたコンテキストのセットアップは、通信が開始された後にコンテキストが確立されるシナリオです。SHIM6の場合のように、ulidがルーティング可能である場合、延期されたコンテキストのセットアップが可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Reachability detection - The procedure to check reachability between a given locator pair.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 到達可能性検出 - 特定のロケーターペア間の到達可能性を確認する手順。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Path - The sequence of routers that an IP packet goes through to reach the destination.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o パス -  IPパケットが宛先に到達するために通過するルーターのシーケンス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Path exploration - The procedure to explore available paths for a given set of locator pairs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o パス探索 - 特定のロケーターペアセットで利用可能なパスを探索する手順。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Outage - The incident that prevents IP packets flowing from the source locator to the destination locator. When there is an outage, it means that there is no reachability between a given locator pair. The outage may be caused by various reasons, such as a shortage of network resources, congestion, and human error (faulty operation).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 停止 - ソースロケーターから宛先ロケーターに流れるIPパケットを防ぐインシデント。停止がある場合、特定のロケーターペアの間に到達可能性がないことを意味します。停止は、ネットワークリソースの不足、混雑、人為的エラー（操作の故障）など、さまざまな理由によって引き起こされる場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Working address pair - Considered to be &#34;working&#34; if the packet can safely travel from the source to the destination, where the packet contains the first address from the pair as the source address and the second address from the pair as the destination address. If reachability is confirmed in both directions, the address pair is considered to be working bi-directionally.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ワーキングアドレスペア - パケットがソースから宛先まで安全に移動できる場合は「動作」と見なされます。パケットには、ペアの最初のアドレスがソースアドレスとして、ペアの2番目のアドレスが宛先アドレスとして含まれています。到達可能性が両方向に確認された場合、アドレスペアは双方向で動作していると見なされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Reachability Protocol (REAP) - The protocol for detecting failure and exploring reachability in a multihomed environment. REAP is defined in [RFC5534].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Reachability Protocol（REAP） - マルチホーム環境での障害を検出し、到達可能性を調査するためのプロトコル。REAPは[RFC5534]で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this document, syntax and semantics of the API are given in the same way as in the Portable Operating System Interface (POSIX) standard [POSIX]. The API specifies how to use ancillary data (aka cmsg) to access the locator information with recvmsg() and/or sendmsg() I/O calls. The API is described in C language, and data types are defined in the POSIX format; intN_t means a signed integer of exactly N bits (e.g., int16_t), and uintN_t means an unsigned integer of exactly N bits (e.g., uint32_t).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、APIの構文とセマンティクスは、ポータブルオペレーティングシステムインターフェイス（POSIX）標準[POSIX]と同じ方法で与えられます。APIは、補助データ（別名CMSG）を使用して、recvmsg（）および/またはsendmsg（）i/o呼び出しでロケーター情報にアクセスする方法を指定します。APIはC言語で説明されており、データ型はPOSIX形式で定義されています。intn_tは、正確にnビット（int16_tなど）の署名された整数を意味し、uintn_tは正確なnビット（uint32_tなど）の符号なし整数を意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The distinction between &#34;connected&#34; sockets and &#34;unconnected&#34; sockets is important when discussing the applicability of the sockets API defined in this document. A connected socket is bound to a given peer, whereas an unconnected socket is not bound to any specific peers. A TCP socket becomes a connected socket when the TCP connection establishment is completed. UDP sockets are unconnected, unless the application uses the connect() system call.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「接続された」ソケットと「接続されていない」ソケットの区別は、このドキュメントで定義されているソケットAPIの適用性を議論する際に重要です。接続されたソケットは特定のピアにバインドされますが、接続されていないソケットは特定のピアにバインドされていません。TCP接続の確立が完了すると、TCPソケットが接続されたソケットになります。アプリケーションがConnect（）システムコールを使用しない限り、UDPソケットは接続されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--System-Overview">
4. System Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. システムの概要
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 1 illustrates the system overview. The shim sub-layer and REAP component exist inside the IP layer. Applications use the sockets API defined in this document to interface with the shim sub-layer and the transport layer for locator management, failure detection, and path exploration.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図1は、システムの概要を示しています。ShimサブレイヤーとREAPコンポーネントは、IPレイヤー内に存在します。アプリケーションは、このドキュメントで定義されているソケットAPIを使用して、ロケーター管理、故障検出、およびパス探索のために、シムサブレイヤーと輸送層とのインターフェースを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is also possible that the shim sub-layer interacts with the transport layer; however, such an interaction is outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
シムサブレイヤーが輸送層と相互作用する可能性もあります。ただし、このような相互作用は、このドキュメントの範囲外です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        +------------------------+
                        |       Application      |
                        +------------------------+
                           ^                 ^
              ~~~~~~~~~~~~~|~Socket Interface|~~~~~~~~~~~~~~
                           |                 v
               +-----------|------------------------------+
               |           |  Transport Layer             |
               +-----------|------------------------------+
                     ^     |
       +-------------|-----|-------------------------------------+
       |             v     v                                     |
       |   +-----------------------------+       +----------+    |  IP
       |   |            Shim             |&lt;-----&gt;|   REAP   |    | Layer
       |   +-----------------------------+       +----------+    |
       |                       ^                      ^          |
       +-----------------------|----------------------|----------+
                               v                      v
               +------------------------------------------+
               |                Link Layer                |
               +------------------------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-25">
Figure 1: System Overview
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-25">
図1：システムの概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--Requirements">
5. Requirements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 要件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following is a list of requirements from applications:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下は、アプリケーションからの要件のリストです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Turn on/off shim. An application should be able to request to turn on or turn off the multihoming support by the shim layer:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o オン/オフシムをオン/オフします。アプリケーションは、シムレイヤーによるマルチホームサポートをオンまたはオフにすることを要求できる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Apply shim. The application should be able to explicitly request that the shim sub-layer apply multihoming support.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* シムを適用します。アプリケーションは、シムサブレイヤーがマルチホームサポートを適用することを明示的に要求できるはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Don&#39;t apply shim. The application should be able to request that the shim sub-layer not apply the multihoming support but apply normal IP processing at the IP layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* シムを適用しないでください。アプリケーションは、Shimサブレイヤーがマルチホームサポートを適用せず、IPレイヤーで通常のIP処理を適用することを要求できる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Note that this function is also required by other types of multihoming mechanisms, such as the Stream Control Transmission Protocol (SCTP) and multipath TCP, to avoid potential conflict with the shim sub-layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* この関数は、SHIMサブレイヤーとの潜在的な競合を回避するために、ストリーム制御伝送プロトコル（SCTP）やマルチパスTCPなどの他のタイプのマルチホームメカニズムによっても必要であることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Locator management.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ロケーター管理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* It should be possible to set a preferred source and/or destination locator within a given context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 指定されたコンテキスト内で優先ソースおよび/または宛先ロケーターを設定することができるはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* It should be possible to get a preferred source and/or destination locator within a given context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 特定のコンテキスト内で優先ソースおよび/または宛先ロケーターを取得することができるはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* It should be possible to set a list of source and/or destination locators within a given context: Ls(local) and Ls(remote).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 特定のコンテキスト内でソースおよび/または宛先ロケーターのリストを設定することが可能である必要があります：LS（ローカル）およびLS（リモート）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* It should be possible to get a list of source and/or destination locators within a given context: Ls(local) and Ls(remote).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 特定のコンテキスト内でソースおよび/または宛先ロケーターのリストを取得することが可能である必要があります：LS（ローカル）およびLS（リモート）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Notification from applications and upper-layer protocols to the shim sub-layer about the status of the communication. The notification occurs in an event-based manner. Applications and/or upper-layer protocols may provide positive feedback or negative feedback to the shim sub-layer. Note that these types of feedback are mentioned in [RFC5534]:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アプリケーションおよび上層層プロトコルから、通信のステータスに関するShimサブレイヤーへの通知。通知は、イベントベースの方法で発生します。アプリケーションおよび/または上層層プロトコルは、Shimサブレイヤーに肯定的なフィードバックまたは否定的なフィードバックを提供する場合があります。これらのタイプのフィードバックは[RFC5534]に記載されていることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Applications and/or upper-layer protocols (e.g., TCP) may provide positive feedback to the shim sub-layer informing that the communication is going well.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* アプリケーションおよび/または上層層プロトコル（TCPなど）は、通信が順調に進んでいることを知らせるShimサブ層に肯定的なフィードバックを提供する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* Applications and/or upper-layer protocols (e.g., TCP) may provide negative feedback to the shim sub-layer informing that the communication status is not satisfactory. TCP may detect a problem when it does not receive any expected ACK message from the peer. The REAP module may be triggered by the negative feedback and invoke the path exploration procedure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* アプリケーションおよび/または上層層プロトコル（TCPなど）は、通信ステータスが満足のいくものではないことを通知するシムサブレイヤーに否定的なフィードバックを提供する場合があります。TCPは、ピアから予想されるACKメッセージを受信しない場合、問題を検出する場合があります。REAPモジュールは、負のフィードバックによってトリガーされ、パス探索手順を呼び出す場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Feedback from applications to the shim sub-layer. Applications should be able to inform the shim sub-layer of the timeout values for detecting failures, sending keepalives, and starting the exploration procedure. In particular, applications should be able to suppress keepalives.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アプリケーションからシムサブレイヤーへのフィードバック。アプリケーションは、障害を検出し、キープライブを送信し、探索手順を開始するためのタイムアウト値をシムサブレイヤーに通知できる必要があります。特に、アプリケーションはKeepaliveを抑制できるはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Hot-standby. Applications may request the shim sub-layer for a hot-standby capability. This means that alternative paths are known to be working in advance of a failure detection. In such a case, it is possible for the shim sub-layer to immediately replace the current locator pair with an alternative locator pair.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ホットスタンドビー。アプリケーションは、Hot-Standby機能のためにShimサブレイヤーを要求する場合があります。これは、代替パスが障害検出の前に動作していることが知られていることを意味します。そのような場合、Shimサブレイヤーが現在のロケーターペアを代替ロケーターペアにすぐに置き換えることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Eagerness for locator exploration. An application should be able to inform the shim sub-layer of how aggressively it wants the REAP mechanism to perform a path exploration (e.g., by specifying the number of concurrent attempts of discovery of working locator pairs) when an outage occurs on the path between the locator pair in use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ロケーター探査への熱意。アプリケーションは、Shimサブレイヤーに、Path ExplorationをREAPメカニズムに実行することがどれほど積極的であるかを通知できる必要があります（たとえば、作業ロケーターペアの発見の同時試みの数を指定することにより）。使用中のロケーターペア。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Providing locator information to applications. An application should be able to obtain information about the locator pair that was actually used to send or receive packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ロケーター情報をアプリケーションに提供します。アプリケーションは、実際にパケットを送信または受信するために使用されたロケーターペアに関する情報を取得できる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* For inbound traffic, the application may be interested in the locator pair that was actually used to receive the packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* インバウンドトラフィックの場合、アプリケーションは、実際にパケットを受信するために使用されたロケーターペアに関心がある場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* For outbound traffic, the application may be interested in the locator pair that was actually used to transmit the packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* アウトバウンドトラフィックの場合、アプリケーションは、実際にパケットの送信に使用されたロケーターペアに関心がある場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
In this way, applications may have additional control of the locator management. For example, an application becomes capable of verifying if its preference for a locator is actually applied to the flow or not.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
このようにして、アプリケーションはロケーター管理をさらに制御できる場合があります。たとえば、アプリケーションは、ロケーターの好みが実際にフローに適用されるかどうかを確認できるようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Applications should be able to know if the shim sub-layer supports deferred context setup or not.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アプリケーションは、シムサブレイヤーが繰延コンテキストのセットアップをサポートするかどうかを知ることができるはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o An application should be able to know if the communication is now being served by the shim sub-layer or not.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アプリケーションは、コミュニケーションがShimサブレイヤーによって提供されているかどうかを知ることができるはずです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o An application should be able to use a common interface to access an IPv4 locator and an IPv6 locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アプリケーションは、共通インターフェイスを使用してIPv4ロケーターとIPv6ロケーターにアクセスできる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--Socket-Options-for-Multihoming-Shim-Sub-Layer">
6. Socket Options for Multihoming Shim Sub-Layer
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. マルチホミングシムサブレイヤーのソケットオプション
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this section, socket options that are specific to the shim sub-layer are defined.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、シムサブレイヤーに固有のソケットオプションが定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Table 1 shows a list of the socket options that are specific to the shim sub-layer. All of these socket options are defined at the level SOL_SHIM. When an application uses one of the socket options by getsockopt() or setsockopt(), the second argument MUST be set to SOL_SHIM.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
表1は、シムサブレイヤーに固有のソケットオプションのリストを示しています。これらのソケットオプションはすべて、レベルSOL_SHIMで定義されています。アプリケーションがgetSockopt（）またはsetSockopt（）によってソケットオプションの1つを使用する場合、2番目の引数をsol_shimに設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first column of Table 1 gives the name of the option. The second column indicates whether the value for the socket option can be read by getsockopt(), and the third column indicates whether the value for the socket option can be written by setsockopt(). The fourth column provides a brief description of the socket option. The fifth column shows the type of data structure specified along with the socket option. By default, the data structure type is an integer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
表1の最初の列は、オプションの名前を示しています。2番目の列は、Socketオプションの値をGetSockopt（）で読み取ることができるかどうかを示し、3番目の列はSetSockopt（）でStockeオプションの値を記述できるかどうかを示します。4番目の列は、ソケットオプションの簡単な説明を提供します。5番目の列は、ソケットオプションとともに指定されたデータ構造のタイプを示しています。デフォルトでは、データ構造タイプは整数です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   +-----------------------------+-----+-----+-----------------+-------+
   | optname                     | get | set | description     | dtype |
   +-----------------------------+-----+-----+-----------------+-------+
   | SHIM_ASSOCIATED             | o   |     | Get the         | int   |
   |                             |     |     | parameter that  |       |
   |                             |     |     | indicates       |       |
   |                             |     |     | whether the     |       |
   |                             |     |     | socket is       |       |
   |                             |     |     | associated (1)  |       |
   |                             |     |     | with any shim   |       |
   |                             |     |     | context or not  |       |
   |                             |     |     | (0).            |       |
   | SHIM_DONTSHIM               | o   | o   | Get or set the  | int   |
   |                             |     |     | parameter that  |       |
   |                             |     |     | indicates       |       |
   |                             |     |     | whether or not  |       |
   |                             |     |     | to employ       |       |
   |                             |     |     | multihoming     |       |
   |                             |     |     | support by the  |       |
   |                             |     |     | shim sub-layer. |       |
   | SHIM_HOT_STANDBY            | o   | o   | Get or set the  | int   |
   |                             |     |     | parameter to    |       |
   |                             |     |     | request the     |       |
   |                             |     |     | shim sub-layer  |       |
   |                             |     |     | to prepare a    |       |
   |                             |     |     | hot-standby     |       |
   |                             |     |     | connection.     |       |
   | SHIM_LOC_LOCAL_PREF         | o   | o   | Set the         | Note  |
   |                             |     |     | preference      | 1     |
   |                             |     |     | value for a     |       |
   |                             |     |     | source locator  |       |
   |                             |     |     | for outbound    |       |
   |                             |     |     | traffic.  Get   |       |
   |                             |     |     | the preferred   |       |
   |                             |     |     | locator for the |       |
   |                             |     |     | source locator  |       |
   |                             |     |     | for outbound    |       |
   |                             |     |     | traffic.        |       |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   | SHIM_LOC_PEER_PREF          | o   | o   | Set the         | Note  |
   |                             |     |     | preference      | 1     |
   |                             |     |     | value for a     |       |
   |                             |     |     | destination     |       |
   |                             |     |     | locator for     |       |
   |                             |     |     | outbound        |       |
   |                             |     |     | traffic.  Get   |       |
   |                             |     |     | the preferred   |       |
   |                             |     |     | locator for the |       |
   |                             |     |     | destination     |       |
   |                             |     |     | locator for     |       |
   |                             |     |     | outbound        |       |
   |                             |     |     | traffic.        |       |
   | SHIM_LOC_LOCAL_RECV         | o   | o   | Request the     | int   |
   |                             |     |     | shim sub-layer  |       |
   |                             |     |     | to store the    |       |
   |                             |     |     | destination     |       |
   |                             |     |     | locator of the  |       |
   |                             |     |     | received IP     |       |
   |                             |     |     | packet in an    |       |
   |                             |     |     | ancillary data  |       |
   |                             |     |     | object.         |       |
   | SHIM_LOC_PEER_RECV          | o   | o   | Request the     | int   |
   |                             |     |     | shim sub-layer  |       |
   |                             |     |     | to store the    |       |
   |                             |     |     | source locator  |       |
   |                             |     |     | of the received |       |
   |                             |     |     | IP packet in an |       |
   |                             |     |     | ancillary data  |       |
   |                             |     |     | object.         |       |
   | SHIM_LOC_LOCAL_SEND         | o   | o   | Get or set the  | Note  |
   |                             |     |     | source locator  | 1     |
   |                             |     |     | of outgoing IP  |       |
   |                             |     |     | packets.        |       |
   | SHIM_LOC_PEER_SEND          | o   | o   | Get or set the  | Note  |
   |                             |     |     | destination     | 1     |
   |                             |     |     | locator of      |       |
   |                             |     |     | outgoing IP     |       |
   |                             |     |     | packets.        |       |
   | SHIM_LOCLIST_LOCAL          | o   | o   | Get or set the  | Note  |
   |                             |     |     | list of         | 2     |
   |                             |     |     | locators        |       |
   |                             |     |     | associated with |       |
   |                             |     |     | the local EID.  |       |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   | SHIM_LOCLIST_PEER           | o   | o   | Get or set the  | Note  |
   |                             |     |     | list of         | 2     |
   |                             |     |     | locators        |       |
   |                             |     |     | associated with |       |
   |                             |     |     | the peer&#39;s EID. |       |
   | SHIM_APP_TIMEOUT            | o   | o   | Get or set the  | int   |
   |                             |     |     | Send Timeout    |       |
   |                             |     |     | value of REAP.  |       |
   | SHIM_PATHEXPLORE            | o   | o   | Get or set      | Note  |
   |                             |     |     | parameters for  | 3     |
   |                             |     |     | path            |       |
   |                             |     |     | exploration and |       |
   |                             |     |     | failure         |       |
   |                             |     |     | detection.      |       |
   | SHIM_CONTEXT_DEFERRED_SETUP | o   |     | Get the         | int   |
   |                             |     |     | parameter that  |       |
   |                             |     |     | indicates       |       |
   |                             |     |     | whether         |       |
   |                             |     |     | deferred        |       |
   |                             |     |     | context setup   |       |
   |                             |     |     | is supported or |       |
   |                             |     |     | not.            |       |
   +-----------------------------+-----+-----+-----------------+-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
Table 1: Socket Options for Multihoming Shim Sub-Layer
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
表1：マルチホミングシムサブレイヤーのソケットオプション
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note 1: Pointer to a shim_locator as defined in Section 8.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注1：セクション8で定義されているshim_locatorへのポインター。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note 2: Pointer to an array of shim_locator data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注2：shim_locatorデータの配列へのポインタ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note 3: Pointer to a shim_pathexplore as defined in Section 8.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注3：セクション8で定義されているshim_pathexploreへのポインター。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 2 illustrates how the shim-specific socket options fit into the system model of sockets API. The figure shows that the shim sub-layer and the additional protocol components (IPv4 and IPv6) below the shim sub-layer are new to the system model. As previously mentioned, all the shim-specific socket options are defined at the SOL_SHIM level. This design choice brings the following advantages:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図2は、シム固有のソケットオプションがソケットAPIのシステムモデルにどのように適合するかを示しています。この図は、ShimサブレイヤーとShimサブレイヤーの下の追加のプロトコルコンポーネント（IPv4およびIPv6）がシステムモデルに新しくなっていることを示しています。前述のように、すべてのシム固有のソケットオプションは、sol_shimレベルで定義されています。この設計の選択により、次の利点があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The existing sockets APIs continue to work at the layer above the shim sub-layer. That is, those legacy APIs handle IP addresses as identifiers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 既存のソケットAPIは、シムサブレイヤーの上のレイヤーで動作し続けます。つまり、これらのレガシーAPIは識別子としてIPアドレスを処理します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. With newly defined socket options for the shim sub-layer, the application obtains additional control of locator management.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Shimサブレイヤーの新たに定義されたソケットオプションを使用すると、アプリケーションはロケーター管理の追加制御を取得します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The shim-specific socket options can be kept independent from address family (IPPROTO_IP or IPPROTO_IPV6) and transport protocol (IPPROTO_TCP or IPPROTO_UDP) settings.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. SHIM固有のソケットオプションは、アドレスファミリ（IPPROTO_IPまたはIPPROTO_IPV6）および輸送プロトコル（IPPROTO_TCPまたはIPPROTO_UDP）の設定から独立して保つことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                            s1 s2      s3 s4
                             |  |       |  |
            +----------------|--|-------|--|----------------+
            |             +-------+   +-------+             |
            | IPPROTO_TCP |  TCP  |   |  UDP  |             |
            |             +-------+   +-------+             |
            |                |   \     /   |                |
            |                |    -----    |                |
            |                |   /     \   |                |
            |              +------+   +------+              |
            |   IPPROTO_IP | IPv4 |   | IPv6 | IPPROTO_IPV6 |
            |              +------+   +------+              |
            |                  \         /             SOL_SOCKET
            |          +--------\-------/--------+          |
            | SOL_SHIM |          shim           |          |
            |          +--------/-------\--------+          |
            |                  /         \                  |
            |              +------+   +------+              |
            |              | IPv4 |   | IPv6 |              |
            |              +------+   +------+              |
            |                  |          |                 |
            +------------------|----------|-----------------+
                               |          |
                             IPv4       IPv6
                           Datagram   Datagram
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Figure 2: System Model of Sockets API with Shim Sub-Layer
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
図2：Shimサブレイヤーを使用したソケットAPIのシステムモデル
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-1--SHIMASSOCIATED">
6.1. SHIM_ASSOCIATED
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. shim_associated
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_ASSOCIATED option is used to check whether or not the socket is associated with any shim context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_associatedオプションは、ソケットがShimコンテキストに関連付けられているかどうかを確認するために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This option is meaningful when the locator information of the received IP packet does not tell whether or not the identifier/ locator adaptation is performed. Note that the EID pair and the locator pair may be identical in some cases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このオプションは、受信したIPパケットのロケーター情報が識別子/ロケーターの適応が実行されているかどうかを知らない場合に意味があります。EIDペアとロケーターペアは、場合によっては同一であることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the socket option is read-only, and the option value can be read by getsockopt(). The result (0/1/2) is set in the option value (the fourth argument of getsockopt()).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットオプションは読み取り専用であり、Option値はgetSockopt（）によって読み取ることができることに注意してください。結果（0/1/2）は、オプション値（getSockopt（）の4番目の引数）で設定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is an integer. The option value indicates the presence of shim context. A return value of 1 means that the socket is associated with a shim context at the shim sub-layer. A return value of 0 indicates that there is no shim context associated with the socket. A return value of 2 means that it is not known whether or not the socket is associated with a shim context, and this MUST be returned only when the socket is unconnected. In other words, the returned value MUST be 0 or 1 when the socket is connected.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数です。オプション値は、シムコンテキストの存在を示します。1の戻り値は、ソケットがシムサブレイヤーのシムコンテキストに関連付けられていることを意味します。0の戻り値は、ソケットに関連付けられたシムコンテキストがないことを示します。2の戻り値は、ソケットがシムコンテキストに関連付けられているかどうかがわからないことを意味し、これはソケットが接続されていない場合にのみ返さなければなりません。つまり、ソケットを接続するときは、返された値は0または1でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, the option can be used by the application as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、オプションは次のようにアプリケーションで使用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       int optval;
       int optlen = sizeof(optval);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_ASSOCIATED, &amp;optval, &amp;optlen);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_associated、＆optval、＆optlen）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-2--SHIMDONTSHIM">
6.2. SHIM_DONTSHIM
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. shim_dontshim
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_DONTSHIM option is used to request that the shim layer not provide the multihoming support for the communication established over the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_dontshimオプションは、Shimレイヤーがソケットに確立された通信のマルチホームサポートを提供しないことを要求するために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is an integer, and it takes 0 or 1. An option value of 0 means that the shim sub-layer is employed if available. An option value of 1 means that the application does not want the shim sub-layer to provide the multihoming support for the communication established over the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数であり、0または1が必要です。オプション値は、可能な場合はシムサブレイヤーが使用されることを意味します。1のオプション値は、アプリケーションがShimサブレイヤーにソケットを介して確立された通信のマルチホームサポートを提供することを望まないことを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The default value is set to 0, which means that the shim sub-layer performs identifier/locator adaptation if available.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
デフォルト値は0に設定されています。つまり、Shimサブレイヤーは、利用可能な場合は識別子/ロケーターの適応を実行します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Any attempt to disable the multihoming shim support MUST be made by the application before the socket is connected. If an application makes such an attempt for a connected socket, error code EOPNOTSUPP MUST be returned.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットが接続される前に、マルチホームシムサポートを無効にする試みは、アプリケーションによって行う必要があります。アプリケーションが接続されたソケットをこのような試みにした場合、エラーコードEOPNOTSUPPを返す必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can request that the system not apply the multihoming support as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、システムが次のようにマルチホームサポートを適用しないことを要求できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
optval = 1;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
optval = 1;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       setsockopt(fd, SOL_SHIM, SHIM_DONTSHIM, &amp;optval, sizeof(optval));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, the application can check the option value as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは次のようにオプション値を確認できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(optval);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_DONTSHIM, &amp;optval, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_dontshim、＆optval、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-3--SHIMHOTSTANDBY">
6.3. SHIM_HOT_STANDBY
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. shim_hot_standby
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_HOT_STANDBY option is used to control whether or not the shim sub-layer employs a hot-standby connection for the socket. A hot-standby connection is an alternative working locator pair to the current locator pair. This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_HOT_STANDBYオプションは、SHIMサブレイヤーがソケットのホットスタンドバイ接続を使用しているかどうかを制御するために使用されます。Hot-Standby接続は、現在のロケーターペアの代替作業ロケーターペアです。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is an integer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The option value can be set by setsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値は、setSockopt（）によって設定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The option value can be read by getsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値は、getSockopt（）によって読み取ることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By default, the value is set to 0, meaning that hot-standby connection is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
デフォルトでは、値は0に設定されています。つまり、Hot-Standby接続が無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can request establishment of a hot-standby connection by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用して、ホットスタンドバイ接続の確立を要求できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
optval = 1;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
optval = 1;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setsockopt(fd, SOL_SHIM, SHIM_HOT_STANDBY, &amp;optval, sizeof(optval));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
SetSockopt（FD、SOL_SHIM、SHIM_HOT_STANDBY、＆OPTVAL、SIZEOF（OptVal））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can get the option value by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用してオプション値を取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(optval);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_HOT_STANDBY, &amp;optval, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_hot_standby、＆optval、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-4--SHIMLOCLOCALPREF">
6.4. SHIM_LOC_LOCAL_PREF
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. shim_loc_local_pref
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOC_LOCAL_PREF option is used to set the preference value for a source locator for outbound traffic, or to get the preference value of the source locator for outbound traffic that has the highest preference value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_LOCAL_PREFオプションは、アウトバウンドトラフィックのソースロケーターの優先値を設定するか、最高の優先値を持つアウトバウンドトラフィックのソースロケーターの優先値を取得するために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By default, the option value is set to NULL, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
デフォルトでは、オプション値はnullに設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The preference of a locator is defined by a combination of priority and weight as per DNS SRV [RFC2782]. Note that the Shim6 base protocol defines the preference of a locator in the same way.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ロケーターの選好は、DNS SRV [RFC2782]に従って優先度と重量の組み合わせによって定義されます。SHIM6ベースプロトコルは、同じ方法でロケーターの選好を定義することに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the shim_locator information data structure as defined in Section 8.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、セクション8.1で定義されているshim_locator情報データ構造へのポインターです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットのソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when the validation of the specified locator fails.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードEINVALIDLOCATORは、指定されたロケーターの検証が失敗したときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can set the preference value for a source locator for outbound traffic by setsockopt() with the socket option. Note that lc_ifidx and lc_flags (as defined in Section 8.1) have no effect in a set operation. Below is an example of such a set operation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、ソケットオプションを使用して、SetSockopt（）によってアウトバウンドトラフィックのソースロケーターの優先値を設定できます。LC_IFIDXおよびLC_FLAGS（セクション8.1で定義されている）は、設定操作に効果がないことに注意してください。以下は、このようなセット操作の例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator lc; struct in6_addr ip6;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator lc;struct in6_addr ip6;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* ...set the locator (ip6)... */
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       memset(&amp;lc, 0, sizeof(shim_locator));
       lc.lc_family = AF_INET6;  /* IPv6 */
       lc.lc_ifidx = 0;
       lc.lc_flags = 0;
       lc.lc_prio = 1;
       lc.lc_weight = 10;
       memcpy(&amp;lc.lc_addr, &amp;ip6, sizeof(in6_addr));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_PREF, &amp;lc, sizeof(optval));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
SetSockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_PREF、＆LC、SIZEOF（OptVal））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get the source locator for outbound traffic that has the highest preference value by using the socket option. Below is an example of such a get operation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、ソケットオプションを使用して、優先順位が最も高いアウトバウンドトラフィック用のソースロケーターを取得できます。以下は、このようなGET操作の例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator lc; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator lc;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(lc);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_PREF, &amp;lc, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_loc_local_pref、＆lc、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-5--SHIMLOCPEERPREF">
6.5. SHIM_LOC_PEER_PREF
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.5. shim_loc_peer_pref
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOC_PEER_PREF option is used to set the preference value for a destination locator for outbound traffic, or to get the preference value of the destination locator for outbound traffic that has the highest preference value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_PEER_PREFオプションは、アウトバウンドトラフィック用の宛先ロケーターの優先値を設定するか、最高の優先値を持つアウトバウンドトラフィックの宛先ロケーターの優先値を取得するために使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By default, the option value is set to NULL, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
デフォルトでは、オプション値はnullに設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As defined earlier, the preference of a locator is defined by a combination of priority and weight as per DNS SRV [RFC2782]. When there is more than one candidate destination locator, the shim sub-layer makes a selection based on the priority and weight specified for each locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
前に定義されたように、ロケーターの好みは、DNS SRV [RFC2782]に従って優先度と重量の組み合わせによって定義されます。複数の候補の宛先ロケーターがある場合、Shimサブレイヤーは、各ロケーターに指定された優先度と重量に基づいて選択を行います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the shim_locator information data structure as defined in Section 8.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、セクション8.1で定義されているshim_locator情報データ構造へのポインターです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when the validation of the requested locator fails.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeinvalidLocatorは、要求されたロケーターの検証が失敗したときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunReachableLocatorは、要求されたロケーターが到達可能性チェックに従って到達不可能であると判断されたときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The usage of the option is the same as that of SHIM_LOC_LOCAL_PREF.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションの使用法は、shim_loc_local_prefの使用と同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-6--SHIMLOCLOCALRECV">
6.6. SHIM_LOC_LOCAL_RECV
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.6. shim_loc_local_recv
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOC_LOCAL_RECV option can be used to request that the shim sub-layer store the destination locator of the received IP packet in an ancillary data object that can be accessed by recvmsg(). This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_loc_local_recvオプションを使用して、shimサブレイヤーに、recvmsg（）でアクセスできる補助データオブジェクトに受信したIPパケットの宛先ロケーターを保存するように要求できます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is an integer. The option value MUST be binary (0 or 1). By default, the option value is set to 0, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数です。オプション値はバイナリ（0または1）でなければなりません。デフォルトでは、オプション値は0に設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can set the option value by setsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、SetSockopt（）によってオプション値を設定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get the option value by getsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、getSockopt（）によってオプション値を取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See Section 7 for the procedure to access locator information stored in the ancillary data objects.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
補助データオブジェクトに保存されているロケーター情報にアクセスする手順については、セクション7を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can request the shim sub-layer to store a destination locator by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、ソケットオプションを次のように使用して、Shimサブレイヤーに宛先ロケーターを保存するように要求できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
optval = 1;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
optval = 1;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_RECV, &amp;optval, sizeof(optval));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
SetSockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_RECV、＆OPTVAL、SIZEOF（OptVal））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can get the option value as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは次のようにオプション値を取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(optval);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_RECV, &amp;optval, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_loc_local_recv、＆optval、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-7--SHIMLOCPEERRECV">
6.7. SHIM_LOC_PEER_RECV
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.7. shim_loc_peer_recv
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOC_PEER_RECV option is used to request that the shim sub-layer store the source locator of the received IP packet in an ancillary data object that can be accessed by recvmsg(). This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_PEER_RECVオプションは、shimサブレイヤーが、Recvmsg（）でアクセスできる補助データオブジェクトに受信したIPパケットのソースロケーターを保存するように要求するために使用されます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is an integer. The option value MUST be binary (0 or 1). By default, the option value is set to 0, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数です。オプション値はバイナリ（0または1）でなければなりません。デフォルトでは、オプション値は0に設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The option value can be set by setsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値は、setSockopt（）によって設定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The option value can be read by getsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値は、getSockopt（）によって読み取ることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See Section 7 for the procedure to access locator information stored in the ancillary data objects.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
補助データオブジェクトに保存されているロケーター情報にアクセスする手順については、セクション7を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The usage of the option is the same as that of the SHIM_LOC_LOCAL_RECV option.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションの使用法は、shim_loc_local_recvオプションの使用と同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-8--SHIMLOCLOCALSEND">
6.8. SHIM_LOC_LOCAL_SEND
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.8. shim_loc_local_send
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOC_LOCAL_SEND option is used to request that the shim sub-layer use a specific locator as the source locator for the IP packets to be sent from the socket. This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_LOCAL_SENDオプションは、SHIMサブレイヤーがソケットから送信されるIPパケットのソースロケーターとして特定のロケーターを使用することを要求するために使用されます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the shim_locator data structure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、shim_locatorデータ構造へのポインターです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can set the local locator by setsockopt(), providing a locator that is stored in a shim_locator data structure. When a zero-filled locator is specified, the pre-existing setting of the local locator is inactivated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、setsockopt（）によってローカルロケーターを設定し、shim_locatorデータ構造に保存されているロケーターを提供できます。ゼロで充填されたロケーターが指定されている場合、ローカルロケーターの既存の設定が不活性化されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get the local locator by getsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、GetSockopt（）によってローカルロケーターを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when an invalid locator is specified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードEINVALIDLOCATORは、無効なロケーターが指定されているときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can request the shim sub-layer to use a specific local locator by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用して、特定のローカルロケーターを使用するようにシムサブレイヤーに要求できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator locator; struct in6_addr ia6;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locatorロケーター;struct in6_addr ia6;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* an IPv6 address preferred for the source locator is copied
          to the parameter ia6 */
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       memset(&amp;locator, 0, sizeof(locator));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* fill shim_locator data structure */
       locator.lc_family = AF_INET6;
       locator.lc_ifidx = 0;
       locator.lc_flags = 0;
       locator.lc_prio = 0;
       locator.lc_weight = 0;
       memcpy(&amp;locator.lc_addr, &amp;ia6, sizeof(ia6));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_SEND, &amp;locator, sizeof(locator));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setSockopt（FD、sol_shim、shim_loc_local_send、＆locator、sizeof（locator））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can get the designated local locator by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用して、指定されたローカルロケーターを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator locator;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locatorロケーター;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       memset(&amp;locator, 0, sizeof(locator));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_SEND, &amp;locator, sizeof(locator));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_loc_local_send、＆locator、sizeof（locator））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* check locator */
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-9--SHIMLOCPEERSEND">
6.9. SHIM_LOC_PEER_SEND
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.9. shim_loc_peer_send
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOC_PEER_SEND option is used to request that the shim sub-layer use a specific locator for the destination locator of IP packets to be sent from the socket. This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_PEER_SENDオプションは、SHIMサブレイヤーがソケットから送信されるIPパケットの宛先ロケーターに特定のロケーターを使用することを要求するために使用されます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the shim_locator data structure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、shim_locatorデータ構造へのポインターです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can set the remote locator by setsockopt(), providing a locator that is stored in a shim_locator data structure. When a zero-filled locator is specified, the pre-existing setting of the remote locator is inactivated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、SetSockopt（）によってリモートロケーターを設定し、shim_locatorデータ構造に保存されているロケーターを提供できます。ゼロで充填されたロケーターが指定されている場合、リモートロケーターの既存の設定が不活性化されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get the specified remote locator by getsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、GetSockopt（）によって指定されたリモートロケーターを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The difference between the SHIM_LOC_PEER_SEND option and the SHIM_LOC_PEER_PREF option is that the former guarantees the use of a requested locator when applicable, whereas the latter does not.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_PEER_SENDオプションとSHIM_LOC_PEER_PREFオプションの違いは、前者が該当する場合に要求されたロケーターの使用を保証することですが、後者はそうではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when the validation of the requested locator fails.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeinvalidLocatorは、要求されたロケーターの検証が失敗したときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNVERIFIEDLOCATOR is returned when reachability for the requested locator has not been verified yet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunverifedlocatorは、要求されたロケーターの到達可能性がまだ検証されていない場合に返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunReachableLocatorは、要求されたロケーターが到達可能性チェックに従って到達不可能であると判断されたときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The usage of the option is the same as that of the SHIM_LOC_LOCAL_SEND option.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションの使用法は、shim_loc_local_sendオプションの使用と同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-10--SHIMLOCLISTLOCAL">
6.10. SHIM_LOCLIST_LOCAL
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.10. shim_loclist_local
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOCLIST_LOCAL option is used to get or set the locator list associated with the local EID of the shim context associated with the socket. This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_loclist_localオプションは、ソケットに関連付けられたシムコンテキストのローカルEidに関連付けられたロケーターリストを取得または設定するために使用されます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the buffer in which a locator list is stored. See Section 8 for the data structure for storing the locator information. By default, the option value is set to NULL, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、ロケーターリストが保存されるバッファーへのポインターです。ロケーター情報を保存するためのデータ構造については、セクション8を参照してください。デフォルトでは、オプション値はnullに設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get the locator list by getsockopt(). Note that the size of the buffer pointed to by the optval argument SHOULD be large enough to store an array of locator information. The number of the locator information is not known beforehand.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、GetSockopt（）によってロケーターリストを取得できます。オプター引数によって指されたバッファーのサイズは、ロケーター情報の配列を保存するのに十分な大きさでなければならないことに注意してください。ロケーター情報の数は事前に知られていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The local locator list can be set by setsockopt(). The buffer pointed to by the optval argument MUST contain an array of locator structures.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ローカルロケーターリストは、setSockopt（）によって設定できます。オプトル引数によって指されたバッファーには、ロケーター構造の配列が含まれている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when the validation of any of the specified locators failed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeinvalidLocatorは、指定されたロケーターの検証が失敗したときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code ETOOMANYLOCATORS is returned when the number of locators specified exceeds the limit (SHIM_MAX_LOCATORS), or when the size of the buffer provided by the application is not large enough to store the locator list provided by the shim sub-layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードEtoomanylocatorsは、指定されたロケーターの数が制限（shim_max_locators）を超えた場合、またはアプリケーションによって提供されるバッファーのサイズがShimサブレイヤーによって提供されるロケーターリストを保存するのに十分な大きさでない場合に返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can set a list of locators to be associated with the local EID by using the socket option as follows. Note that an IPv4 locator can be handled by HIP and not by Shim6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、ソケットオプションを次のように使用して、ローカルEIDに関連付けられるロケーターのリストを設定できます。IPv4ロケーターは、SHIM6ではなく股関節で処理できることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       struct shim_locator locators[SHIM_MAX_LOCATORS];
       struct sockaddr_in *sin;
       struct sockaddr_in6 *sin6;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       memset(locators, 0, sizeof(locators));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
...
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
...
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* obtain local IP addresses from local interfaces */
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
...
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
...
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* first locator (an IPv6 address) */
       locators[0].lc_family = AF_INET6;
       locators[0].lc_ifidx = 0;
       locators[0].lc_flags = 0;
       locators[0].lc_prio = 1;
       locators[0].lc_weight = 0;
       memcpy(&amp;locators[0].lc_addr, &amp;sa6-&gt;sin6_addr,
              sizeof(sa6-&gt;sin6_addr));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
...
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
...
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* second locator (an IPv4 address) */
       locators[1].lc_family = AF_INET;
       locators[1].lc_ifidx = 0;
       locators[1].lc_flags = 0;
       locators[1].lc_prio = 0;
       locators[1].lc_weight = 0;
       memcpy(&amp;locators[1].lc_addr, &amp;sa-&gt;sin_addr,
              sizeof(sa-&gt;sin_addr));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setsockopt(fd, SOL_SHIM, SHIM_LOCLIST_LOCAL, locators, sizeof(locators));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
SetSockopt（FD、SOL_SHIM、SHIM_LOCLIST_LOCOL、LOCATORS、SIZEOF（Locators））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can get a list of locators that are associated with the local EID by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、ソケットオプションを次のように使用して、ローカルEIDに関連付けられているロケーターのリストを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locator locators[SHIM_MAX_LOCATORS];
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim_locatorロケーター[shim_max_locators];
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       memset(locators, 0, sizeof(locators));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_RECV, locators, sizeof(locators));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_loc_local_recv、locators、sizeof（locators））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       /* parse locators */
       ...
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-11--SHIMLOCLISTPEER">
6.11. SHIM_LOCLIST_PEER
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.11. shim_loclist_peer
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_LOCLIST_PEER option is used to get or set the locator list associated with the peer EID of the shim context associated with the socket. This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOCLIST_PEERオプションは、ソケットに関連付けられたシムコンテキストのピアEIDに関連付けられたロケーターリストを取得または設定するために使用されます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the buffer where a locator list is stored. See Section 8 for the data structure for storing the locator information. By default, the option value is set to NULL, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、ロケーターリストが保存されるバッファーへのポインターです。ロケーター情報を保存するためのデータ構造については、セクション8を参照してください。デフォルトでは、オプション値はnullに設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get the locator list by getsockopt(). Note that the size of the buffer pointed to by the optval argument SHOULD be large enough to store an array of locator information. The number of the locator information is not known beforehand.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、GetSockopt（）によってロケーターリストを取得できます。オプター引数によって指されたバッファーのサイズは、ロケーター情報の配列を保存するのに十分な大きさでなければならないことに注意してください。ロケーター情報の数は事前に知られていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can set the locator list by setsockopt(). The buffer pointed to by the optval argument MUST contain an array of locator list items.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、setSockopt（）によってロケーターリストを設定できます。オプトル引数によって指されたバッファーには、ロケーターリスト項目の配列が含まれている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when the validation of any of the specified locators failed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeinvalidLocatorは、指定されたロケーターの検証が失敗したときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNVERIFIEDLOCATOR is returned when reachability for the requested locator has not been verified yet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunverifedlocatorは、要求されたロケーターの到達可能性がまだ検証されていない場合に返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunReachableLocatorは、要求されたロケーターが到達可能性チェックに従って到達不可能であると判断されたときに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code ETOOMANYLOCATORS is returned when the number of locators specified exceeds the limit (SHIM_MAX_LOCATORS), or when the size of the buffer provided by the application is not large enough to store the locator list provided by the shim sub-layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードEtoomanylocatorsは、指定されたロケーターの数が制限（shim_max_locators）を超えた場合、またはアプリケーションによって提供されるバッファーのサイズがShimサブレイヤーによって提供されるロケーターリストを保存するのに十分な大きさでない場合に返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The usage of the option is the same as that of SHIM_LOCLIST_LOCAL.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプションの使用法は、shim_loclist_localの使用と同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-12--SHIMAPPTIMEOUT">
6.12. SHIM_APP_TIMEOUT
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.12. shim_app_timeout
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_APP_TIMEOUT option is used to get or set the Send Timeout value of REAP [RFC5534]. This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_app_timeoutオプションは、REAP [RFC5534]の送信タイムアウト値を取得または設定するために使用されます。このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is an integer. The value indicates the period of timeout in seconds to send a REAP Keepalive message since the last outbound traffic. By default, the option value is set to 0, meaning that the option is disabled. When the option is disabled, the REAP mechanism follows its default Send Timeout value as specified in [RFC5534].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数です。値は、最後のアウトバウンドトラフィック以来、刈り取りのキープライブメッセージを送信するための数秒でのタイムアウトの期間を示しています。デフォルトでは、オプション値は0に設定されています。つまり、オプションは無効になっています。オプションが無効になっている場合、REAPメカニズムは[RFC5534]で指定されているように、デフォルトの送信タイムアウト値に従います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no REAP instance on the system, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
システムにreapインスタンスがない場合、エラーコードeopnotsuppがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can set the timeout value by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、ソケットオプションを次のように使用して、アプリケーションをタイムアウト値を設定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       optval = 15; /* 15 seconds */
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
setsockopt(fd, SOL_SHIM, SHIM_APP_TIMEOUT, &amp;optval, sizeof(optval));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
SetSockopt（FD、SOL_SHIM、SHIM_APP_TIMEOUT、＆OPTVAL、SIZEOF（OptVal））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can get the timeout value by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用してタイムアウト値を取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(optval);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_APP_TIMEOUT, &amp;optval, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_app_timeout、＆optval、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-13--SHIMPATHEXPLORE">
6.13. SHIM_PATHEXPLORE
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.13. shim_pathexplore
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The application MAY use this socket option to get or set parameters concerning path exploration. Path exploration is a procedure to find an alternative locator pair to the current locator pair. As the REAP specification defines, a peer may send Probe messages to find an alternative locator pair.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、このソケットオプションを使用して、パス探索に関するパラメーターを取得または設定する場合があります。Path Explorationは、現在のロケーターペアの代替ロケーターペアを見つける手順です。REAP仕様が定義するように、ピアはプローブメッセージを送信して、代替ロケーターペアを見つけることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This option is effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このオプションは、ソケットに関連付けられたシムコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type of the option value is a pointer to the buffer where a set of information for path exploration is stored. The data structure is defined in Section 8.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は、パス探索の情報セットが保存されるバッファーへのポインターです。データ構造は、セクション8で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By default, the option value is set to NULL, meaning that the option is disabled.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
デフォルトでは、オプション値はnullに設定されています。つまり、オプションは無効になっています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can set parameters for path exploration by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用して、パス探索のパラメーターを設定できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim6_pathexplore pe;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim6_pathexplore pe;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       pe.pe_probenum = 4;        /* times */
       pe.pe_keepaliveto = 10;    /* seconds */
       pe.pe_initprobeto = 500;   /* milliseconds */
       pe.pe_reserved = 0;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       setsockopt(fd, SOL_SHIM, SHIM_PATHEXPLORE, &amp;pe, sizeof(pe));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can get parameters for path exploration by using the socket option as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、次のようにソケットオプションを使用することにより、パス探索のパラメーターを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim6_pathexplore pe; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
struct shim6_pathexplore pe;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(pe);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_PATHEXPLORE, &amp;pe, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_pathexplore、＆pe、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-14--SHIMDEFERREDCONTEXTSETUP">
6.14. SHIM_DEFERRED_CONTEXT_SETUP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.14. shim_deferred_context_setup
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SHIM_DEFERRED_CONTEXT_SETUP option is used to check whether or not deferred context setup is possible. Deferred context setup means that the context is established in parallel with the data communication. Note that Shim6 supports deferred context setup and HIP does not, because EIDs in HIP (i.e., Host Identifiers) are non-routable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_deferred_context_setupオプションは、繰延コンテキストのセットアップが可能かどうかを確認するために使用されます。延期されたコンテキストのセットアップとは、コンテキストがデータ通信と並行して確立されることを意味します。SHIM6は延期されたコンテキストのセットアップをサポートし、HIP（つまり、ホスト識別子）のEidsはルート不可能であるため、HIPはそうではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the socket option is read-only, and the option value can be read by getsockopt().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットオプションは読み取り専用であり、Option値はgetSockopt（）によって読み取ることができることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data type for the option value is an integer. The option value MUST be binary (0 or 1). The option value of 1 means that the shim sub-layer supports deferred context setup.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
オプション値のデータ型は整数です。オプション値はバイナリ（0または1）でなければなりません。1のオプション値は、シムサブレイヤーが繰延コンテキストセットアップをサポートすることを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, an application can check whether deferred context setup is possible or not as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、アプリケーションは、延期されたコンテキストのセットアップが次のようかどうかを確認できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval; int len;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
int optval;int len;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       len = sizeof(optval);
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getsockopt(fd, SOL_SHIM, SHIM_DEFERRED_CONTEXT_SETUP, &amp;optval, &amp;len);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
getSockopt（fd、sol_shim、shim_deferred_context_setup、＆optval、＆len）;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-15--Applicability">
6.15. Applicability
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.15. 適用性
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All the socket options defined in this section except for the SHIM_DONTSHIM option are applicable to applications that use connected sockets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_dontshimオプションを除くこのセクションで定義されているすべてのソケットオプションは、接続されたソケットを使用するアプリケーションに適用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All the socket options defined in this section except for the SHIM_ASSOCIATED, SHIM_DONTSHIM, and SHIM_CONTEXT_DEFERRED_SETUP options are effective only when there is a shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションで定義されているすべてのソケットオプションは、shim_associated、shim_dontshim、およびshim_context_deferred_setupオプションを除き、ソケットに関連付けられたSHIMコンテキストがある場合にのみ有効です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6-16--Error-Handling">
6.16. Error Handling
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.16. エラー処理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If successful, getsockopt() and setsockopt() return 0; otherwise, the functions return -1 and set errno to indicate an error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
成功した場合、getsockopt（）およびsetSockopt（）を返します。それ以外の場合、関数は-1を返し、errnoを設定してエラーを示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following are new error values defined for some shim-specific socket options indicating that the getsockopt() or setsockopt() finished incompletely:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下は、getsockopt（）またはsetsockopt（）が不完全に終了したことを示すいくつかのシム固有のソケットオプションで定義された新しいエラー値です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EINVALIDLOCATOR This indicates that the locator is not part of the HBA set [RFC5535] within the shim context associated with the socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
einvalidlocatorこれは、ロケーターがソケットに関連付けられたシムコンテキスト内のHBAセット[RFC5535]の一部ではないことを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EUNVERIFIEDLOCATOR This indicates that the reachability of the locator has not been confirmed. This error is applicable to only the peer&#39;s locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
eunveriedLocatorこれは、ロケーターの到達可能性が確認されていないことを示しています。このエラーは、ピアのロケーターのみに適用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EUNREACHABLELOCATOR This indicates that the locator is not reachable according to the result of the reachability check. This error is applicable to only the peer&#39;s locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EunReachableLocatorこれは、到達可能性チェックの結果に応じてロケーターが到達できないことを示しています。このエラーは、ピアのロケーターのみに適用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--Ancillary-Data-for-Multihoming-Shim-Sub-Layer">
7. Ancillary Data for Multihoming Shim Sub-Layer
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. マルチホームシムサブレイヤーの補助データ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section provides definitions of ancillary data to be used for locator management and notification from/to the shim sub-layer to/ from the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、ロケーター管理に使用される補助データの定義と、アプリケーションからのShimサブレイヤーへの通知と通知をアプリケーションに提供します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application performs locator management by sendmsg() or recvmsg(), a member of the msghdr structure (given in Figure 3) called msg_control holds a pointer to the buffer in which one or more shim-specific ancillary data objects may be stored. An ancillary data object can store a single locator. It should be possible to process the shim-specific ancillary data object by the existing macros defined in the POSIX standard and [RFC3542].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションがsendmsg（）またはrecvmsg（）によってロケーター管理を実行すると、MSG_CONTROLと呼ばれるMSGHDR構造のメンバー（図3に示す）は、1つまたは複数のシム固有の補助データオブジェクトを保存できるバッファーへのポインターを保持します。補助的なデータオブジェクトは、単一のロケーターを保存できます。POSIX標準と[RFC3542]で定義されている既存のマクロによって、シム固有の補助データオブジェクトを処理することが可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        struct msghdr {
                caddr_t msg_name;       /* optional address */
                u_int   msg_namelen;    /* size of address */
                struct  iovec *msg_iov; /* scatter/gather array */
                u_int   msg_iovlen;     /* # elements in msg_iov */
                caddr_t msg_control;    /* ancillary data, see below */
                u_int   msg_controllen; /* ancillary data buffer len */
                int     msg_flags;      /* flags on received message */
        };
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
Figure 3: msghdr Structure
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
図3：MSGHDR構造
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of an unconnected socket, msg_name stores the socket address of the peer. Note that the address is not a locator of the peer but the identifier of the peer. SHIM_LOC_PEER_RECV can be used to get the locator of the peer node.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
接続されていないソケットの場合、MSG_NAMEはピアのソケットアドレスを保存します。アドレスはピアのロケーターではなく、ピアの識別子であることに注意してください。SHIM_LOC_PEER_RECVを使用して、ピアノードのロケーターを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Table 2 is a list of the shim-specific ancillary data that can be used for locator management by recvmsg() or sendmsg(). In any case, the value of cmsg_level MUST be set to SOL_SHIM.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
表2は、recvmsg（）またはsendmsg（）でロケーター管理に使用できるシム固有の補助データのリストです。いずれにせよ、CMSG_LEVELの値はSOL_SHIMに設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
     +---------------------+-----------+-----------+-----------------+
     | cmsg_type           | sendmsg() | recvmsg() |   cmsg_data[]   |
     +---------------------+-----------+-----------+-----------------+
     | SHIM_LOC_LOCAL_RECV |           |     o     |      Note 1     |
     | SHIM_LOC_PEER_RECV  |           |     o     |      Note 1     |
     | SHIM_LOC_LOCAL_SEND |     o     |           |      Note 1     |
     | SHIM_LOC_PEER_SEND  |     o     |           |      Note 1     |
     | SHIM_FEEDBACK       |     o     |           | shim_feedback{} |
     +---------------------+-----------+-----------+-----------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-19">
Table 2: Shim-Specific Ancillary Data
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-19">
表2：シム固有の補助データ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Note 1: cmsg_data[] within msg_control includes a single
   sockaddr_in{} or sockaddr_in6{} and padding if necessary
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-1--Get-Locator-from-Incoming-Packet">
7.1. Get Locator from Incoming Packet
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. 着信パケットからロケーターを取得します
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can get locator information from the received IP packet by specifying the shim-specific socket options for the socket. When SHIM_LOC_LOCAL_RECV and/or SHIM_LOC_PEER_RECV socket options are set, the application can retrieve a local and/or remote locator from the ancillary data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、ソケットのシム固有のソケットオプションを指定することにより、受信したIPパケットからロケーター情報を取得できます。shim_loc_local_recvおよび/またはshim_loc_peer_recvソケットオプションが設定されている場合、アプリケーションは補助データからローカルおよび/またはリモートロケーターを取得できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, the shim sub-layer MUST return zero-filled locator information to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、シムサブレイヤーはゼロで充填されたロケーター情報をアプリケーションに返す必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-2--Set-Locator-for-Outgoing-Packet">
7.2. Set Locator for Outgoing Packet
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 発信パケットのロケーターを設定します
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application can specify the locators to be used for transmitting an IP packet by sendmsg(). When the ancillary data of cmsg_type SHIM_LOC_LOCAL_SEND and/or SHIM_LOC_PEER_SEND are specified, the application can explicitly specify the source and/or the destination locators to be used for the communication over the socket. If the specified locator pair is verified, the shim sub-layer overrides the locator(s) of the outgoing IP packet. Note that the effect is limited to the datagram transmitted by the sendmsg().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、sendmsg（）によってIPパケットを送信するために使用されるロケーターを指定できます。CMSG_TYPE SHIM_LOC_LOCAL_SENDおよび/またはSHIM_LOC_PEER_SENDの補助データが指定されている場合、アプリケーションはソケットを介した通信に使用する宛先ロケーターを明示的に指定できます。指定されたロケーターペアが検証されている場合、Shimサブレイヤーは発信IPパケットのロケーターをオーバーライドします。効果は、sendmsg（）によって送信されたデータグラムに限定されていることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EINVALIDLOCATOR is returned when validation of the specified locator fails.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
指定されたロケーターの検証が失敗すると、エラーコードeinvalidlocatorが返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNVERIFIEDLOCATOR is returned when reachability for the requested locator has not been verified yet. The application is recommended to use another destination locator until the reachability check for the requested locator is done.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunverifedlocatorは、要求されたロケーターの到達可能性がまだ検証されていない場合に返されます。アプリケーションは、要求されたロケーターの到達可能性チェックが完了するまで、別の宛先ロケーターを使用することをお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check. The application is recommended to use another destination locator when receiving the error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エラーコードeunReachableLocatorは、要求されたロケーターが到達可能性チェックに従って到達不可能であると判断されたときに返されます。アプリケーションは、エラーを受信するときに別の宛先ロケーターを使用することをお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-3--Notification-from-Application-to-Multihoming-Shim-Sub-Layer">
7.3. Notification from Application to Multihoming Shim Sub-Layer
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3. アプリケーションからマルチホミングシムサブレイヤーへの通知
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An application MAY provide feedback to the shim sub-layer about the communication status. Such feedback is useful for the shim sub-layer to monitor the reachability status of the currently used locator pair in a given shim context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションは、通信ステータスに関するシムサブレイヤーにフィードバックを提供する場合があります。このようなフィードバックは、シムサブレイヤーが特定のシムコンテキストで現在使用されているロケーターペアの到達可能性ステータスを監視するのに役立ちます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The notification can be made by sendmsg() specifying a new ancillary data called SHIM_FEEDBACK. The ancillary data can be handled by specifying the SHIM_FEEDBACK option in cmsg_type.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通知は、shim_feedbackと呼ばれる新しい補助データを指定するsendmsg（）によって行うことができます。補助データは、CMSG_TYPEでshim_feedbackオプションを指定することで処理できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When there is no shim context associated with the socket, error code ENOENT is returned to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ソケットに関連付けられたシムコンテキストがない場合、エラーコードenoentがアプリケーションに返されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See Section 8.3 for details of the data structure to be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用するデータ構造の詳細については、セクション8.3を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is outside the scope of this document to describe how the shim sub-layer would react when feedback is provided by an application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの範囲外で、アプリケーションによってフィードバックが提供されたときにシムサブレイヤーがどのように反応するかを説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-4--Applicability">
7.4. Applicability
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.4. 適用性
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All the ancillary data for the shim sub-layer is applicable to connected sockets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
シムサブレイヤーのすべての補助データは、接続されたソケットに適用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Care is needed when the SHIM_LOC_*_RECV socket option is used for stream-oriented sockets (e.g., TCP sockets) because there is no one-to-one mapping between a single send or receive operation and the data (e.g., a TCP segment) being received. In other words, there is no guarantee that the locator(s) set in the SHIM_LOC_*_RECV ancillary data is identical to the locator(s) that appears in the IP packets received. The shim sub-layer SHOULD provide the latest locator information to the application in response to the SHIM_LOC_*_RECV socket option.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC _*_ RECVソケットオプションがストリーム指向ソケット（TCPソケットなど）に使用される場合は注意が必要です。単一の送信または受信操作とデータ（TCPセグメントなど）の間に1対1のマッピングがないため受け取られている。言い換えれば、shim_loc _*_ recv補助データに設定されたロケーターが、受信したIPパケットに表示されるロケーターと同一であるという保証はありません。SHIMサブレイヤーは、shim_loc _*_ recvソケットオプションに応じて、最新のロケーター情報をアプリケーションに提供する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8--Data-Structures">
8. Data Structures
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. データ構造
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section gives data structures for the shim sub-layer. These data structures are either used as a parameter for setsockopt() or getsockopt() (as mentioned in Section 6), or as a parameter for ancillary data to be processed by sendmsg() or recvmsg() (as mentioned in Section 7).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、シムサブレイヤーのデータ構造を示します。これらのデータ構造は、setsockopt（）またはgetsockopt（）のパラメーターとして使用されます（セクション6に記載されている）、またはsendmsg（）またはrecvmsg（）によって処理される補助データのパラメーターとして使用されます（セクション7に記載されています）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-1--Data-Structure-for-Locator-Information">
8.1. Data Structure for Locator Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. ロケーター情報のデータ構造
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As defined in Section 6, the SHIM_LOC_*_PREF, SHIM_LOC_*_SEND, and SHIM_LOCLIST_* socket options need to handle one or more locator information points. Locator information includes not only the locator itself but also additional information about the locator that is useful for locator management. A new data structure is defined to serve as a placeholder for the locator information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション6で定義されているように、shim_loc _*_ pref、shim_loc _*_送信、およびshim_loclist_*ソケットオプションは、1つ以上のロケーター情報ポイントを処理する必要があります。ロケーターの情報には、ロケーター自体だけでなく、ロケーター管理に役立つロケーターに関する追加情報も含まれます。新しいデータ構造は、ロケーター情報のプレースホルダーとして機能するように定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 4 illustrates the data structure called shim_locator, which stores locator information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図4は、ロケーター情報を保存するshim_locatorと呼ばれるデータ構造を示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        struct shim_locator {
                uint8_t    lc_family;       /* address family */
                uint8_t    lc_proto;        /* protocol */
                uint16_t   lc_port;         /* port number */
                uint16_t   lc_prio;         /* preference value */
                uint16_t   lc_weight;       /* weight */
                uint32_t   lc_ifidx;        /* interface index */
                struct in6_addr lc_addr;    /* address */
                uint16_t   lc_flags;        /* flags */
        };
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 4: Shim Locator Structure
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図4：シムロケーター構造
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_family Address family of the locator (e.g., AF_INET, AF_INET6). It is required that the parameter contains a non-zero value indicating the exact address family of the locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LC_FAMILYは、ロケーターのファミリを住所しています（例：AF_INET、AF_INET6）。パラメーターには、ロケーターの正確なアドレスファミリを示す非ゼロ値が含まれる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_proto Internet Protocol number for the protocol that is used to handle a locator behind a NAT. The value MUST be set to zero when there is no NAT involved. When the locator is behind a NAT, the value MUST be set to IPPROTO_UDP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATの背後にあるロケーターを処理するために使用されるプロトコルのLC_Protoインターネットプロトコル番号。NATが関与していない場合、値はゼロに設定する必要があります。ロケーターがNATの背後にある場合、値はipproto_udpに設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_port Port number that is used for handling a locator behind a NAT.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NATの背後にあるロケーターの処理に使用されるLC_PORTポート番号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_prio Priority of the locator. The range is 0-65535. The lowest priority value means the highest priority.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LC_PRIOロケーターの優先度。範囲は0-65535です。最優先値は、最優先度を意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_weight Weight value indicates a relative weight for locators with the same priority value. The range is 0-65535. A locator with higher weight value is prioritized over the other locators with lower weight values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LC_WEIGHTの重量値は、同じ優先度の値を持つロケーターの相対的な重量を示します。範囲は0-65535です。重量値が高いロケーターは、重量値が低い他のロケーターよりも優先されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_ifidx Interface index of the network interface to which the locator is assigned. This field is applicable only to local locators, and has no effect in set operations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ロケーターが割り当てられるネットワークインターフェイスのLC_IFIDXインターフェイスインデックス。このフィールドは、ローカルロケーターにのみ適用でき、SET操作には影響しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_addr Contains the locator. In the case of IPv4, the locator MUST be formatted in the IPv4-mapped IPv6 address as defined in [RFC4291]. The locator MUST be stored in network byte order.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LC_ADDRにはロケーターが含まれています。IPv4の場合、[RFC4291]で定義されているように、LocatorをIPv4-Mapped IPv6アドレスでフォーマットする必要があります。ロケーターは、ネットワークバイトの順序で保存する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
lc_flags Each bit of the flags represents a specific characteristic of the locator. The Hash-Based Address (HBA) is defined as 0x01. The Cryptographically Generated Address (CGA) is defined as 0x02. This field has no effect in set operations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LC_FLAGSフラグの各ビットは、ロケーターの特定の特性を表します。ハッシュベースのアドレス（HBA）は0x01として定義されます。暗号化されたアドレス（CGA）は0x02として定義されます。このフィールドは、設定された操作に影響を与えません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-1-1--Handling-Locator-behind-NAT">
8.1.1. Handling Locator behind NAT
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1.1. NATの背後にあるハンドリングロケーター
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the locator information MAY contain a locator behind a Network Address Translator (NAT). Such a situation may arise when the host is behind the NAT and uses a local address as a source locator to communicate with the peer. Note that a NAT traversal mechanism for HIP is defined, which allows a HIP host to tunnel control and data traffic over UDP [RFC5770]. Note also that the locator behind a NAT is not necessarily an IPv4 address and can be an IPv6 address. Below is an example where the application sets a UDP encapsulation interface as a source locator when sending IP packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ロケーター情報には、ネットワークアドレス翻訳者（NAT）の背後にあるロケーターが含まれている場合があることに注意してください。このような状況は、ホストがNATの後ろにいて、ローカルアドレスをソースロケーターとして使用してピアと通信すると発生する可能性があります。股関節のNATトラバーサルメカニズムが定義されていることに注意してください。これにより、股関節ホストがUDPを介したトンネル制御とデータトラフィックを可能にします[RFC5770]。また、NATの背後にあるロケーターは必ずしもIPv4アドレスではなく、IPv6アドレスになる可能性があることに注意してください。以下は、アプリケーションがIPパケットを送信するときにソースロケーターとしてUDPカプセル化インターフェイスを設定する例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
struct shim_locator locator; struct in6_addr ia6;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
struct shim_locatorロケーター;struct in6_addr ia6;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
          /* copy the private IPv4 address to the ia6 as an IPv4-mapped
             IPv6 address */
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
          memset(&amp;locator, 0, sizeof(locator));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
          /* fill shim_locator data structure */
          locator.lc_family = AF_INET;
          locator.lc_proto = IPPROTO_UDP;
          locator.lc_port = 50500;
          locator.lc_ifidx = 0;
          locator.lc_flags = 0;
          locator.lc_prio = 0;
          locator.lc_weight = 0;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
          memcpy(&amp;locator.lc_addr, &amp;ia6, sizeof(ia6));
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_SEND, &amp;locator, sizeof(locator));
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
setSockopt（FD、sol_shim、shim_loc_local_send、＆locator、sizeof（locator））;
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-19">
Figure 5: Handling Locator behind NAT
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-19">
図5：NATの背後にあるハンドリングロケーター
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-2--Path-Exploration-Parameter">
8.2. Path Exploration Parameter
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. パス探索パラメーター
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As defined in Section 6, SHIM_PATHEXPLORE allows an application to set or read the parameters for path exploration and failure detection. A new data structure called shim_pathexplore is defined to store the necessary parameters. Figure 6 illustrates the data structure. The data structure can be passed to getsockopt() or setsockopt() as an argument.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション6で定義されているように、shim_pathexploreでは、アプリケーションがパス探索と障害検出のパラメーターを設定または読み取ることができます。shim_pathexploreと呼ばれる新しいデータ構造は、必要なパラメーターを保存するために定義されています。図6は、データ構造を示しています。データ構造は、引数としてgetSockopt（）またはsetSockopt（）に渡すことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        struct shim_pathexplore {
                uint16_t  pe_probenum;      /* # of initial probes */
                uint16_t  pe_keepaliveto;   /* Keepalive Timeout */
                uint16_t  pe_keepaliveint;  /* Keepalive Interval */
                uint16_t  pe_initprobeto;   /* Initial Probe Timeout */
                uint32_t  pe_reserved;      /* reserved */
        };
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
Figure 6: Path Explore Structure
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-21">
図6：パス探索構造
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
pe_probenum Indicates the number of initial Probe messages to be sent. The value MUST be set as per [RFC5534].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE_PROBENUMは、送信される初期プローブメッセージの数を示します。値は[RFC5534]に従って設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
pe_keepaliveto Indicates the timeout value in seconds for detecting a failure when the host does not receive any packets for a certain period of time while there is outbound traffic. When the timer expires, the path exploration procedure will be carried out by sending a REAP Probe message. The value MUST be set as per [RFC5534].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE_KEEPALIVETOは、アウトバウンドトラフィックがある間、ホストが一定期間パケットを受け取らない場合に障害を検出するための数秒でタイムアウト値を示します。タイマーの有効期限が切れると、PATHプローブメッセージを送信することにより、パス探索手順が実行されます。値は[RFC5534]に従って設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
pe_keepaliveint Indicates the interval of REAP Keepalive messages in seconds to be sent by the host when there is no outbound traffic to the peer host. The value MUST be set as per [RFC5534].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE_KEEPALIVEINTは、ピアホストへのアウトバウンドトラフィックがない場合、ホストによって送信される数秒でREAP Keepaliveメッセージの間隔を示します。値は[RFC5534]に従って設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
pe_initprobeto Indicates the retransmission timer of the REAP Probe message in milliseconds. Note that this timer is applied before exponential back-off is started. A REAP Probe message for the same locator pair may be retransmitted. The value MUST be set as per [RFC5534].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE_INITPROBETOは、MillisecondsでReap Probeメッセージの再送信タイマーを示します。このタイマーは、指数関数的なバックオフが開始される前に適用されることに注意してください。同じロケーターペアのREAPプローブメッセージが再送信される場合があります。値は[RFC5534]に従って設定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
pe_reserved A reserved field for future extension. By default, the field MUST be initialized to zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE_Reserved将来の拡張のための予約済みフィールド。デフォルトでは、フィールドはゼロに初期化する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="8-3--Feedback-Information">
8.3. Feedback Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. フィードバック情報
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As mentioned in Section 7.3, applications can inform the shim sub-layer about the status of unicast reachability of the locator pair currently in use. The feedback information can be handled by using ancillary data called SHIM_FEEDBACK. A new data structure named shim_feedback is illustrated in Figure 7.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション7.3で述べたように、アプリケーションは、現在使用されているロケーターペアのユニキャストの到達可能性のステータスについてShimサブレイヤーに通知できます。フィードバック情報は、shim_feedbackと呼ばれる補助データを使用して処理できます。shim_feedbackという名前の新しいデータ構造を図7に示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        struct shim_feedback {
                uint8_t   fb_direction;    /* direction of traffic */
                uint8_t   fb_indicator;    /* indicator (1-3) */
                uint16_t  fb_reserved;     /* reserved */
        };
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
Figure 7: Feedback Information Structure
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
図7：フィードバック情報構造
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
fb_direction Indicates the direction of reachability between the locator pair in question. A value of 0 indicates outbound direction, and a value of 1 indicates inbound direction.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FB_Directionは、問題のロケーターペア間の到達可能性の方向を示します。値0はアウトバウンド方向を示し、値1はインバウンド方向を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
fb_indicator A value indicating the degree of satisfaction of a unidirectional reachability for a given locator pair.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FB_indicator特定のロケーターペアの単方向の到達可能性の満足度を示す値。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 0: Default value. Whenever this value is specified, the feedback information MUST NOT be processed by the shim sub-layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 0：デフォルト値。この値が指定されたときはいつでも、フィードバック情報をShimサブレイヤーによって処理してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 1: Unable to connect. There is no unidirectional reachability between the locator pair in question.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 1：接続できません。問題のロケーターペア間に一方向の到達可能性はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 2: Unsatisfactory. The application is not satisfied with the unidirectional reachability between the locator pair in question.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 2：不十分です。アプリケーションは、問題のロケーターペア間の単方向の到達可能性に満足していません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 3: Satisfactory. There is satisfactory unidirectional reachability between the locator pair in question.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* 3：満足のいく。問題のロケーターペアの間には、満足のいく一方向の到達可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
fb_reserved Reserved field. MUST be ignored by the receiver.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
FB_Reserved予約済みフィールド。受信機は無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="9--System-Requirements">
9. System Requirements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. システム要求
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As addressed in Section 6, most of the socket options and ancillary data defined in this document are applicable to connected sockets. It is assumed that the kernel is capable of maintaining the association between a connected socket and a shim context. This requirement is considered to be reasonable because a pair of source and destination IP addresses is bound to a connected socket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション6で説明したように、このドキュメントで定義されているソケットオプションと補助データのほとんどは、接続されたソケットに適用されます。カーネルは、接続されたソケットとシムコンテキストの間の関連性を維持できると想定されています。ソースと宛先のIPアドレスのペアが接続されたソケットにバインドされるため、この要件は妥当であると見なされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="10--Relation-to-Existing-Sockets-API-Extensions">
10. Relation to Existing Sockets API Extensions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. 既存のソケットAPI拡張機能との関係
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section explains the relation between the sockets API defined in this document and the existing sockets API extensions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、このドキュメントで定義されているソケットAPIと既存のソケットAPI拡張機能の関係について説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As mentioned in Section 6, the basic assumption is that the existing sockets API continues to work above the shim sub-layer. This means that the existing sockets API deals with identifiers, and the sockets API defined in this document deals with locators.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション6で述べたように、基本的な仮定は、既存のソケットAPIがシムサブレイヤーの上に動作し続けることです。これは、既存のソケットAPIが識別子を扱い、このドキュメントで定義されているソケットAPIがロケーターを扱うことを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_LOCAL_SEND and SHIM_LOC_PEER_SEND socket options are semantically similar to the IPV6_PKTINFO sockets API in the sense that both provide a means for an application to set the source IP address of outbound IP packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_loc_local_sendおよびshim_loc_peer_sendソケットオプションは、Autbound IPパケットのソースIPアドレスを設定するためのアプリケーションの手段を提供するという意味で、Semantivally Ipv6_pktinfo sockets apiに類似しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_LOC_LOCAL_RECV and SHIM_LOC_PEER_RECV socket options are semantically similar to the IP_RECVDSTADDR and IPV6_PKTINFO sockets APIs in the sense that both provide a means for an application to get the source and/or destination IP address of inbound IP packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_loc_local_recv and shim_loc_peer_recvソケットオプションは、IP_RECVDSTADDRおよびIPv6_pktinfoソケットAPIとセマンティックに類似しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
getsockname() and getpeername() enable an application to get the &#34;name&#34; of the communication endpoints, which is represented by a pair of IP addresses and port numbers assigned to the socket. getsockname() gives the IP address and port number assigned to the socket on the local side, and getpeername() gives the IP address and port number of the peer side.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
getSockName（）およびgetPeerName（）を有効にして、アプリケーションが通信エンドポイントの「名前」を取得できます。これは、ソケットに割り当てられたIPアドレスとポート番号のペアで表されます。getSockName（）は、ローカル側のソケットに割り当てられたIPアドレスとポート番号を指定し、getPeerName（）にピア側のIPアドレスとポート番号が表示されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="11--Operational-Considerations">
11. Operational Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11. 運用上の考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section gives operational considerations of the sockets API defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、このドキュメントで定義されているソケットAPIの運用上の考慮事項を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="11-1--Conflict-Resolution">
11.1. Conflict Resolution
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1. 紛争解決
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There can be a conflicting situation when different applications specify different preferences for the same shim context. For instance, suppose that applications A and B establish communication with the same EID pair while both applications have different preferences in their choice of local locator. The notion of context forking in Shim6 can resolve the conflicting situation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
異なるアプリケーションが同じシムコンテキストに対して異なる設定を指定する場合、矛盾する状況があります。たとえば、アプリケーションAとBが同じEIDペアとの通信を確立し、両方のアプリケーションがローカルロケーターの選択に異なる好みを持っていると仮定します。SHIM6のコンテキストフォーキングの概念は、矛盾する状況を解決できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is possible that socket options defined in Section 6 cause a conflicting situation when the target context is shared by multiple applications. In such a case, the socket handler should inform the shim sub-layer that context forking is required. In Shim6, when a context is forked, a unique identifier called the Forked Instance Identifier (FII) is assigned to the newly forked context. The forked context is then exclusively associated with the socket through which a non-default preference value was specified. The forked context is maintained by the shim sub-layer during the lifetime of the associated socket instance. When the socket is closed, the shim sub-layer SHOULD delete the associated context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セクション6で定義されたソケットオプションは、ターゲットコンテキストが複数のアプリケーションで共有されると、競合する状況を引き起こす可能性があります。そのような場合、ソケットハンドラーは、コンテキストフォーキングが必要であることをシムサブレイヤーに通知する必要があります。SHIM6では、コンテキストがフォークされると、Forked Instance Identifier（FII）と呼ばれる一意の識別子が、新しくフォークされたコンテキストに割り当てられます。フォークされたコンテキストは、非デフォルト選好値が指定されたソケットにのみ関連付けられます。フォークされたコンテキストは、関連するソケットインスタンスの寿命の間にシムサブレイヤーによって維持されます。ソケットが閉じた場合、シムサブレイヤーは関連するコンテキストを削除する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the application specifies SHIM_LOC_*_SEND specifying a different source or destination locator that does not have the highest priority and weight specified by the SHIM_LOC_*_PREF, the shim sub-layer SHOULD supersede the request made by SHIM_LOC_*_SEND over the preference specified by SHIM_LOC_*_PREF.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
*_pref。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the peer provides preferences of the locators (e.g., a Shim6 peer sends a locator with a Locator Preferences Option) that conflict with preferences specified by the applications either by SHIM_LOC_PEER_SEND or SHIM_LOC_PEER_PREF, the shim sub-layer SHOULD supersede the preferences made by the applications over the preferences specified by the peer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアがロケーターの設定を提供する場合（たとえば、shim6ピアは、ロケーター設定オプションを持つロケーターを送信しますオプション）、shim_loc_peer_sendまたはshim_loc_peer_prefのいずれかでアプリケーションによって指定された設定と競合する場合、shimサブレイヤーはアプリケーションによって行われた優先順位に課せられるはずですピアによって指定された設定について。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="11-2--Incompatibility-between-IPv4-and-IPv6">
11.2. Incompatibility between IPv4 and IPv6
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.2. IPv4とIPv6の間の非互換性
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The shim sub-layer performs identifier/locator adaptation. Therefore, in some cases, the whole IP header can be replaced with a new IP header of a different address family (e.g., conversion from IPv4 to IPv6 or vice versa). Hence, there is an issue regarding how to make the conversion with minimum impact. Note that this issue is common in other protocol conversion techniques [RFC2765] [RFC6145].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Shimサブレイヤーは、識別子/ロケーターの適応を実行します。したがって、場合によっては、IPヘッダー全体を異なるアドレスファミリの新しいIPヘッダーに置き換えることができます（たとえば、IPv4からIPv6、またはその逆への変換）。したがって、インパクトを最小限に抑えて変換を行う方法に関する問題があります。この問題は、他のプロトコル変換技術[RFC2765] [RFC6145]で一般的であることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As studied in the previous works on protocol conversion [RFC2765], [RFC6145] some of the features (IPv6 routing headers, hop-by-hop extension headers, and destination headers) from IPv6 are not convertible to IPv4. In addition, the notion of source routing is not exactly the same in IPv4 and IPv6. This means that an error may occur during the conversion of the identifier and locator. It is outside the scope of this document to describe how the shim sub-layer should behave in such erroneous cases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Protocol Conversion [RFC2765]、[RFC6145]の以前の研究で研究したように、IPv6からの機能（IPv6ルーティングヘッダー、ホップバイホップエクステンションヘッダー、および宛先ヘッダー）の一部はIPv4に変換できません。さらに、ソースルーティングの概念は、IPv4とIPv6でまったく同じではありません。これは、識別子とロケーターの変換中にエラーが発生する可能性があることを意味します。このドキュメントの範囲外で、このような誤ったケースでシムサブレイヤーがどのように動作するかを説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="12--IANA-Considerations">
12. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
12. IANAの考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are no IANA considerations for the socket options (SHIM_*), the ancillary data, and the socket level (SOL_SHIM) that are defined in this document. All the numbers concerned are not under the control of the IETF or IANA, but they are platform-specific.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントで定義されているソケットオプション（shim_*）、補助データ、ソケットレベル（sol_shim）に関するIANAの考慮事項はありません。関係するすべての数字はIETFまたはIANAの制御下にありませんが、プラットフォーム固有です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="13--Protocol-Constant">
13. Protocol Constant
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13. プロトコル定数
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section defines a protocol constant.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、プロトコル定数を定義します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM_MAX_LOCATORS The maximum number of locators to be included in a locator list. The value is set to 32.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
shim_max_locatorsロケーターリストに含まれるロケーターの最大数。値は32に設定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="14--Security-Considerations">
14. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
14. セキュリティに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section gives security considerations of the API defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、このドキュメントで定義されているAPIのセキュリティ上の考慮事項を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="14-1--Treatment-of-Unknown-Locator">
14.1. Treatment of Unknown Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
14.1. 不明なロケーターの治療
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When sending IP packets, there is a possibility that an application will request the use of an unknown locator for the source and/or destination locators. Note that the treatment of an unknown locator can be a subject of security considerations, because the use of an invalid source and/or destination locator may cause a redirection attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPパケットを送信するとき、アプリケーションがソースおよび/または宛先ロケーターに不明なロケーターの使用を要求する可能性があります。未知のロケーターの処理は、無効なソースや宛先ロケーターの使用がリダイレクト攻撃を引き起こす可能性があるため、セキュリティ上の考慮事項の対象となる可能性があることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="14-1-1--Treatment-of-Unknown-Source-Locator">
14.1.1. Treatment of Unknown Source Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
14.1.1. 未知のソースロケーターの処理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The shim sub-layer checks to determine if the requested locator is available on any local interface. If not, the shim sub-layer MUST reject the request and return an error message with the EINVALIDLOCATOR code to the application. If the locator is confirmed to be available, the shim sub-layer SHOULD initiate the procedure to update the locator list.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
シムサブレイヤーは、要求されたロケーターがローカルインターフェイスで利用可能かどうかを判断するためにチェックします。そうでない場合、Shimサブレイヤーはリクエストを拒否し、einvalidlocatorコードを使用してエラーメッセージをアプリケーションに返す必要があります。ロケーターが利用可能であることが確認されている場合、シムサブレイヤーはロケーターリストを更新する手順を開始する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Use of the following socket options and ancillary data requires treatment of an unknown source locator:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のソケットオプションと補助データを使用するには、未知のソースロケーターの処理が必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM_LOC_LOCAL_SEND
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o shim_loc_local_send
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM_LOC_LOCAL_PREF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o shim_loc_local_pref
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM_LOCLIST_LOCAL
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o shim_loclist_local
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="14-1-2--Treatment-of-Unknown-Destination-Locator">
14.1.2. Treatment of Unknown Destination Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
14.1.2. 未知の宛先ロケーターの処理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the shim sub-layer turns out to be Shim6, the Shim6 layer MUST reject the request for using an unknown destination locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIMサブレイヤーがSHIM6であることが判明した場合、SHIM6層は未知の宛先ロケーターの使用の要求を拒否する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the shim sub-layer turns out to be HIP, the HIP layer MUST reject the request for using an unknown destination locator. There is, however, an exceptional case where the HIP layer SHOULD accept the request, provided that the HIP association is in the UNASSOCIATED state. Details of locator handling in HIP are described in Section 4.6 of [RFC6317].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
シムサブレイヤーが股関節であることが判明した場合、股関節層は未知の宛先ロケーターの使用の要求を拒否する必要があります。ただし、股関節関連が関連性のない状態にある場合、股関節層がリクエストを受け入れるべき例外的なケースがあります。股関節でのロケーターの取り扱いの詳細については、[RFC6317]のセクション4.6で説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Use of the following socket options and ancillary data requires treatment of an unknown destination locator:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のソケットオプションと補助データを使用するには、未知の宛先ロケーターの処理が必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM_LOC_PEER_SEND
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o shim_loc_peer_send
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM_LOC_PEER_PREF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o shim_loc_peer_pref
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SHIM_LOCLIST_PEER
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o shim_loclist_peer
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="15--Acknowledgments">
15. Acknowledgments
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15. 謝辞
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors would like to thank Jari Arkko, who participated in the discussion that led to the first version of this document, and Tatuya Jinmei, who thoroughly reviewed the early draft version of this document and provided detailed comments on sockets API-related issues. Thomas Henderson provided valuable comments, especially from the HIP perspective.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者は、このドキュメントの最初のバージョンにつながった議論に参加したJari Arkkoと、このドキュメントの初期ドラフトバージョンを徹底的にレビューし、Sockets API関連の問題に関する詳細なコメントを提供したTatuya Jinmeiに感謝します。トーマス・ヘンダーソンは、特にヒップの観点から、貴重なコメントを提供しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors sincerely thank the following people for their helpful comments regarding the document: Samu Varjonen, Dmitriy Kuptsov, Brian Carpenter, Michael Scharf, Sebastien Barre, and Roni Even.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者は、この文書に関する有益なコメントについて、次の人々に心から感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="16--References">
16. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
16. 参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="16-1--Normative-References">
16.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
16.1. 引用文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[POSIX] &#34;IEEE Std. 1003.1-2008 Standard for Information Technology -- Portable Operating System Interface (POSIX). Open group Technical Standard: Base Specifications, Issue 7&#34;, September 2008, &lt;http://www.opengroup.org/austin&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[POSIX] &#34;IEEEStd。1003.1-2008情報技術の標準 - ポータブルオペレーティングシステムインターフェイス（POSIX）。オープングループ技術標準：基本仕様、第7&#34;、2008年9月、&lt;http://www.opengroup.org/オースティン&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するためのキーワード」、BCP 14、RFC 2119、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3542] Stevens, W., Thomas, M., Nordmark, E., and T. Jinmei, &#34;Advanced Sockets Application Program Interface (API) for IPv6&#34;, RFC 3542, May 2003.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3542] Stevens、W.、Thomas、M.、Nordmark、E。、およびT. Jinmei、「IPv6用Advanced Socketsアプリケーションプログラムインターフェイス（API）」、RFC 3542、2003年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4423] Moskowitz, R. and P. Nikander, &#34;Host Identity Protocol (HIP) Architecture&#34;, RFC 4423, May 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4423] Moskowitz、R。およびP. Nikander、「ホストアイデンティティプロトコル（HIP）アーキテクチャ」、RFC 4423、2006年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5533] Nordmark, E. and M. Bagnulo, &#34;Shim6: Level 3 Multihoming Shim Protocol for IPv6&#34;, RFC 5533, June 2009.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5533] Nordmark、E。およびM. Bagnulo、「SHIM6：IPv6のレベル3マルチホミングシムプロトコル」、RFC 5533、2009年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5534] Arkko, J. and I. van Beijnum, &#34;Failure Detection and Locator Pair Exploration Protocol for IPv6 Multihoming&#34;, RFC 5534, June 2009.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5534] Arkko、J。およびI. Van Beijnum、「IPv6 Multihomingの障害検出およびロケーターペア探査プロトコル」、RFC 5534、2009年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="16-2--Informative-References">
16.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
16.2. 参考引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2765] Nordmark, E., &#34;Stateless IP/ICMP Translation Algorithm (SIIT)&#34;, RFC 2765, February 2000.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2765] Nordmark、E。、「Stateless IP/ICMP翻訳アルゴリズム（SIIT）」、RFC 2765、2000年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2782] Gulbrandsen, A., Vixie, P., and L. Esibov, &#34;A DNS RR for specifying the location of services (DNS SRV)&#34;, RFC 2782, February 2000.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2782] Gulbrandsen、A.、Vixie、P。、およびL. Esibov、「サービスの場所を指定するためのDNS RR（DNS SRV）」、RFC 2782、2000年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4291] Hinden, R. and S. Deering, &#34;IP Version 6 Addressing Architecture&#34;, RFC 4291, February 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4291] Hinden、R。およびS. Deering、「IPバージョン6アドレス指定アーキテクチャ」、RFC 4291、2006年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5535] Bagnulo, M., &#34;Hash-Based Addresses (HBA)&#34;, RFC 5535, June 2009.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5535] Bagnulo、M。、「ハッシュベースのアドレス（HBA）」、RFC 5535、2009年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5770] Komu, M., Henderson, T., Tschofenig, H., Melen, J., and A. Keranen, Ed., &#34;Basic Host Identity Protocol (HIP) Extensions for Traversal of Network Address Translators&#34;, RFC 5770, April 2010.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5770] Komu、M.、Henderson、T.、Tschofenig、H.、Melen、J。、およびA. Keranen、ed。、 &#34;Networkアドレス翻訳者のトラバーサルの基本ホストIDプロトコル（HIP）拡張&#34;、RFC 5770、2010年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6145] Li, X., Bao, C., and F. Baker, &#34;IP/ICMP Translation Algorithm&#34;, RFC 6145, April 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6145] Li、X.、Bao、C。、およびF. Baker、「IP/ICMP翻訳アルゴリズム」、RFC 6145、2011年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6317] Komu, M. and T. Henderson, &#34;Basic Socket Interface Extensions for the Host Identity Protocol (HIP)&#34;, RFC 6317, July 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6317] Komu、M。およびT. Henderson、「ホストIDプロトコルの基本ソケットインターフェイス拡張（HIP）」、RFC 6317、2011年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SHIM6-APP-REFER] Nordmark, E., &#34;Shim6 Application Referral Issues&#34;, Work in Progress, July 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SHIM6-APP-REFER] Nordmark、E。、「SHIM6アプリケーション紹介の問題」、2005年7月、進行中の作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="Appendix-A--Context-Forking">
Appendix A. Context Forking
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A. コンテキストフォーキング
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this section, an issue concerning context forking and its relation to the multihoming shim API are discussed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションでは、コンテキストフォーキングとマルチホームシムAPIとの関係に関する問題について説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Shim6 supports the notion of context forking. A peer may decide to fork a context for a certain reason (e.g., an upper-layer protocol prefers to use a different locator pair than the one defined in an available context). The procedure of context forking is done similarly to the normal context establishment, performing the 4-way message exchange. A peer who has decided to fork a context initiates the context establishment. Hereafter, we call this peer the &#34;initiator&#34;. The peer of the initiator is called the &#34;responder&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SHIM6は、コンテキストフォークの概念をサポートしています。ピアは、特定の理由でコンテキストを分岐することを決定する場合があります（たとえば、上層層プロトコルは、利用可能なコンテキストで定義されているものとは異なるロケーターペアを使用することを好みます）。コンテキストフォーキングの手順は、通常のコンテキスト確立と同様に行われ、4ウェイメッセージ交換を実行します。コンテキストをフォークすることを決めたピアは、コンテキストの確立を開始します。以下、このピアを「イニシエーター」と呼びます。イニシエーターのピアは「レスポンダー」と呼ばれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once the forked context is established between the peers, on the initiator side, it is possible to apply forked context to the packet flow, since the system maintains an association between the forked context and the socket owned by the application that has requested the context forking. How this association is maintained is an implementation-specific issue. However, on the responder side, there is a question of how the outbound packet can be multiplexed by the shim sub-layer, because there is more than one Shim6 context that matches with the ULID pair of the packet flow. There is a need to differentiate packet flows not only by the ULID pairs but by some other information and associate a given packet flow with a specific context.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピアの間にフォークコンテキストが確立されると、イニシエーター側では、フォークコンテキストにフォークコンテキストを適用することができます。これは、システムがフォークコンテキストとコンテキストフォーキングを要求したアプリケーションが所有するソケットとの関連を維持するためです。。この協会の維持方法は、実装固有の問題です。ただし、レスポンダー側では、パケットフローのulidペアと一致する複数のShim6コンテキストがあるため、Shimサブレイヤーによってアウトバウンドパケットがどのように多重化されるかについての疑問があります。ulidペアだけでなく、他の情報によってパケットフローを区別し、特定のパケットフローを特定のコンテキストと関連付ける必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 8 gives an example of a scenario where two communicating peers fork a context. Initially, there has been a single transaction between the peers, by the application 1 (App1). Accordingly, another transaction is started, by application 2 (App2). Both of the transactions are made based on the same ULID pair. The first context pair (Ctx1) is established for the transaction of App1. Given the requests from App2, the shim sub-layer on Peer 1 decides to fork a context. Accordingly, a forked context (Ctx2) is established between the peers, which should be exclusively applied to the transaction of App2. Ideally, multiplexing and demultiplexing of packet flows that relate to App1 and App2 should be done as illustrated in Figure 8. However, as mentioned earlier, the responder needs to multiplex outbound flows of App1 and App2 somehow. Note that if a context forking occurs on the initiator side, a context forking needs to also occur on the responder side.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図8は、2つの通信ピアがコンテキストをフォークするシナリオの例を示しています。当初、アプリケーション1（APP1）により、ピア間で単一のトランザクションがありました。したがって、アプリケーション2（APP2）によって別のトランザクションが開始されます。両方のトランザクションは、同じ亜鉛ペアに基づいて行われます。最初のコンテキストペア（CTX1）は、APP1のトランザクションのために確立されます。App2からのリクエストを考えると、Peer 1のShimサブレイヤーはコンテキストをフォークすることを決定します。したがって、ピアの間にフォークされたコンテキスト（CTX2）が確立され、APP2のトランザクションにのみ適用する必要があります。理想的には、App1とApp2に関連するパケットフローの多重化と非複数のプレックスは、図8に示すように実行する必要があります。ただし、前述のように、ResponderはApp1とApp2のマルチプレックスアウトバウンドフローをどういうわけか必要です。イニシエーター側でコンテキストフォーキングが発生した場合、コンテキストフォーキングもレスポンダー側でも発生する必要があることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
 Peer 1 Peer 2 (initiator) (responder)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
ピア1ピア2（イニシエーター）（レスポンダー）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       +----+         +----+                  +----+         +----+
       |App1|         |App2|                  |App1|         |App2|
       +----+         +----+                  +----+         +----+
         |^             |^                      ^|             ^|
         v|             v|                      |v             |v
    -----S1-------------S2-----            -----S1-------------S2-----
         ||             ||                      ||             ||
         ||             ||                      ||             ||
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        Ctx1           Ctx2                    Ctx1           Ctx2
    ULID:&lt;A1,B1&gt;   ULID:&lt;A1,B1&gt;            ULID:&lt;B1,A1&gt;    ULID:&lt;B1,A1&gt;
    Loc: &lt;A1,B2&gt;   Loc: &lt;A1,B3&gt;            Loc: &lt;B2,A1&gt;    Loc: &lt;B3,A1&gt;
    FII: 0         FII: 100                FII: 0          FII: 100
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
         |^             |^                      ^|             ^|
         ||             ||                      ||             ||
         ||             ||                      ||             ||
         \..............||....................../|             ||
          \.............||......................./             ||
                        ||                                     ||
                        \|...................................../|
                         \....................................../
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-25">
Figure 8: Context Forking
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-25">
図8：コンテキストフォーキング
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
How to solve the issue described above is a topic for further study.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の問題を解決する方法は、さらなる研究のためのトピックです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Miika Komu Aalto University Espoo Finland
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ミイカ・コム・アールト大学エスポー・フィンランド
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Phone: +358505734395
   Fax:   +358947025014
   EMail: miika@iki.fi
   URI:   http://cse.aalto.fi/research/groups/datacommunications/people/
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Marcelo Bagnulo Universidad Carlos III de Madrid Av. Universidad 30 Leganes 28911 SPAIN
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Marcelo Bagnulo Universidad Carlos III de Madrid av。大学30レガネス28911スペイン
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Phone: +34 91 6248837
   EMail: marcelo@it.uc3m.es
   URI:   http://it.uc3m.es/marcelo
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Kristian Slavov Ericsson Research Nomadiclab Hirsalantie 11 Jorvas FI-02420 Finland
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クリスチャン・スラボフ・エリクソン研究nomadiclab hirsalantie 11 jorvas fi-02420フィンランド
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Phone: +358 9 299 3286
   EMail: kristian.slavov@ericsson.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Shinta Sugimoto (editor) Nippon Ericsson K.K. Koraku Mori Building 1-4-14, Koraku, Bunkyo-ku Tokyo 112-0004 Japan
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Shinta Sugimoto（編集者）Nippon Ericsson K.K.コラク森建築物1-4-14、コラク、bunkyo-ku東京112-0004日本
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Phone: +81 3 3830 2241
   EMail: shinta.sugimoto@ericsson.com
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
