<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 7395 - An Extensible Messaging and Presence Protocol (XMPP) Subprotocol for WebSocket 日本語訳</title>
  <meta name="description" content="RFC 7395は、WebSocketのためのXMPPサブプロトコルであり、メッセージングとプレゼンスの機能を拡張することを目的としています。">
  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./master.css">
  <script src="./index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7395</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc7395">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 7395 - An Extensible Messaging and Presence Protocol (XMPP) Subprotocol for WebSocket 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc7395">
            https://datatracker.ietf.org/doc/html/rfc7395
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 7395 - WebSocket用の拡張メッセージングおよびプレゼンスプロトコル（XMPP）サブプロトコル</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div id="rfc_summary">
      <div class="card mb-3">
        <div class="card-body">
          <p class="card-text">[要約] RFC 7395は、WebSocketのためのXMPPサブプロトコルであり、メッセージングとプレゼンスの機能を拡張することを目的としています。</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                     L. Stout, Ed.
Request for Comments: 7395                                          &amp;yet
Category: Standards Track                                     J. Moffitt
ISSN: 2070-1721                                                  Mozilla
                                                              E. Cestari
                                                        cstar industries
                                                            October 2014
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-2">
An Extensible Messaging and Presence Protocol (XMPP) Subprotocol for WebSocket
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-2">
WebSocket用の拡張メッセージングおよびプレゼンスプロトコル（XMPP）サブプロトコル
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a binding for the Extensible Messaging and Presence Protocol (XMPP) over a WebSocket transport layer. A WebSocket binding for XMPP provides higher performance than the current HTTP binding for XMPP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、WebSocketトランスポート層を介した拡張メッセージングおよびプレゼンスプロトコル（XMPP）のバインディングを定義します。 XMPPのWebSocketバインディングは、XMPPの現在のHTTPバインディングよりも高いパフォーマンスを提供します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 5741のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7395.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc7395で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2014 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびこの文書の発行日に有効なIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象となります。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................2
   2. Terminology .....................................................3
   3. XMPP Subprotocol ................................................3
      3.1. Handshake ..................................................3
      3.2. WebSocket Messages .........................................4
      3.3. XMPP Framing ...............................................5
           3.3.1. Framed XML Stream ...................................5
           3.3.2. Framed Stream Namespace .............................5
           3.3.3. Stream Frames .......................................5
      3.4. Stream Initiation ..........................................6
      3.5. Stream Errors ..............................................7
      3.6. Closing the Connection .....................................7
           3.6.1. see-other-uri .......................................8
      3.7. Stream Restarts ............................................9
      3.8. Pings and Keepalives .......................................9
      3.9. Use of TLS .................................................9
      3.10. Stream Management ........................................10
   4. Discovering the WebSocket Connection Method ....................10
   5. IANA Considerations ............................................11
      5.1. WebSocket Subprotocol Name ................................11
      5.2. URN Sub-namespace .........................................11
   6. Security Considerations ........................................12
   7. References .....................................................14
      7.1. Normative References ......................................14
      7.2. Informative References ....................................14
   Appendix A. XML Schema ............................................16
   Acknowledgements ..................................................17
   Authors&#39; Addresses ................................................18
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To date, applications using the Extensible Messaging and Presence Protocol (XMPP) (see [RFC6120] and [RFC6121]) on the Web have made use of Bidirectional-streams Over Synchronous HTTP (BOSH) (see [XEP-0124] and [XEP-0206]), an XMPP binding to HTTP. BOSH is based on the HTTP &#34;long polling&#34; technique, and it suffers from high transport overhead compared to XMPP&#39;s native binding to TCP. In addition, there are a number of other known issues with long polling [RFC6202] that have an impact on BOSH-based systems.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これまでに、Web上でExtensible Messaging and Presence Protocol（XMPP）（[RFC6120]と[RFC6121]を参照）を使用するアプリケーションは、双方向HTTPを介した双方向HTTP（BOSH）（[XEP-0124]と[XEP -0206]）、HTTPへのXMPPバインディング。 BOSHはHTTPの「ロングポーリング」技術に基づいており、TCPへのXMPPのネイティブバインディングと比較してトランスポートオーバーヘッドが高くなります。さらに、BOSHベースのシステムに影響を与えるロングポーリング[RFC6202]には、他にもいくつかの既知の問題があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 In most circumstances, it would be much better to avoid tunneling XMPP over HTTP long-polled connections and instead use XMPP directly. However, the APIs and sandbox that browsers have provided do not allow this. The WebSocket protocol [RFC6455] exists to solve these kinds of problems and is a bidirectional protocol that provides a simple message-based framing layer, allowing for more robust and efficient communication in web applications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
ほとんどの場合、XMPPをHTTPのロングポーリング接続でトンネリングせずに、XMPPを直接使用する方がはるかに良いでしょう。ただし、ブラウザが提供するAPIとサンドボックスでは、これは許可されていません。 WebSocketプロトコル[RFC6455]は、これらの種類の問題を解決するために存在し、シンプルなメッセージベースのフレーミングレイヤーを提供する双方向プロトコルであり、Webアプリケーションでより堅牢で効率的な通信を可能にします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The WebSocket protocol enables two-way communication between a client and a server, effectively emulating TCP at the application layer and, therefore, overcoming many of the problems with existing long-polling techniques for bidirectional HTTP. This document defines a WebSocket subprotocol for XMPP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WebSocketプロトコルにより、クライアントとサーバー間の双方向通信が可能になり、アプリケーション層でTCPを効果的にエミュレートできるため、双方向HTTPの既存のロングポーリング技術に関する問題の多くを克服できます。このドキュメントでは、XMPPのWebSocketサブプロトコルを定義します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The WebSocket binding for XMPP is designed for use by browser-based applications (e.g., XMPP clients written in JavaScript). Typically, these applications are used to access the same information and communication opportunities (e.g., the same XMPP &#34;roster&#34; of contacts) as clients that connect to an XMPP server over the TCP binding defined in [RFC6120]. Although the only essential difference is the underlying transport binding, relevant implications (e.g., framing methods and discovery processes) are highlighted in this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPのWebSocketバインディングは、ブラウザベースのアプリケーション（JavaScriptで記述されたXMPPクライアントなど）が使用するように設計されています。通常、これらのアプリケーションは、[RFC6120]で定義されているTCPバインディングを介してXMPPサーバーに接続するクライアントと同じ情報および通信機会（連絡先の同じXMPP &#34;名簿&#34;など）にアクセスするために使用されます。唯一の本質的な違いは、基になるトランスポートバインディングですが、関連する影響（たとえば、フレーミング方法や発見プロセス）は、この仕様で強調されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--Terminology">
2. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 用語
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The basic unit of framing in the WebSocket protocol is called a &#34;message&#34;. In XMPP, the basic unit is the stanza, which is a subset of the first-level children of each document in an XMPP stream (see Section 9 of [RFC6120]). XMPP also has a concept of messages, which are stanzas with a top-level element of &lt;message/&gt;. In this document, the word &#34;message&#34; will mean a WebSocket message, not an XMPP message stanza (unless otherwise noted).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WebSocketプロトコルのフレーミングの基本単位は「メッセージ」と呼ばれます。 XMPPでは、基本単位はスタンザです。これは、XMPPストリーム内の各ドキュメントの第1レベルの子のサブセットです（[RFC6120]のセクション9を参照）。 XMPPには、メッセージの概念もあります。これは、最上位の要素が&lt;message /&gt;のスタンザです。このドキュメントでは、「メッセージ」という言葉は、XMPPメッセージスタンザではなく、WebSocketメッセージを意味します（特に明記されていない限り）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;NOT RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「NOT RECOMMENDED」、「MAY」、「OPTIONALこの文書の &#34;は、[RFC2119]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--XMPP-Subprotocol">
3. XMPP Subprotocol
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. XMPPサブプロトコル
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-1--Handshake">
3.1. Handshake
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. ハンドシェーク
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XMPP subprotocol is used to transport XMPP over a WebSocket connection. The client and server agree to this protocol during the WebSocket handshake (see Section 1.3 of [RFC6455]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPサブプロトコルは、WebSocket接続を介してXMPPを転送するために使用されます。クライアントとサーバーは、WebSocketハンドシェイク中にこのプロトコルに同意します（[RFC6455]のセクション1.3を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
During the WebSocket handshake, the client MUST include the value &#39;xmpp&#39; in the list of protocols for the &#39;Sec-WebSocket-Protocol&#39; header. The reply from the server MUST also contain &#39;xmpp&#39; in its own &#39;Sec-WebSocket-Protocol&#39; header in order for an XMPP subprotocol connection to be established.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WebSocketハンドシェイクの間、クライアントは、「Sec-WebSocket-Protocol」ヘッダーのプロトコルのリストに値「xmpp」を含める必要があります。 XMPPサブプロトコル接続を確立するために、サーバーからの応答には、独自の「Sec-WebSocket-Protocol」ヘッダーに「xmpp」が含まれている必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a client receives a handshake response that does not include &#39;xmpp&#39; in the &#39;Sec-WebSocket-Protocol&#39; header, then an XMPP subprotocol WebSocket connection was not established and the client MUST close the WebSocket connection.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントが「Sec-WebSocket-Protocol」ヘッダーに「xmpp」を含まないハンドシェイク応答を受信した場合、XMPPサブプロトコルWebSocket接続は確立されず、クライアントはWebSocket接続を閉じる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once the handshake has successfully completed, WebSocket messages sent or received MUST conform to the protocol defined in the rest of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ハンドシェイクが正常に完了すると、送受信されるWebSocketメッセージは、このドキュメントの残りの部分で定義されているプロトコルに準拠する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following is an example of a WebSocket handshake, followed by opening an XMPP stream:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下は、WebSocketハンドシェイクの例で、XMPPストリームを開きます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   C:  GET /xmpp-websocket HTTP/1.1
       Host: example.com
       Upgrade: websocket
       Connection: Upgrade
       Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
       Origin: http://example.com
       ...
       Sec-WebSocket-Protocol: xmpp
       Sec-WebSocket-Version: 13
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   S:  HTTP/1.1 101 Switching Protocols
       Upgrade: websocket
       Connection: Upgrade
       ...
       Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=
       Sec-WebSocket-Protocol: xmpp
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[WebSocket connection established]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[WebSocket接続が確立されました]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   C:  &lt;open xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34;
             to=&#34;example.com&#34;
             version=&#34;1.0&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   S:  &lt;open xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34;
             from=&#34;example.com&#34;
             id=&#34;++TR84Sm6A3hnt3Q065SnAbbk3Y=&#34;
             xml:lang=&#34;en&#34;
             version=&#34;1.0&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-2--WebSocket-Messages">
3.2. WebSocket Messages
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. WebSocketメッセージ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Data frame messages in the XMPP subprotocol MUST be of the text type and contain UTF-8 encoded data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPサブプロトコルのデータフレームメッセージはテキストタイプで、UTF-8エンコードされたデータを含んでいる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3--XMPP-Framing">
3.3. XMPP Framing
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. XMPPフレーミング
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The framing method for the binding of XMPP to WebSocket differs from the framing method for the TCP binding as defined in [RFC6120]; in particular, the WebSocket binding adopts the message framing provided by WebSocket to delineate the stream open and close headers, stanzas, and other top-level stream elements.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPからWebSocketへのバインディングのフレーミング方法は、[RFC6120]で定義されているTCPバインディングのフレーミング方法とは異なります。特に、WebSocketバインディングは、WebSocketによって提供されるメッセージフレーミングを採用して、ストリームのオープンヘッダーとクローズヘッダー、スタンザ、およびその他のトップレベルストリーム要素を描写します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-1--Framed-XML-Stream">
3.3.1. Framed XML Stream
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.1. フレーム化されたXMLストリーム
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The start of a framed XML stream is marked by the use of an opening &#34;stream header&#34;, which is an &lt;open/&gt; element with the appropriate attributes and namespace declarations (see Section 3.3.2). The attributes of the &lt;open/&gt; element are the same as those of the &lt;stream/&gt; element defined for the &#39;http://etherx.jabber.org/streams&#39; namespace [RFC6120] and with the same semantics and restrictions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
フレーム化されたXMLストリームの開始は、適切な属性と名前空間宣言（セクション3.3.2を参照）を持つ&lt;open /&gt;要素である開始 &#34;ストリームヘッダー&#34;の使用によってマークされます。 &lt;open /&gt;要素の属性は、 &#39;http：//etherx.jabber.org/streams&#39;名前空間[RFC6120]に対して定義された&lt;stream /&gt;要素の属性と同じであり、同じセマンティクスと制限があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The end of a framed XML stream is denoted by the closing &#34;stream header&#34;, which is a &lt;close/&gt; element with its associated attributes and namespace declarations (see Section 3.3.2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
フレーム化されたXMLストリームの終わりは、関連する属性と名前空間宣言を持つ&lt;close /&gt;要素である閉じた「ストリームヘッダー」によって示されます（セクション3.3.2を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The introduction of the &lt;open/&gt; and &lt;close/&gt; elements is motivated by the parsable XML document framing restriction in Section 3.3.3. As a consequence, note that a framed XML stream does not provide a wrapping &lt;stream:stream/&gt; [RFC6120] element encompassing the entirety of the XML stream.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&lt;open /&gt;および&lt;close /&gt;要素の導入は、セクション3.3.3の解析可能なXMLドキュメントのフレーミング制限によって動機付けられています。結果として、フレーム化されたXMLストリームは、XMLストリーム全体を包含するラッピング&lt;stream：stream /&gt; [RFC6120]要素を提供しないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-2--Framed-Stream-Namespace">
3.3.2. Framed Stream Namespace
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.2. フレーム化ストリーム名前空間
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XML stream headers (the &lt;open/&gt; and &lt;close/&gt; elements) MUST be qualified by the namespace &#39;urn:ietf:params:xml:ns:xmpp-framing&#39; (the &#34;framed stream namespace&#34;). If this rule is violated, the entity that receives the offending stream header MUST close the stream with an error, which MUST be &lt;invalid-namespace&gt; (see Section 4.9.3.10 of [RFC6120]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLストリームヘッダー（&lt;open /&gt;および&lt;close /&gt;要素）は、名前空間「urn：ietf：params：xml：ns：xmpp-framing」（「フレームストリームの名前空間」）で修飾する必要があります。このルールに違反している場合、問題のストリームヘッダーを受信するエンティティはストリームをエラーで閉じなければならず、エラーは&lt;invalid-namespace&gt;でなければなりません（[RFC6120]のセクション4.9.3.10を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-3-3--Stream-Frames">
3.3.3. Stream Frames
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.3. ストリームフレーム
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The individual frames of a framed XML stream have a one-to-one correspondence with WebSocket messages and MUST be parsable as standalone XML documents, complete with all relevant namespace and language declarations. The inclusion of XML declarations, however, is NOT RECOMMENDED, as WebSocket messages are already mandated to be UTF-8 encoded. Including declarations in each message would only increase the framing overhead of each message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
フレーム化されたXMLストリームの個々のフレームは、WebSocketメッセージと1対1で対応し、すべての関連する名前空間と言語宣言を備えたスタンドアロンのXMLドキュメントとして解析可能でなければなりません。ただし、WebSocketメッセージはすでにUTF-8でエンコードされるように義務付けられているため、XML宣言を含めることはお勧めしません。各メッセージに宣言を含めると、各メッセージのフレーミングオーバーヘッドが増えるだけです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first character of each frame MUST be a &#39;&lt;&#39; character.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
各フレームの最初の文字は「&lt;」文字でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Every XMPP stanza or other XML element (including the stream open and close headers) sent directly over the XML stream MUST be sent in its own frame.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLストリームを介して直接送信されるすべてのXMPPスタンザまたはその他のXML要素（ストリームのオープンおよびクローズヘッダーを含む）は、独自のフレームで送信する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example of a WebSocket message that contains an independently parsable XML document:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
個別に解析可能なXMLドキュメントを含むWebSocketメッセージの例：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;message xmlns=&#34;jabber:client&#34; xml:lang=&#34;en&#34;&gt;
     &lt;body&gt;Every WebSocket message is parsable by itself.&lt;/body&gt;
   &lt;/message&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that for stream features and errors, there is no parent context element providing the &#34;stream&#34; namespace prefix as in [RFC6120], and thus the stream prefix MUST be declared or use an unprefixed form:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ストリーム機能とエラーの場合、[RFC6120]のように「ストリーム」名前空間接頭辞を提供する親コンテキスト要素がないため、ストリーム接頭辞を宣言するか、接頭辞なしの形式を使用する必要があることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;stream:features xmlns:stream=&#34;http://etherx.jabber.org/streams&#34;&gt;
     &lt;bind xmlns=&#34;urn:ietf:params:xml:ns:xmpp-bind&#34;/&gt;
   &lt;/stream:features&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
-- OR --
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
-または-
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;error xmlns=&#34;http://etherx.jabber.org/streams&#34;&gt;
     &lt;host-unknown xmlns=&#39;urn:ietf:params:xml:ns:xmpp-streams&#39;/&gt;
   &lt;/error&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-4--Stream-Initiation">
3.4. Stream Initiation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. ストリームの開始
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The first message sent after the WebSocket opening handshake MUST be from the initiating entity and MUST be an &lt;open/&gt; element qualified by the &#39;urn:ietf:params:xml:ns:xmpp-framing&#39; namespace and with the same attributes mandated for the &lt;stream&gt; opening tag as described in Section 4.7 of [RFC6120].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WebSocketオープンハンドシェイクの後に送信される最初のメッセージは、開始エンティティからのものでなければならず、「urn：ietf：params：xml：ns：xmpp-framing」名前空間によって修飾され、同じ属性が必須である&lt;open /&gt;要素でなければなりません[RFC6120]のセクション4.7で説明されている&lt;stream&gt;開始タグ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The receiving entity MUST respond with either an &lt;open/&gt; element (whose attributes match those described in Section 4.7 of [RFC6120]) or a &lt;close/&gt; element (see Section 3.6.1).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
受信エンティティは、&lt;open /&gt;要素（[RFC6120]のセクション4.7で説明されているものと属性が一致する）または&lt;close /&gt;要素（セクション3.6.1を参照）のいずれかで応答する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An example of a successful stream initiation exchange:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
成功したストリーム開始交換の例：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   C:  &lt;open xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34;
             to=&#34;example.com&#34;
             version=&#34;1.0&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   S:  &lt;open xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34;
             from=&#34;example.com&#34;
             id=&#34;++TR84Sm6A3hnt3Q065SnAbbk3Y=&#34;
             xml:lang=&#34;en&#34;
             version=&#34;1.0&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Clients MUST NOT multiplex XMPP streams over the same WebSocket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは、同じWebSocketを介してXMPPストリームを多重化してはなりません（MUST NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-5--Stream-Errors">
3.5. Stream Errors
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.5. ストリームエラー
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Stream-level errors in XMPP are fatal. Should such an error occur, the server MUST send the stream error as a complete element in a message to the client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPのストリームレベルのエラーは致命的です。そのようなエラーが発生した場合、サーバーはクライアントへのメッセージの完全な要素としてストリームエラーを送信する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the error occurs during the opening of a stream, the server MUST send the initial open element response, followed by the stream-level error in a second WebSocket message frame. The server MUST then close the connection as specified in Section 3.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ストリームのオープン中にエラーが発生した場合、サーバーは最初のオープンエレメント応答を送信しなければならず、その後に2番目のWebSocketメッセージフレームでストリームレベルのエラーが送信されます。次に、サーバーは、セクション3.6で指定されているように接続を閉じる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-6--Closing-the-Connection">
3.6. Closing the Connection
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6. 接続を閉じる
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The closing process for the XMPP subprotocol mirrors that of the XMPP TCP binding as defined in Section 4.4 of [RFC6120], except that a &lt;close/&gt; element is used instead of the ending &lt;/stream:stream&gt; tag.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPサブプロトコルの終了プロセスは、[RFC6120]のセクション4.4で定義されているXMPP TCPバインディングの終了プロセスを反映していますが、終了の&lt;/ stream：stream&gt;タグの代わりに&lt;close /&gt;要素が使用されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Either the server or the client may close the connection at any time. Before closing the connection, the closing party is expected to first close the XMPP stream (if one has been opened) by sending a message with the &lt;close/&gt; element, qualified by the &#34;urn:ietf:params:xml:ns:xmpp-framing&#34; namespace. The stream is considered closed when a corresponding &lt;close/&gt; element is received from the other party, and the XMPP session is ended.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーまたはクライアントのいずれかがいつでも接続を閉じることができます。接続を閉じる前に、閉じる側は、「urn：ietf：params：xml：ns：xmpp」で修飾された&lt;close /&gt;要素を含むメッセージを送信して、XMPPストリーム（開かれている場合）を最初に閉じることが期待されます。 -framing」名前空間。対応する&lt;close /&gt;要素が相手から受信されると、ストリームは閉じられたと見なされ、XMPPセッションが終了します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To then close the WebSocket connection, the closing party MUST initiate the WebSocket closing handshake (see Section 7.1.2 of [RFC6455]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
その後、WebSocket接続を閉じるには、終了側がWebSocket終了ハンドシェイクを開始する必要があります（[RFC6455]のセクション7.1.2を参照）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An example of ending an XMPP-over-WebSocket session by first closing the XMPP stream layer and then the WebSocket connection layer:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最初にXMPPストリームレイヤーを閉じてからWebSocket接続レイヤーを閉じて、XMPP-over-WebSocketセッションを終了する例：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Client                         (XMPP WSS)                      Server
   |  |                                                             |  |
   |  | &lt;close xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34; /&gt;       |  |
   |  |------------------------------------------------------------&gt;|  |
   |  |       &lt;close xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34; /&gt; |  |
   |  |&lt;------------------------------------------------------------|  |
   |  |                                                             |  |
   |  |                      (XMPP Stream Closed)                   |  |
   |  +-------------------------------------------------------------+  |
   |                                                                   |
   | WS CLOSE FRAME                                                    |
   |------------------------------------------------------------------&gt;|
   |                                                    WS CLOSE FRAME |
   |&lt;------------------------------------------------------------------|
   |                                                                   |
   |                         (Connection Closed)                       |
   +-------------------------------------------------------------------+
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the WebSocket connection is closed or broken without the XMPP stream having been closed first, then the XMPP stream is considered implicitly closed and the XMPP session ended; however, if the use of stream management resumption was negotiated (see [XEP-0198]), the server SHOULD consider the XMPP session still alive for a period of time based on server policy as specified in [XEP-0198].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPストリームが最初に閉じられていない状態でWebSocket接続が閉じられるか切断されると、XMPPストリームは暗黙的に閉じられたと見なされ、XMPPセッションが終了します。ただし、ストリーム管理再開の使用がネゴシエートされた場合（[XEP-0198]を参照）、サーバーは、[XEP-0198]で指定されているサーバーポリシーに基づいて、XMPPセッションが一定期間存続していると見なすべきです（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-6-1--see-other-uri">
3.6.1. see-other-uri
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6.1. see-other-uri
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At any point, if the server wishes to instruct the client to move to a different WebSocket endpoint (e.g., for load-balancing purposes), then a &lt;close/&gt; element is sent with the &#39;see-other-uri&#39; attribute set to the URI of the new connection endpoint (which MAY be for a different transport method, such as BOSH (see [XEP-0124] and [XEP-0206])).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
任意の時点で、サーバーがクライアントに別のWebSocketエンドポイントに移動するように指示する場合（たとえば、負荷分散の目的で）、&lt;close /&gt;要素が送信され、 &#39;see-other-uri&#39;属性が設定されます。新しい接続エンドポイントのURI（これは、BOSH（[XEP-0124]と[XEP-0206]を参照）などの別の転送方法の場合があります））。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Clients MUST NOT accept suggested endpoints with a lower security context (e.g., moving from a &#39;wss://&#39; endpoint to a &#39;ws://&#39; or &#39;http://&#39; endpoint).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは、セキュリティコンテキストの低い推奨エンドポイントを受け入れてはなりません（たとえば、「wss：//」エンドポイントから「ws：//」または「http：//」エンドポイントへの移動）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An example of the server closing a stream and instructing the client to connect at a different WebSocket endpoint:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーがストリームを閉じ、クライアントに別のWebSocketエンドポイントで接続するように指示する例：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   S: &lt;close xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34;
             see-other-uri=&#34;wss://otherendpoint.example/xmpp-bind&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-7--Stream-Restarts">
3.7. Stream Restarts
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.7. ストリームの再開
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Whenever a stream restart is mandated (see Section 4.3.3 of [RFC6120]), both the server and client streams are implicitly closed and new streams MUST be opened, using the same process as in Section 3.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ストリームの再起動が義務付けられている場合（[RFC6120]のセクション4.3.3を参照）、セクション3.4と同じプロセスを使用して、サーバーストリームとクライアントストリームの両方が暗黙的に閉じられ、新しいストリームを開かなければなりません（MUST）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The client MUST send a new stream &lt;open/&gt; element and MUST NOT send a closing &lt;close/&gt; element.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントは新しいストリームの&lt;open /&gt;要素を送信する必要があり、終了の&lt;close /&gt;要素を送信してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An example of restarting the stream after successful Simple Authentication and Security Layer (SASL) negotiation:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Simple Authentication and Security Layer（SASL）ネゴシエーションが成功した後にストリームを再開する例：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   S: &lt;success xmlns=&#34;urn:ietf:params:xml:ns:xmpp-sasl&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Streams implicitly closed]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[暗黙的に閉じられたストリーム]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   C: &lt;open xmlns=&#34;urn:ietf:params:xml:ns:xmpp-framing&#34;
            to=&#34;example.com&#34;
            version=&#34;1.0&#34; /&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-8--Pings-and-Keepalives">
3.8. Pings and Keepalives
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.8. pingとキープアライブ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Traditionally, XMPP servers and clients often send &#34;whitespace keepalives&#34; (see Section 4.6.1 of [RFC6120]) between stanzas to maintain an XML stream. However, for the XMPP subprotocol each message is required to start with a &#39;&lt;&#39; character, and, as such, whitespace keepalives MUST NOT be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
従来、XMPPサーバーとクライアントは、スタンザの間に「ホワイトスペースキープアライブ」（[RFC6120]のセクション4.6.1を参照）を送信して、XMLストリームを維持することがよくあります。ただし、XMPPサブプロトコルの場合、各メッセージは「&lt;」文字で始まる必要があるため、空白のキープアライブを使用してはなりません（MUST NOT）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As alternatives, the XMPP Ping extension [XEP-0199] and the XMPP Stream Management extension [XEP-0198] provide pinging mechanisms. Either of these extensions (or both) MAY be used to determine the state of the connection.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代替として、XMPP Ping拡張[XEP-0199]およびXMPPストリーム管理拡張[XEP-0198]は、pingメカニズムを提供します。これらの拡張のどちらか（または両方）を使用して、接続の状態を判別できます（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Clients and servers MAY also use WebSocket ping control frames for this purpose, but note that some environments, such as browsers, do not provide access for generating or monitoring ping control frames.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
クライアントとサーバーもこの目的でWebSocket pingコントロールフレームを使用する場合がありますが、ブラウザなどの一部の環境では、pingコントロールフレームを生成または監視するためのアクセスが提供されないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-9--Use-of-TLS">
3.9. Use of TLS
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.9. TLSの使用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Transport Layer Security (TLS) cannot be used at the XMPP subprotocol layer because the subprotocol does not allow for raw binary data to be sent. Instead, when TLS is used, it MUST be enabled at the WebSocket layer using secure WebSocket connections via the &#39;wss&#39; URI scheme. (See Section 10.6 of [RFC6455].) Because TLS is to be provided outside of the XMPP subprotocol layer, a server MUST NOT advertise TLS as a stream feature (see Section 4.6 of [RFC6120]) when using the XMPP subprotocol. Likewise, a client MUST ignore any advertised TLS stream feature when using the XMPP subprotocol.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
XMPPサブプロトコルレイヤーではトランスポート層セキュリティ（TLS）を使用できません。これは、サブプロトコルでは未加工のバイナリデータを送信できないためです。代わりに、TLSを使用する場合は、「wss」URIスキームを介した安全なWebSocket接続を使用してWebSocketレイヤーで有効にする必要があります。 （[RFC6455]のセクション10.6を参照してください。）TLSはXMPPサブプロトコルレイヤーの外部で提供されるため、XMPPサブプロトコルを使用する場合、サーバーはTLSをストリーム機能（[RFC6120]のセクション4.6を参照）としてアドバタイズしてはなりません。同様に、XMPPサブプロトコルを使用する場合、クライアントはアドバタイズされたTLSストリーム機能を無視する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3-10--Stream-Management">
3.10. Stream Management
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.10. ストリーム管理
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order to alleviate the problems of temporary disconnections, the client MAY use the XMPP Stream Management extension [XEP-0198] to confirm when stanzas have been received by the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一時的な切断の問題を緩和するために、クライアントは、XMPPストリーム管理拡張機能[XEP-0198]を使用して、サーバーがスタンザを受信したことを確認できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In particular, the client MAY use session resumption as described in [XEP-0198] to recreate the same stream session state after a temporary network unavailability or after navigating to a new URL in a browser.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
特に、クライアントは、[XEP-0198]で説明されているようにセッション再開を使用して、一時的なネットワークが利用できなくなった後、またはブラウザーで新しいURLに移動した後に、同じストリームセッション状態を再作成できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--Discovering-the-WebSocket-Connection-Method">
4. Discovering the WebSocket Connection Method
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. WebSocket接続方法の発見
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 3 of [RFC6120] defines a procedure for connecting to an XMPP server, including ways to discover the TCP/IP address and port of the server using Domain Name System service (DNS SRV) records [RFC2782]. When using the WebSocket binding as specified in this document (instead of the TCP binding as specified in [RFC6120]), a client needs an alternative way to discover information about the server&#39;s connection methods, since web browsers and other WebSocket-capable software applications typically cannot obtain such information from the DNS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6120]のセクション3は、ドメインネームシステムサービス（DNS SRV）レコードを使用してサーバーのTCP / IPアドレスとポートを検出する方法など、XMPPサーバーに接続する手順を定義しています[RFC2782]。このドキュメントで指定されているように（[RFC6120]で指定されているTCPバインディングではなく）WebSocketバインディングを使用する場合、クライアントはサーバーの接続方法に関する情報を検出する別の方法を必要とします。 DNSからそのような情報を取得できません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The alternative lookup process uses Web-host Metadata [RFC6415] and Web Linking [RFC5988], where the link relation type is &#34;urn:xmpp:alt-connections:websocket&#34; as described in &#34;Discovering Alternative XMPP Connection Methods&#34; [XEP-0156]. Conceptually, the host-meta lookup process used for the WebSocket binding is analogous to the DNS SRV lookup process used for the TCP binding. The process is as follows.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代替ルックアッププロセスは、Webホストメタデータ[RFC6415]とWebリンク[RFC5988]を使用します。リンク関係タイプは「urn：xmpp：alt-connections：websocket」で、「代替XMPP接続方法の検出」[XEP-0156で説明されています。 ]。概念的には、WebSocketバインディングに使用されるホストメタルックアッププロセスは、TCPバインディングに使用されるDNS SRVルックアッププロセスに類似しています。プロセスは次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Send a request over secure HTTP to the path &#34;/.well-known/host-meta&#34; at an HTTP origin [RFC6454] that matches the XMPP service domain (e.g., a URL of &#34;https://im.example.org/.well-known/host-meta&#34; if the XMPP service domain is &#34;im.example.org&#34;).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. XMPPサービスドメインと一致するHTTPオリジン[RFC6454]のパス &#34;/.well-known/host-meta&#34;にセキュアHTTP経由でリクエストを送信します（例： &#34;https://im.example.org/ .well-known / host-meta」（XMPPサービスドメインが「im.example.org」の場合）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Retrieve a host-meta document specifying a link relation type of &#34;urn:xmpp:alt-connections:websocket&#34;, such as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 次のようなリンク関係タイプ「urn：xmpp：alt-connections：websocket」を指定するホストメタドキュメントを取得します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       &lt;XRD xmlns=&#39;http://docs.oasis-open.org/ns/xri/xrd-1.0&#39;&gt;
         &lt;Link rel=&#34;urn:xmpp:alt-connections:websocket&#34;
               href=&#34;wss://im.example.org:443/ws&#34; /&gt;
       &lt;/XRD&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Servers MAY expose discovery information using host-meta documents, and clients MAY use such information to determine the WebSocket endpoint for a server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サーバーはホストメタドキュメントを使用して検出情報を公開することができ（MAY）、クライアントはそのような情報を使用してサーバーのWebSocketエンドポイントを決定することができます（MAY）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In cases where the XMPP service domain does not match the discovered web origin of the WebSocket endpoint, the Web-host Metadata SHOULD be used to establish trust between the XMPP server domain and the WebSocket endpoint as long as the host-meta request and response occurred over secure HTTP; this is especially relevant in multi-tenant situations where the same WebSocket endpoint is serving multiple XMPP domains (e.g., the XMPP service domains for both &#34;example.com&#34; and &#34;im.example.org&#34; might be serviced by the same WebSocket endpoint at &#34;hosting.example.net&#34;). See Section 6 for related discussion.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPサービスドメインがWebSocketエンドポイントの検出されたWeb起点と一致しない場合、ホストメタ要求と応答が発生する限り、XMPPサーバードメインとWebSocketエンドポイント間の信頼を確立するためにWebホストメタデータを使用する必要があります（SHOULD）。安全なHTTP経由。これは、同じWebSocketエンドポイントが複数のXMPPドメインにサービスを提供しているマルチテナントの状況で特に関連します（たとえば、「example.com」と「im.example.org」の両方のXMPPサービスドメインは、同じWebSocketエンドポイントによってサービスされます「hosting.example.net」）。関連する議論についてはセクション6を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--IANA-Considerations">
5. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. IANAに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-1--WebSocket-Subprotocol-Name">
5.1. WebSocket Subprotocol Name
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. WebSocketサブプロトコル名
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA has registered the WebSocket XMPP subprotocol in the &#34;WebSocket Subprotocol Name Registry&#34;, with the following data:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANAは、WebSocket XMPPサブプロトコルを「WebSocketサブプロトコル名レジストリ」に次のデータとともに登録しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Subprotocol Identifier: xmpp
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サブプロトコル識別子：xmpp
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Subprotocol Common Name: WebSocket Transport for the Extensible Messaging and Presence Protocol (XMPP)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サブプロトコルの一般名：Extensible Messaging and Presence Protocol（XMPP）のWebSocketトランスポート
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Subprotocol Definition: this document
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サブプロトコルの定義：このドキュメント
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5-2--URN-Sub-namespace">
5.2. URN Sub-namespace
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. URNサブ名前空間
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A URN sub-namespace for framing of Extensible Messaging and Presence Protocol (XMPP) streams is defined as follows.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Extensible Messaging and Presence Protocol（XMPP）ストリームをフレーミングするためのURNサブ名前空間は、次のように定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   URI:  urn:ietf:params:xml:ns:xmpp-framing
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Specification: this document Description: This is the XML namespace name for framing of Extensible Messaging and Presence Protocol (XMPP) streams as defined by RFC 7395.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
仕様：このドキュメント説明：これは、RFC 7395で定義されているExtensible Messaging and Presence Protocol（XMPP）ストリームのフレーミング用のXML名前空間名です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Registrant Contact:  IESG &lt;iesg@ietf.org&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--Security-Considerations">
6. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. セキュリティに関する考慮事項
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The WebSocket binding for XMPP differs in several respects from the TCP binding defined in [RFC6120]:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPのWebSocketバインディングは、[RFC6120]で定義されているTCPバインディングといくつかの点で異なります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. As described in Section 4 of this document, the method for discovering a connection endpoint does not use DNS SRV records as in the TCP binding but instead uses Web-host Metadata files retrieved via HTTPS from a URL at the XMPP service domain. From a security standpoint, this is functionally equivalent to resolution via DNS SRV records (and still relies on the DNS for resolution of the XMPP source domain).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. このドキュメントのセクション4で説明されているように、接続エンドポイントを検出する方法は、TCPバインディングの場合のようにDNS SRVレコードを使用せず、代わりにXMPPサービスドメインのURLからHTTPS経由で取得したWebホストメタデータファイルを使用します。セキュリティの観点からは、これは機能的にDNS SRVレコードによる解決と同等です（XMPPソースドメインの解決はDNSに依存しています）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The method for authenticating a connection endpoint uses TLS (typically with PKIX certificates) as in the TCP binding, but the identity to be authenticated is the connection endpoint address instead of the XMPP service domain; delegation from the XMPP service domain to the connection endpoint address (if any) is accomplished via the discovery method described in Section 4. Thus, the connection endpoint is still authenticated, and the delegation is secure as long as the Web-host Metadata file is retrieved via HTTPS. However, note that, in practice, this option might not be employed when user agents are configured or deployed for a particular delegated domain.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 接続エンドポイントを認証する方法は、TCPバインディングと同様にTLS（通常はPKIX証明書を使用）を使用しますが、認証されるIDはXMPPサービスドメインではなく接続エンドポイントアドレスです。 XMPPサービスドメインから接続エンドポイントアドレス（存在する場合）への委任は、セクション4で説明する検出方法を介して行われます。したがって、接続エンドポイントは引き続き認証され、Webホストメタデータファイルが存在する限り、委任は安全です。 HTTPS経由で取得されます。ただし、実際には、このオプションは、特定の委任されたドメインに対してユーザーエージェントが構成または展開されている場合は使用されない場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The framing method described in Section 3.3 follows the WebSocket pattern by sending one top-level XML element per WebSocket message, instead of using streaming XML as in the TCP binding. However, the framing method has no impact on the security properties of an XMPP session (e.g., end-to-end encryption of XML stanzas can be accomplished just as easily with WebSocket framing as with streaming XML).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. セクション3.3で説明するフレーミングメソッドは、TCPバインディングのようにストリーミングXMLを使用する代わりに、WebSocketメッセージごとに1つのトップレベルXML要素を送信することにより、WebSocketパターンに従います。ただし、フレーミング方式はXMPPセッションのセキュリティプロパティに影響を与えません（たとえば、XMLスタンザのエンドツーエンドの暗号化は、ストリーミングXMLと同じようにWebSocketフレーミングを使用すると簡単に実行できます）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. In all other respects (e.g., user authentication via SASL, allowable characters in XMPP addresses, and reuse of various technologies such as Base 64, SASL mechanisms, UTF-8, and XML), the WebSocket binding does not differ from the TCP binding and, thus, does not modify the security properties of the protocol. In all these respects, the security considerations of [RFC6120] apply directly to the WebSocket binding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. その他すべての点（SASLを介したユーザー認証、XMPPアドレスで使用可能な文字、Base 64、SASLメカニズム、UTF-8、XMLなどのさまざまなテクノロジーの再利用など）では、WebSocketバインディングはTCPバインディングと異なりません。したがって、プロトコルのセキュリティプロパティは変更されません。これらすべての点で、[RFC6120]のセキュリティに関する考慮事項は、WebSocketバインディングに直接適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order to ensure that communications over the WebSocket binding are as secure as communications over the TCP binding, an operator needs to (1) serve the Web-host Metadata file for the XMPP service domain over secure HTTP (&#39;https&#39; URIs) only, (2) configure the WebSocket connection endpoint to use TLS (&#39;wss&#39; URIs) only, and (3) deploy certificates that properly identify the XMPP service domain and WebSocket connection endpoint for usages (1) and (2), respectively.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WebSocketバインディングを介した通信がTCPバインディングを介した通信と同じくらい安全であることを保証するために、オペレーターは（1）安全なHTTP（ &#39;https&#39; URI）のみを介してXMPPサービスドメインのWebホストメタデータファイルを提供する必要があります。 （2）TLS（「wss」URI）のみを使用するようにWebSocket接続エンドポイントを構成し、（3）用途（1）および（2）のXMPPサービスドメインとWebSocket接続エンドポイントをそれぞれ適切に識別する証明書をデプロイします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since application-level TLS cannot be used (see Section 3.9), applications need to protect the privacy of XMPP traffic at the WebSocket or other appropriate layer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アプリケーションレベルのTLSは使用できないため（セクション3.9を参照）、アプリケーションはWebSocketまたはその他の適切なレイヤーでXMPPトラフィックのプライバシーを保護する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Browser-based applications are not able to inspect and verify, at the application layer, the certificate used for the WebSocket connection to ensure that it corresponds to the domain specified as the &#39;to&#39; address of the XMPP stream. There are two cases:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ブラウザベースのアプリケーションは、アプリケーション層でWebSocket接続に使用される証明書を検査および検証して、XMPPストリームの「宛先」アドレスとして指定されたドメインに対応していることを確認できません。 2つのケースがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. If the XMPP service domain matches the origin for the WebSocket connection, the relevant check is already performed by the browser. For example, the XMPP service domain might be &#34;foo.example&#34;, and the WebSocket endpoint discovered for the link relation type of &#34;urn:xmpp:alt-connections:websocket&#34; might be &#34;wss://foo.example/websocket&#34;. As long as the certificate provided over WebSocket or HTTPS is verified according to the rules defined for secure HTTP [RFC2818], then the browser will report the successful establishment of a secure connection to the application. (However, as noted, the application is still not able to independently inspect and verify the certificate, and needs to trust the browser; this is a limitation of existing browser technologies and thus cannot be worked around by WebSocket applications.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. XMPPサービスドメインがWebSocket接続の起点と一致する場合、関連するチェックはブラウザによってすでに実行されています。たとえば、XMPPサービスドメインは「foo.example」、リンク関係タイプ「urn：xmpp：alt-connections：websocket」で検出されたWebSocketエンドポイントは「wss：//foo.example/websocket」のようになります。 。 WebSocketまたはHTTPSで提供された証明書がセキュアHTTP [RFC2818]に定義されたルールに従って検証されている限り、ブラウザはアプリケーションへのセキュア接続の確立が成功したことを報告します。 （ただし、前述のように、アプリケーションは証明書を個別に検査および検証することができず、ブラウザーを信頼する必要があります。これは既存のブラウザーテクノロジーの制限であるため、WebSocketアプリケーションでは回避できません。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. In situations where the user agent has to deal with delegation and the domain of the XMPP server does not match the web origin of the WebSocket endpoint (such as multi-tenant hosting situations), the host-meta process described in Section 4 SHOULD be used to delegate trust from the XMPP server domain to the WebSocket origin, as long as the host-meta request and response occurred over secure HTTP (with appropriate certificate verification as defined in [RFC2818]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. ユーザーエージェントが委任を処理する必要があり、XMPPサーバーのドメインがWebSocketエンドポイントのWeb起点と一致しない場合（マルチテナントホスティングの状況など）、セクション4で説明されているホストメタプロセスを使用する必要があります（SHOULD）ホストメタ要求と応答が安全なHTTP経由で発生する限り（[RFC2818]で定義されている適切な証明書検証を使用）、XMPPサーバードメインからWebSocketオリジンに信頼を委任します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When presented with a new WebSocket endpoint via the &#39;see-other-uri&#39; attribute of a &lt;close/&gt; element, clients MUST NOT accept the suggestion if the security context of the new endpoint is lower than the current one in order to prevent downgrade attacks from a &#39;wss://&#39; endpoint to &#39;ws://&#39;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&lt;close /&gt;要素の「see-other-uri」属性を介して新しいWebSocketエンドポイントを提示する場合、ダウングレードを防ぐために、クライアントは新しいエンドポイントのセキュリティコンテキストが現在のものよりも低い場合、提案を受け入れてはなりません（MUST NOT） 「wss：//」エンドポイントから「ws：//」への攻撃。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The security considerations for both WebSocket (see Section 10 of [RFC6455]) and XMPP (see Section 13 of [RFC6120]) apply to the WebSocket XMPP subprotocol.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WebSocket（[RFC6455]のセクション10を参照）とXMPP（[RFC6120]のセクション13を参照）の両方のセキュリティに関する考慮事項は、WebSocket XMPPサブプロトコルに適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--References">
7. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 参考文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-1--Normative-References">
7.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. 引用文献
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997, &lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、1997年3月、&lt;http://www.rfc-editor.org/info/rfc2119&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2818] Rescorla, E., &#34;HTTP Over TLS&#34;, RFC 2818, May 2000, &lt;http://www.rfc-editor.org/info/rfc2818&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2818] Rescorla、E。、「HTTP Over TLS」、RFC 2818、2000年5月、&lt;http://www.rfc-editor.org/info/rfc2818&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5988] Nottingham, M., &#34;Web Linking&#34;, RFC 5988, October 2010, &lt;http://www.rfc-editor.org/info/rfc5988&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5988]ノッティンガム、M。、「Webリンク」、RFC 5988、2010年10月、&lt;http://www.rfc-editor.org/info/rfc5988&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6120] Saint-Andre, P., &#34;Extensible Messaging and Presence Protocol (XMPP): Core&#34;, RFC 6120, March 2011, &lt;http://www.rfc-editor.org/info/rfc6120&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6120] Saint-Andre、P。、「Extensible Messaging and Presence Protocol（XMPP）：Core」、RFC 6120、2011年3月、&lt;http://www.rfc-editor.org/info/rfc6120&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6415] Hammer-Lahav, E. and B. Cook, &#34;Web Host Metadata&#34;, RFC 6415, October 2011, &lt;http://www.rfc-editor.org/info/rfc6415&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6415] Hammer-Lahav、E。およびB. Cook、「Web Host Metadata」、RFC 6415、2011年10月、&lt;http://www.rfc-editor.org/info/rfc6415&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6455] Fette, I. and A. Melnikov, &#34;The WebSocket Protocol&#34;, RFC 6455, December 2011, &lt;http://www.rfc-editor.org/info/rfc6455&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6455] Fette、I。およびA. Melnikov、「The WebSocket Protocol」、RFC 6455、2011年12月、&lt;http://www.rfc-editor.org/info/rfc6455&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-2--Informative-References">
7.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 参考引用
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2782] Gulbrandsen, A., Vixie, P., and L. Esibov, &#34;A DNS RR for specifying the location of services (DNS SRV)&#34;, RFC 2782, February 2000, &lt;http://www.rfc-editor.org/info/rfc2782&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2782] Gulbrandsen、A.、Vixie、P。、およびL. Esibov、「サービスの場所を指定するためのDNS RR（DNS SRV）」、RFC 2782、2000年2月、&lt;http：//www.rfc-editor .org / info / rfc2782&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121] Saint-Andre, P., &#34;Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence&#34;, RFC 6121, March 2011, &lt;http://www.rfc-editor.org/info/rfc6121&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121] Saint-Andre、P。、「Extensible Messaging and Presence Protocol（XMPP）：Instant Messaging and Presence」、RFC 6121、2011年3月、&lt;http://www.rfc-editor.org/info/rfc6121&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6202] Loreto, S., Saint-Andre, P., Salsano, S., and G. Wilkins, &#34;Known Issues and Best Practices for the Use of Long Polling and Streaming in Bidirectional HTTP&#34;, RFC 6202, April 2011, &lt;http://www.rfc-editor.org/info/rfc6202&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6202] Loreto、S.、Saint-Andre、P.、Salsano、S。、およびG. Wilkins、「双方向HTTPでのロングポーリングとストリーミングの使用に関する既知の問題とベストプラクティス」、RFC 6202、2011年4月、 &lt;http://www.rfc-editor.org/info/rfc6202&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6454] Barth, A., &#34;The Web Origin Concept&#34;, RFC 6454, December 2011, &lt;http://www.rfc-editor.org/info/rfc6454&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6454] Barth、A。、「The Web Origin Concept」、RFC 6454、2011年12月、&lt;http://www.rfc-editor.org/info/rfc6454&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0124] Paterson, I., Smith, D., Saint-Andre, P., Moffitt, J., Stout, L., and W. Tilanus, &#34;Bidirectional-streams Over Synchronous HTTP (BOSH)&#34;, XSF XEP 0124, April 2014.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0124] Paterson、I.、Smith、D.、Saint-Andre、P.、Moffitt、J.、Stout、L。、およびW. Tilanus、「Bidirectional-streams Over Synchronous HTTP（BOSH）」、XSF XEP 0124、2014年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0156] Hildebrand, J., Saint-Andre, P., and L. Stout, &#34;Discovering Alternative XMPP Connection Methods&#34;, XSF XEP 0156, January 2014.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0156] Hildebrand、J.、Saint-Andre、P。、およびL. Stout、「Discovering Alternative XMPP Connection Methods」、XSF XEP 0156、2014年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0198] Karneges, J., Saint-Andre, P., Hildebrand, J., Forno, F., Cridland, D., and M. Wild, &#34;Stream Management&#34;, XSF XEP 0198, June 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0198] Karneges、J.、Saint-Andre、P.、Hildebrand、J.、Forno、F.、Cridland、D。、およびM. Wild、「ストリーム管理」、XSF XEP 0198、2011年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0199] Saint-Andre, P., &#34;XMPP Ping&#34;, XSF XEP 0199, June 2009.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0199] Saint-Andre、P。、「XMPP Ping」、XSF XEP 0199、2009年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0206] Paterson, I., Saint-Andre, P., Stout, L., and W. Tilanus, &#34;XMPP Over BOSH&#34;, XSF XEP 0206, April 2014.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0206] Paterson、I.、Saint-Andre、P.、Stout、L。、およびW. Tilanus、「XMPP Over BOSH」、XSF XEP 0206、2014年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XML-SCHEMA] Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &#34;XML Schema Part 1: Structures Second Edition&#34;, World Wide Web Consortium Recommendation REC-xmlschema-1-20041028, October 2004, &lt;http://www.w3.org/TR/2004/REC-xmlschema-1-20041028&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XML-SCHEMA] Thompson、H.、Beech、D.、Maloney、M。、およびN. Mendelsohn、「XML Schema Part 1：Structures Second Edition」、World Wide Web Consortium Recommendation REC-xmlschema-1-20041028、10月2004、&lt;http://www.w3.org/TR/2004/REC-xmlschema-1-20041028&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="Appendix-A--XML-Schema">
Appendix A. XML Schema
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A. XMLスキーマ
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following schema formally defines the &#39;urn:ietf:params:xml:ns:xmpp-framing&#39; namespace used in this document, in conformance with W3C XML Schema [XML-SCHEMA]. Because validation of XML streams and stanzas is optional, this schema is not normative and is provided for descriptive purposes only.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のスキーマは、このドキュメントで使用されている「urn：ietf：params：xml：ns：xmpp-framing」名前空間を、W3C XMLスキーマ[XML-SCHEMA]に準拠して正式に定義しています。 XMLストリームとスタンザの検証はオプションであるため、このスキーマは規範的ではなく、説明目的でのみ提供されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;xs:schema
       xmlns:xs=&#39;http://www.w3.org/2001/XMLSchema&#39;
       targetNamespace=&#39;urn:ietf:params:xml:ns:xmpp-framing&#39;
       xmlns=&#39;urn:ietf:params:xml:ns:xmpp-framing&#39;
       elementFormDefault=&#39;unqualified&#39;&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
     &lt;xs:element name=&#39;open&#39;&gt;
       &lt;xs:complexType&gt;
         &lt;xs:simpleContent&gt;
           &lt;xs:extension base=&#39;empty&#39;&gt;
             &lt;xs:attribute name=&#39;from&#39; type=&#39;xs:string&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;id&#39; type=&#39;xs:string&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;to&#39; type=&#39;xs:string&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;version&#39; type=&#39;xs:decimal&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute ref=&#39;xml:lang&#39;
                           use=&#39;optional&#39;/&gt;
           &lt;/xs:extension&gt;
         &lt;/xs:simpleContent&gt;
       &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
     &lt;xs:element name=&#39;close&#39;&gt;
       &lt;xs:complexType&gt;
         &lt;xs:simpleContent&gt;
           &lt;xs:extension base=&#39;empty&#39;&gt;
             &lt;xs:attribute name=&#39;from&#39; type=&#39;xs:string&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;id&#39; type=&#39;xs:string&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;see-other-uri&#39; type=&#39;xs:anyURI&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;to&#39; type=&#39;xs:string&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute name=&#39;version&#39; type=&#39;xs:decimal&#39;
                           use=&#39;optional&#39;/&gt;
             &lt;xs:attribute ref=&#39;xml:lang&#39;
                           use=&#39;optional&#39;/&gt;
           &lt;/xs:extension&gt;
         &lt;/xs:simpleContent&gt;
       &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
     &lt;xs:simpleType name=&#39;empty&#39;&gt;
       &lt;xs:restriction base=&#39;xs:string&#39;&gt;
         &lt;xs:enumeration value=&#39;&#39;/&gt;
       &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;/xs:schema&gt;
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors wish to thank the following individuals for their feedback: Andreas Guth, Bjoern Hoerhmann, Dave Cridland, Florian Zeitz, Kurt Zeilenga, Matt Miller, Matthew Wild, Paul Aurich, Sergey Dobrov, and Waqas Hussain.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者は、フィードバックについて次の個人に感謝したいと思います：Andreas Guth、Bjoern Hoerhmann、Dave Cridland、Florian Zeitz、Kurt Zeilenga、Matt Miller、Matthew Wild、Paul Aurich、Sergey Dobrov、およびWaqas Hussain。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Dan Romascanu reviewed the document on behalf of the General Area Review Team.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Dan Romascanuは、General Area Review Teamに代わってドキュメントをレビューしました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
During IESG review, Barry Leiba, Benoit Claise, Dan Romascanu, Jari Arkko, Juergen Schoenwaelder, Spencer Dawkins, Stephen Farrell, Ted Lemon, Kathleen Moriarty, and Pete Resnick caught several issues that needed to be addressed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IESGのレビュー中に、バリーレイバ、ブノワクレイズ、ダンローマスカヌ、ヤリアルコ、ユルゲンシェーンヴェルダー、スペンサードーキンス、スティーブンファレル、テッドレモン、キャスリーンモリアーティ、およびピートレズニックは、対処する必要があるいくつかの問題を見つけました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors gratefully acknowledge the assistance of Peter Saint-Andre as document shepherd, Ben Campbell and Joe Hildebrand as the working group chairs, and Richard Barnes as the sponsoring Area Director.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者は、ピーターセントアンドレ氏の支援をドキュメントシェパードとして、ベンキャンベル氏とジョーヒルデブランドをワーキンググループチェアとして、リチャードバーンズ氏がスポンサーエリアディレクターを務めたことに感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Lance Stout (editor) &amp;yet
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ランス・スタウト（編集者）＆まだ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: lance@andyet.net
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Jack Moffitt Mozilla
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ジャック・モフィット・モジラ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: jack@metajack.im
        </pre>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Eric Cestari cstar industries
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エリックセスタリcstar Industries
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: eric@cstar.io
        </pre>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
