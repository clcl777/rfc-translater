{
  "title": {
    "text": "RFC 9396 - OAuth 2.0 Rich Authorization Requests",
    "ja": "RFC 9396 - OAUTH 2.0リッチ承認リクエスト"
  },
  "number": 9396,
  "created_at": "2024-03-11 07:51:52.911967+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                    T. Lodderstedt\nRequest for Comments: 9396                                       yes.com\nCategory: Standards Track                                      J. Richer\nISSN: 2070-1721                                      Bespoke Engineering\n                                                             B. Campbell\n                                                           Ping Identity\n                                                                May 2023",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 17,
      "text": "OAuth 2.0 Rich Authorization Requests",
      "title": true,
      "section_title": true,
      "ja": "OAUTH 2.0リッチ承認リクエスト"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "section_title": true,
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "This document specifies a new parameter authorization_details that is used to carry fine-grained authorization data in OAuth messages.",
      "ja": "このドキュメントは、OAuthメッセージにきめ細かい承認データを伝達するために使用される新しいパラメーターAuthorization_Detailsを指定します。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "section_title": true,
      "ja": "本文書の位置付け"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "ja": "これは、インターネット標準トラックドキュメントです。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.",
      "ja": "このドキュメントは、インターネットエンジニアリングタスクフォース（IETF）の製品です。IETFコミュニティのコンセンサスを表しています。公開レビューを受けており、インターネットエンジニアリングステアリンググループ（IESG）からの出版が承認されています。インターネット標準の詳細については、RFC 7841のセクション2で入手できます。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc9396.",
      "ja": "このドキュメントの現在のステータス、任意のERRATA、およびそのフィードバックを提供する方法に関する情報は、https：//www.rfc-editor.org/info/rfc9396で取得できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "section_title": true,
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2023 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "著作権（c）2023 IETF Trustおよび文書著者として特定された人。無断転載を禁じます。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Revised BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Revised BSD License.",
      "ja": "このドキュメントは、BCP 78およびIETFドキュメント（https://trustee.ietf.org/license-info）に関連するIETF Trustの法的規定の対象となります。この文書に関するあなたの権利と制限を説明するので、これらの文書を注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、セクション4.Eで説明されている法的規定のセクション4.Eで説明されており、改訂されたBSDライセンスで説明されている保証なしで提供されるように、改訂されたBSDライセンステキストを含める必要があります。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "section_title": true,
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1.  Introduction\n  1.1.  Conventions and Terminology\n2.  Request Parameter \"authorization_details\"\n  2.1.  Authorization Details Types\n  2.2.  Common Data Fields\n3.  Authorization Request\n  3.1.  Relationship to the \"scope\" Parameter\n  3.2.  Relationship to the \"resource\" Parameter\n4.  Authorization Response\n5.  Authorization Error Response\n6.  Token Request\n  6.1.  Comparing Authorization Details\n7.  Token Response\n  7.1.  Enriched Authorization Details in Token Response\n8.  Token Error Response\n9.  Resource Servers\n  9.1.  JWT-Based Access Tokens\n  9.2.  Token Introspection\n10. Metadata\n11. Implementation Considerations\n  11.1.  Using Authorization Details in a Certain Deployment\n  11.2.  Minimal Implementation Support\n  11.3.  Use of Machine-Readable Type Schemas\n  11.4.  Large Requests\n12. Security Considerations\n13. Privacy Considerations\n14. IANA Considerations\n  14.1.  OAuth Parameters Registration\n  14.2.  JSON Web Token Claims Registration\n  14.3.  OAuth Token Introspection Response Registration\n  14.4.  OAuth Authorization Server Metadata Registration\n  14.5.  OAuth Dynamic Client Registration Metadata Registration\n  14.6.  OAuth Extensions Error Registration\n15. References\n  15.1.  Normative References\n  15.2.  Informative References\nAppendix A.  Additional Examples\n  A.1.  OpenID Connect\n  A.2.  Remote Electronic Signing\n  A.3.  Access to Tax Data\n  A.4.  eHealth\nAcknowledgements\nAuthors' Addresses",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "\"The OAuth 2.0 Authorization Framework\" [RFC6749] defines the scope parameter that allows OAuth clients to specify the requested scope, i.e., the limited capability, of an access token. This mechanism is sufficient to implement static scenarios and coarse-grained authorization requests, such as \"give me read access to the resource owner's profile.\" However, it is not sufficient to specify fine-grained authorization requirements, such as \"please let me transfer an amount of 45 Euros to Merchant A\" or \"please give me read access to directory A and write access to file X.\"",
      "ja": "「OAuth 2.0 Authorization Framework」[RFC6749]は、OAUTHクライアントが要求されたスコープ、つまりアクセストークンの限られた機能を指定できるようにするスコープパラメーターを定義します。このメカニズムは、「リソース所有者のプロファイルへのアクセスを読む」など、静的シナリオと粗粒化承認要求を実装するのに十分です。ただし、「45ユーロの金額を商人に転送させてください」または「ディレクトリAへのアクセスを読み取り、ファイルXへの書き込みアクセスを確認してください」など、きめ細かい承認要件を指定するだけでは十分ではありません。"
    },
    {
      "indent": 3,
      "text": "This specification introduces a new parameter authorization_details that allows clients to specify their fine-grained authorization requirements using the expressiveness of JSON [RFC8259] data structures.",
      "ja": "この仕様では、JSON [RFC8259]データ構造の表現力を使用して、クライアントが微調整された承認要件を指定できる新しいパラメーターAuthorization_Detailsを導入します。"
    },
    {
      "indent": 3,
      "text": "For example, an authorization request for a credit transfer (designated as \"payment initiation\" in several open banking initiatives) can be represented using a JSON object like this:",
      "ja": "たとえば、このようなJSONオブジェクトを使用して、クレジット転送の承認要求（いくつかのオープンバンキングイニシアチブで「支払い開始」として指定）を表現できます。"
    },
    {
      "indent": 3,
      "text": "{\n   \"type\": \"payment_initiation\",\n   \"locations\": [\n      \"https://example.com/payments\"\n   ],\n   \"instructedAmount\": {\n      \"currency\": \"EUR\",\n      \"amount\": \"123.50\"\n   },\n   \"creditorName\": \"Merchant A\",\n   \"creditorAccount\": {\n      \"bic\":\"ABCIDEFFXXX\",\n      \"iban\": \"DE02100100109307118603\"\n   },\n   \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Figure 1: Example of an Authorization Request for a Credit Transfer",
      "ja": "図1：信用譲渡の承認要求の例"
    },
    {
      "indent": 3,
      "text": "This object contains detailed information about the intended payment, such as amount, currency, and creditor, that is required to inform the user and obtain their consent. The authorization server (AS) and the respective resource server (RS) (providing the payment initiation API) will together enforce this consent.",
      "ja": "このオブジェクトには、ユーザーに通知して同意を得るために必要な金額、通貨、債権者など、意図した支払いに関する詳細情報が含まれています。Authorization Server（AS）およびそれぞれのリソースサーバー（RS）（支払い開始APIの提供）は、この同意を実施します。"
    },
    {
      "indent": 3,
      "text": "For a comprehensive discussion of the challenges arising from new use cases in the open banking and electronic signing spaces, see [Transaction-Auth].",
      "ja": "オープンバンキングおよび電子署名スペースの新しいユースケースから生じる課題に関する包括的な議論については、[Transaction-Auth]を参照してください。"
    },
    {
      "indent": 3,
      "text": "In addition to facilitating custom authorization requests, this specification also introduces a set of common data type fields for use across different APIs.",
      "ja": "カスタム認証リクエストの促進に加えて、この仕様では、異なるAPIで使用するための共通データ型フィールドのセットも導入されます。"
    },
    {
      "indent": 0,
      "text": "1.1. Conventions and Terminology",
      "section_title": true,
      "ja": "1.1. 慣習と用語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all capitals, as shown here.",
      "ja": "この文書のキーワード \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", および \"OPTIONAL\" はBCP 14 [RFC2119] [RFC8174]で説明されているように、すべて大文字の場合にのみ解釈されます。"
    },
    {
      "indent": 3,
      "text": "This specification uses the terms \"access token\", \"refresh token\", \"authorization server\" (AS), \"resource server\" (RS), \"authorization endpoint\", \"authorization request\", \"authorization response\", \"token endpoint\", \"grant type\", \"access token request\", \"access token response\", and \"client\" defined by \"The OAuth 2.0 Authorization Framework\" [RFC6749].",
      "ja": "この仕様では、「アクセストークン」、「リフレッシュトークン」、「認証サーバー」（AS）、「Resource Server」（RS）、「Authorization EndPoint」、「Authorization Request」、「Authorization Response」、「Token Endpoint」という用語を使用します。、「グラントタイプ」、「アクセストークンリクエスト」、「アクセストークン応答」、および「OAUTH 2.0認証フレームワーク」[RFC6749]で定義された「クライアント」。"
    },
    {
      "indent": 0,
      "text": "2. Request Parameter \"authorization_details\"",
      "section_title": true,
      "ja": "2. リクエストパラメーター「Authorization_Details」"
    },
    {
      "indent": 3,
      "text": "The request parameter authorization_details contains, in JSON notation, an array of objects. Each JSON object contains the data to specify the authorization requirements for a certain type of resource. The type of resource or access requirement is determined by the type field, which is defined as follows:",
      "ja": "要求パラメーターauthorization_detailsには、JSON表記にはオブジェクトの配列が含まれています。各JSONオブジェクトには、特定のタイプのリソースの承認要件を指定するデータが含まれています。リソースまたはアクセス要件のタイプは、次のように定義されているタイプフィールドによって決定されます。"
    },
    {
      "indent": 3,
      "text": "type:",
      "ja": "タイプ："
    },
    {
      "indent": 12,
      "text": "An identifier for the authorization details type as a string. The value of the type field determines the allowable contents of the object that contains it. The value is unique for the described API in the context of the AS. This field is REQUIRED.",
      "ja": "承認の詳細の識別子は、文字列としてタイプします。タイプフィールドの値は、それを含むオブジェクトの許容コンテンツを決定します。この値は、ASのコンテキストで説明されているAPIにとって一意です。この項目は必須です。"
    },
    {
      "indent": 3,
      "text": "An authorization_details array MAY contain multiple entries of the same type.",
      "ja": "Authorization_Details配列には、同じタイプの複数のエントリが含まれる場合があります。"
    },
    {
      "indent": 3,
      "text": "Figure 2 shows an authorization_details of type payment_initiation using the example data shown above:",
      "ja": "図2は、上記の例のデータを使用して、type payment_initiationのauthorization_detailsを示しています。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"payment_initiation\",\n      \"actions\": [\n         \"initiate\",\n         \"status\",\n         \"cancel\"\n      ],\n      \"locations\": [\n         \"https://example.com/payments\"\n      ],\n      \"instructedAmount\": {\n         \"currency\": \"EUR\",\n         \"amount\": \"123.50\"\n      },\n      \"creditorName\": \"Merchant A\",\n      \"creditorAccount\": {\n         \"iban\": \"DE02100100109307118603\"\n      },\n      \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 5,
      "text": "Figure 2: Example of \"authorization_details\" for a Credit Transfer",
      "ja": "図2：クレジット転送のための「Authorization_Details」の例"
    },
    {
      "indent": 3,
      "text": "Figure 3 shows a combined request asking for access to account information and permission to initiate a payment:",
      "ja": "図3は、アカウント情報へのアクセスと支払いを開始する許可を求める結合リクエストを示しています。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"account_information\",\n      \"actions\": [\n         \"list_accounts\",\n         \"read_balances\",\n         \"read_transactions\"\n      ],\n      \"locations\": [\n         \"https://example.com/accounts\"\n      ]\n   },\n   {\n      \"type\": \"payment_initiation\",\n      \"actions\": [\n         \"initiate\",\n         \"status\",\n         \"cancel\"\n      ],\n      \"locations\": [\n         \"https://example.com/payments\"\n      ],\n      \"instructedAmount\": {\n         \"currency\": \"EUR\",\n         \"amount\": \"123.50\"\n      },\n      \"creditorName\": \"Merchant A\",\n      \"creditorAccount\": {\n         \"iban\": \"DE02100100109307118603\"\n      },\n      \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Figure 3: Example of \"authorization_details\" for a Combined Request",
      "ja": "図3：合計リクエストの「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "The JSON objects with type fields of account_information and payment_initiation represent the different authorization_details to be used by the AS to ask for consent.",
      "ja": "Account_informationとPayment_initiationのタイプフィールドを持つJSONオブジェクトは、同意を求めるために使用されるさまざまなAuthorization_Detailsを表します。"
    },
    {
      "indent": 12,
      "text": "Note: The AS will make this data subsequently available to the respective RSs (see Section 9).",
      "ja": "注：ASは、このデータをその後それぞれのRSSで利用できるようにします（セクション9を参照）。"
    },
    {
      "indent": 0,
      "text": "2.1. Authorization Details Types",
      "section_title": true,
      "ja": "2.1. 承認の詳細タイプ"
    },
    {
      "indent": 3,
      "text": "The AS controls the interpretation of the value of the type parameter as well as the object fields that the type parameter allows. However, the value of the type parameter is also generally documented and intended to be used by developers. It is RECOMMENDED that API designers choose type values that are easily copied without ambiguity. For example, some glyphs have multiple Unicode code points for the same visual character, and a developer could potentially type a different character than what the AS has defined. Possible means of reducing potential confusion are limiting the value to ASCII [RFC0020] characters, providing a machine-readable listing of data type values, or instructing developers to copy and paste directly from the documentation.",
      "ja": "asは、型パラメーターの値と型パラメーターが許可するオブジェクトフィールドの解釈を制御します。ただし、タイプパラメーターの値も一般に文書化され、開発者が使用することを目的としています。APIデザイナーは、あいまいさなく簡単にコピーされるタイプの値を選択することをお勧めします。たとえば、一部のグリフには同じ視覚文字の複数のユニコードコードポイントがあり、開発者はASが定義したものとは異なる文字を入力する可能性があります。潜在的な混乱を減らす可能性のある手段は、値をASCII [RFC0020]文字に制限し、データ型値の機械読み取り可能なリストを提供するか、開発者にドキュメントから直接コピーして貼り付けるように指示することです。"
    },
    {
      "indent": 3,
      "text": "If an application or API is expected to be deployed across different servers, such as the case in an open standard, the API designer is RECOMMENDED to use a collision-resistant namespace under their control, such as a URI that the API designer controls.",
      "ja": "アプリケーションまたはAPIがオープン標準のケースなど、さまざまなサーバーに展開されると予想される場合、APIデザイナーは、APIデザイナーが制御するURIなど、制御下にある衝突耐性の名前空間を使用することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "The following example shows how an implementation could utilize the namespace https://scheme.example.org/ to ensure collision-resistant type values.",
      "ja": "次の例は、実装が名前空間https://scheme.example.org/をどのように利用して衝突耐性の型値を確保できるかを示しています。"
    },
    {
      "indent": 3,
      "text": "{\n   \"type\": \"https://scheme.example.org/files\",\n   \"locations\": [\n      \"https://example.com/files\"\n   ],\n   \"permissions\": [\n      {\n         \"path\": \"/myfiles/A\",\n         \"access\": [\n            \"read\"\n         ]\n      },\n      {\n         \"path\": \"/myfiles/A/X\",\n         \"access\": [\n            \"read\",\n            \"write\"\n         ]\n      }\n   ]\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Figure 4: Example of \"authorization_details\" with a URL as Type Identifier",
      "ja": "図4：型識別子としてURLを使用した「authorization_details」の例"
    },
    {
      "indent": 0,
      "text": "2.2. Common Data Fields",
      "section_title": true,
      "ja": "2.2. 一般的なデータフィールド"
    },
    {
      "indent": 3,
      "text": "This specification defines a set of common data fields that are designed to be usable across different types of APIs. This specification does not require the use of these common fields by an API definition but, instead, provides them as reusable generic components for API designers to make use of. The allowable values of all fields are determined by the API being protected, as defined by a particular \"type\" value.",
      "ja": "この仕様は、さまざまなタイプのAPIで使用できるように設計された共通データフィールドのセットを定義します。この仕様では、API定義でこれらの一般的なフィールドを使用する必要はありませんが、代わりに、APIデザイナーが使用するための再利用可能なジェネリックコンポーネントとして提供されます。すべてのフィールドの許容値は、特定の「タイプ」値で定義されるように、保護されているAPIによって決定されます。"
    },
    {
      "indent": 3,
      "text": "locations:",
      "ja": "場所："
    },
    {
      "indent": 12,
      "text": "An array of strings representing the location of the resource or RS. These strings are typically URIs identifying the location of the RS. This field can allow a client to specify a particular RS, as discussed in Section 12.",
      "ja": "リソースまたはRsの場所を表す文字列の配列。これらの文字列は通常、Rsの位置を識別しています。このフィールドは、セクション12で説明したように、クライアントが特定のRSを指定できるようにすることができます。"
    },
    {
      "indent": 3,
      "text": "actions:",
      "ja": "行動："
    },
    {
      "indent": 12,
      "text": "An array of strings representing the kinds of actions to be taken at the resource.",
      "ja": "リソースで実行されるアクションの種類を表す文字列の配列。"
    },
    {
      "indent": 3,
      "text": "datatypes:",
      "ja": "データタイプ："
    },
    {
      "indent": 12,
      "text": "An array of strings representing the kinds of data being requested from the resource.",
      "ja": "リソースから要求されるデータの種類を表す文字列の配列。"
    },
    {
      "indent": 3,
      "text": "identifier:",
      "ja": "識別子："
    },
    {
      "indent": 12,
      "text": "A string identifier indicating a specific resource available at the API.",
      "ja": "APIで利用可能な特定のリソースを示す文字列識別子。"
    },
    {
      "indent": 3,
      "text": "privileges:",
      "ja": "特権："
    },
    {
      "indent": 12,
      "text": "An array of strings representing the types or levels of privilege being requested at the resource.",
      "ja": "リソースで要求される特権の種類またはレベルを表す文字列の配列。"
    },
    {
      "indent": 3,
      "text": "When different common data fields are used in combination, the permissions the client requests are the product of all the values. The object represents a request for all actions values listed within the object to be used at all locations values listed within the object for all datatypes values listed within the object. In the following example, the client is requesting read and write access to both the contacts and photos belonging to customers in a customer_information API. If this request is granted, the client would assume it would be able to use any combination of rights defined by the API, such as read access to the photos and write access to the contacts.",
      "ja": "異なる一般的なデータフィールドが組み合わせて使用される場合、クライアント要求が要求する権限はすべての値の積です。オブジェクトは、オブジェクト内にリストされているすべてのデータ型値に対してオブジェクト内にリストされているすべての場所で使用されるオブジェクト内にリストされているすべてのアクション値のリクエストを表します。次の例では、クライアントは、customer_information APIの顧客に属する連絡先と写真の両方への読み取りおよび書き込みアクセスを要求しています。このリクエストが許可された場合、クライアントは、写真への読み取りアクセスや連絡先への書き込みアクセスなど、APIで定義された権利の任意の組み合わせを使用できると想定します。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"customer_information\",\n      \"locations\": [\n         \"https://example.com/customers\"\n      ],\n      \"actions\": [\n         \"read\",\n         \"write\"\n      ],\n      \"datatypes\": [\n         \"contacts\",\n         \"photos\"\n      ]\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Figure 5: Example of \"authorization_details\" with Common Data Fields",
      "ja": "図5：一般的なデータフィールドを使用した「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "If the client wishes to have finer control over its access, it can send multiple objects. In this example, the client is asking for read access to the contacts and write access to the photos in the same API endpoint. If this request is granted, the client would not be able to write to the contacts.",
      "ja": "クライアントがアクセスをより細かく制御したい場合、複数のオブジェクトを送信できます。この例では、クライアントは連絡先への読み取りアクセスを求めており、同じAPIエンドポイントの写真へのアクセスを書き込みます。このリクエストが許可された場合、クライアントは連絡先に書き込むことができません。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"customer_information\",\n      \"locations\": [\n         \"https://example.com/customers\"\n      ],\n      \"actions\": [\n         \"read\"\n      ],\n      \"datatypes\": [\n         \"contacts\"\n      ]\n   },\n   {\n      \"type\": \"customer_information\",\n      \"locations\": [\n         \"https://example.com/customers\"\n      ],\n      \"actions\": [\n         \"write\"\n      ],\n      \"datatypes\": [\n         \"photos\"\n      ]\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 7,
      "text": "Figure 6: Example of \"authorization_details\" with Common Data Fields in Multiple Objects",
      "ja": "図6：複数のオブジェクトの一般的なデータフィールドを使用した「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "An API MAY define its own extensions, subject to the type of the respective authorization object. It is anticipated that API designers will use a combination of common data fields defined in this specification as well as fields specific to the API itself. The following non-normative example shows the use of both common and API-specific fields as part of two different fictitious API type values. The first access request includes the actions, locations, and datatypes fields specified here as well as the API-specific geolocation field, indicating access to photos taken at the given coordinates. The second access request includes the actions and identifier fields specified here as well as the API-specific currency fields.",
      "ja": "APIは、それぞれの承認オブジェクトのタイプを条件として、独自の拡張機能を定義できます。APIデザイナーは、この仕様で定義された共通のデータフィールドと、API自体に固有のフィールドの組み合わせを使用することが予想されます。次の非規範的な例は、2つの異なる架空のAPIタイプ値の一部として、一般的なフィールドとAPI固有のフィールドの両方の使用を示しています。最初のアクセス要求には、ここで指定されたアクション、場所、およびデータ型フィールドと、特定の座標で撮影した写真へのアクセスを示すAPI固有のジオロケーションフィールドが含まれます。2番目のアクセス要求には、ここで指定されたアクションと識別子フィールド、およびAPI固有の通貨フィールドが含まれます。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\":\"photo-api\",\n      \"actions\":[\n         \"read\",\n         \"write\"\n      ],\n      \"locations\":[\n         \"https://server.example.net/\",\n         \"https://resource.local/other\"\n      ],\n      \"datatypes\":[\n         \"metadata\",\n         \"images\"\n      ],\n      \"geolocation\":[\n         {\n            \"lat\":-32.364,\n            \"lng\":153.207\n         },\n         {\n            \"lat\":-35.364,\n            \"lng\":158.207\n         }\n      ]\n   },\n   {\n      \"type\":\"financial-transaction\",\n      \"actions\":[\n         \"withdraw\"\n      ],\n      \"identifier\":\"account-14-32-32-3\",\n      \"currency\":\"USD\"\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 7,
      "text": "Figure 7: Example of \"authorization_details\" Using Common and Extension Data Fields",
      "ja": "図7：一般的なデータフィールドと拡張データフィールドを使用した「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "If this request is approved, the resulting access token's access rights will be the union of the requested types of access for each of the two APIs, just as above.",
      "ja": "このリクエストが承認された場合、結果のアクセストークンのアクセス権は、上記のように、2つのAPIのそれぞれの要求されたタイプのアクセスの連合となります。"
    },
    {
      "indent": 0,
      "text": "3. Authorization Request",
      "section_title": true,
      "ja": "3. 承認リクエスト"
    },
    {
      "indent": 3,
      "text": "The authorization_details authorization request parameter can be used to specify authorization requirements in all places where the scope parameter is used for the same purpose, examples include:",
      "ja": "authorization_details承認要求パラメーターを使用して、スコープパラメーターが同じ目的で使用されるすべての場所で承認要件を指定できます。例には次のものが含まれます。"
    },
    {
      "indent": 6,
      "text": "* authorization requests as specified in [RFC6749]",
      "ja": "* [RFC6749]で指定されている認定要求"
    },
    {
      "indent": 6,
      "text": "* device authorization requests as specified in [RFC8628]",
      "ja": "* [RFC8628]で指定されているデバイス認証リクエスト"
    },
    {
      "indent": 6,
      "text": "* backchannel authentication requests as defined in [OID-CIBA]",
      "ja": "* [oid-ciba]で定義されているバックチャネル認証要求"
    },
    {
      "indent": 3,
      "text": "In case of authorization requests as defined in [RFC6749], implementers MAY consider using pushed authorization requests [RFC9126] to improve the security, privacy, and reliability of the flow. See Sections 12, 13, and 11.4 for details.",
      "ja": "[RFC6749]で定義されている承認要求の場合、実装者は、フローのセキュリティ、プライバシー、および信頼性を改善するために、プッシュされた承認要求[RFC9126]を使用することを検討することができます。詳細については、セクション12、13、および11.4を参照してください。"
    },
    {
      "indent": 3,
      "text": "Parameter encoding is determined by the respective context. In the context of an authorization request according to [RFC6749], the parameter is encoded using the application/x-www-form-urlencoded format of the serialized JSON as shown in Figure 8, using the example from Section 2 (line breaks for display purposes only):",
      "ja": "パラメーターエンコーディングは、それぞれのコンテキストによって決定されます。[RFC6749]に従って許可リクエストのコンテキストでは、パラメーターは、図8に示すように、シリアル化されたJSONのアプリケーション/X-WWW-Form-Urlencoded形式を使用してエンコードされます。目的のみ）："
    },
    {
      "indent": 3,
      "text": "GET /authorize?response_type=code\n   &client_id=s6BhdRkqt3\n   &state=af0ifjsldkj\n   &redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb\n   &code_challenge_method=S256\n   &code_challenge=K2-ltc83acc4h0c9w6ESC_rEMTJ3bwc-uCHaoeK1t8U\n   &authorization_details=%5B%7B%22type%22%3A%22account%5Finfo\n   rmation%22%2C%22actions%22%3A%5B%22list%5Faccounts%22%2C%22\n   read%5Fbalances%22%2C%22read%5Ftransactions%22%5D%2C%22loca\n   tions%22%3A%5B%22https%3A%2F%2Fexample%2Ecom%2Faccounts%22%\n   5D%7D%2C%7B%22type%22%3A%22payment%5Finitiation%22%2C%22act\n   ions%22%3A%5B%22initiate%22%2C%22status%22%2C%22cancel%22%5\n   D%2C%22locations%22%3A%5B%22https%3A%2F%2Fexample%2Ecom%2Fp\n   ayments%22%5D%2C%22instructedAmount%22%3A%7B%22currency%22%\n   3A%22EUR%22%2C%22amount%22%3A%22123%2E50%22%7D%2C%22credito\n   rName%22%3A%22Merchant%20A%22%2C%22creditorAccount%22%3A%7B\n   %22iban%22%3A%22DE02100100109307118603%22%7D%2C%22remittanc\n   eInformationUnstructured%22%3A%22Ref%20Number%20Merchant%22\n   %7D%5D HTTP/1.1\nHost: server.example.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 14,
      "text": "Figure 8: Example of Authorization Request with \"authorization_details\"",
      "ja": "図8：「authorization_details」を使用した承認要求の例"
    },
    {
      "indent": 3,
      "text": "Based on the data provided in the authorization_details parameter, the AS will ask the user for consent to the requested access permissions.",
      "ja": "Authorization_Detailsパラメーターで提供されるデータに基づいて、ASは、要求されたアクセス許可に同意を求めるようになります。"
    },
    {
      "indent": 12,
      "text": "Note: The user may also grant a subset of the requested authorization details.",
      "ja": "注：ユーザーは、要求された承認の詳細のサブセットを付与することもできます。"
    },
    {
      "indent": 3,
      "text": "In Figure 9, the client wants to get access to account information and initiate a payment:",
      "ja": "図9では、クライアントはアカウント情報にアクセスし、支払いを開始したいと考えています。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"account_information\",\n      \"actions\": [\n         \"list_accounts\",\n         \"read_balances\",\n         \"read_transactions\"\n      ],\n      \"locations\": [\n         \"https://example.com/accounts\"\n      ]\n   },\n   {\n      \"type\": \"payment_initiation\",\n      \"actions\": [\n         \"initiate\",\n         \"status\",\n         \"cancel\"\n      ],\n      \"locations\": [\n         \"https://example.com/payments\"\n      ],\n      \"instructedAmount\": {\n         \"currency\": \"EUR\",\n         \"amount\": \"123.50\"\n      },\n      \"creditorName\": \"Merchant A\",\n      \"creditorAccount\": {\n         \"iban\": \"DE02100100109307118603\"\n      },\n      \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 15,
      "text": "Figure 9: URL Decoded \"authorization_details\"",
      "ja": "図9：URLデコード「承認の詳細」"
    },
    {
      "indent": 0,
      "text": "3.1. Relationship to the \"scope\" Parameter",
      "section_title": true,
      "ja": "3.1. 「スコープ」パラメーターとの関係"
    },
    {
      "indent": 3,
      "text": "authorization_details and scope can be used in the same authorization request for carrying independent authorization requirements.",
      "ja": "Authorization_DetailsおよびScopeは、独立した承認要件を搭載するための同じ承認要求で使用できます。"
    },
    {
      "indent": 3,
      "text": "Combined use of authorization_details and scope is supported by this specification in part to allow existing OAuth-based applications to incrementally migrate towards using authorization_details exclusively. It is RECOMMENDED that a given API use only one form of requirement specification.",
      "ja": "Authorization_DetailsとScopeの使用の組み合わせは、既存のOAUTHベースのアプリケーションがAuthorization_Detailsのみの使用に向けて徐々に移行できるようにするために、この仕様によってサポートされています。特定のAPIは、要件仕様の1つの形式のみを使用することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "The AS MUST process both sets of requirements in combination with each other for the given authorization request. The details of how the AS combines these parameters are specific to the APIs being protected and outside the scope of this specification.",
      "ja": "ASは、指定された承認要求のために両方の要件を互いに組み合わせて処理する必要があります。これらのパラメーターがどのように組み合わされているかの詳細は、APIが保護されており、この仕様の範囲外であることに固有のものです。"
    },
    {
      "indent": 3,
      "text": "When gathering user consent, the AS MUST present the merged set of requirements represented by the authorization request.",
      "ja": "ユーザーの同意を収集するとき、ASは、承認要求に応じて表されるマージされた一連の要件を提示する必要があります。"
    },
    {
      "indent": 3,
      "text": "If the resource owner grants the client the requested access, the AS will issue tokens to the client that are associated with the respective authorization_details (and scope values, if applicable).",
      "ja": "リソース所有者がクライアントに要求されたアクセスを付与する場合、ASは、それぞれのAuthorization_Details（および該当する場合はスコープ値）に関連付けられているクライアントにトークンを発行します。"
    },
    {
      "indent": 0,
      "text": "3.2. Relationship to the \"resource\" Parameter",
      "section_title": true,
      "ja": "3.2. 「リソース」パラメーターとの関係"
    },
    {
      "indent": 3,
      "text": "The resource authorization request parameter, as defined in [RFC8707], can be used to further determine the resources where the requested scope can be applied. The resource parameter does not have any impact on the way the AS processes the authorization_details authorization request parameter.",
      "ja": "[RFC8707]で定義されているリソース認証要求パラメーターを使用して、要求されたスコープを適用できるリソースをさらに決定することができます。リソースパラメーターは、AS AS Authorization_Details承認要求パラメーターを処理する方法に影響を与えません。"
    },
    {
      "indent": 0,
      "text": "4. Authorization Response",
      "section_title": true,
      "ja": "4. 承認応答"
    },
    {
      "indent": 3,
      "text": "This specification does not define extensions to the authorization response.",
      "ja": "この仕様では、承認応答への拡張機能を定義しません。"
    },
    {
      "indent": 0,
      "text": "5. Authorization Error Response",
      "section_title": true,
      "ja": "5. 承認エラー応答"
    },
    {
      "indent": 3,
      "text": "The AS MUST refuse to process any unknown authorization details type or authorization details not conforming to the respective type definition. The AS MUST abort processing and respond with an error invalid_authorization_details to the client if any of the following are true of the objects in the authorization_details structure:",
      "ja": "ASは、それぞれのタイプ定義に準拠していない未知の承認の詳細タイプまたは承認の詳細を処理することを拒否しなければなりません。ASは処理を中止し、エラーINVALID_AUTHORIZATION_DETAILSで応答する必要があります。"
    },
    {
      "indent": 6,
      "text": "* contains an unknown authorization details type value,",
      "ja": "* 未知の承認の詳細タイプ値が含まれています、"
    },
    {
      "indent": 6,
      "text": "* is an object of known type but containing unknown fields,",
      "ja": "* 既知のタイプのオブジェクトですが、未知のフィールドが含まれています、"
    },
    {
      "indent": 6,
      "text": "* contains fields of the wrong type for the authorization details type,",
      "ja": "* 承認の詳細タイプのために間違ったタイプのフィールドが含まれています、"
    },
    {
      "indent": 6,
      "text": "* contains fields with invalid values for the authorization details type, or",
      "ja": "* 承認の詳細タイプの無効な値を持つフィールドが含まれます。"
    },
    {
      "indent": 6,
      "text": "* is missing required fields for the authorization details type.",
      "ja": "* 承認の詳細タイプに必要なフィールドがありません。"
    },
    {
      "indent": 0,
      "text": "6. Token Request",
      "section_title": true,
      "ja": "6. トークンリクエスト"
    },
    {
      "indent": 3,
      "text": "The authorization_details token request parameter can be used to specify the authorization details that a client wants the AS to assign to an access token. The AS checks whether the underlying grant (in case of grant types authorization_code, refresh_token, etc.) or the client's policy (in case of grant type client_credentials) allows the issuance of an access token with the requested authorization details. Otherwise, the AS refuses the request with the error code invalid_authorization_details (similar to invalid_scope).",
      "ja": "authorization_detailsトークン要求パラメーターを使用して、クライアントがアクセストークンに割り当てるために希望する承認の詳細を指定できます。ASは、基礎となる助成金（助成金タイプ承認_code、refresh_tokenなどの場合）またはクライアントのポリシー（助成金タイプの場合）が、要求された承認の詳細を使用してアクセストークンを発行できるかどうかを確認します。それ以外の場合、ASはエラーコードInvalid_authorization_details（Invalid_scopeに似ています）でリクエストを拒否します。"
    },
    {
      "indent": 0,
      "text": "6.1. Comparing Authorization Details",
      "section_title": true,
      "ja": "6.1. 承認の詳細を比較します"
    },
    {
      "indent": 3,
      "text": "Many actions in the OAuth protocol allow the AS and RS to make security decisions based on whether the request is asking for \"more\" or \"less\" than a previous, existing request. For example, upon refreshing a token, the client can ask for a new access token with \"fewer permissions\" than had been previously authorized by the resource owner. The requested access token will convey the reduced permissions, but the resource owner's previous authorization is unchanged by such requests. Since the semantics of the fields in the authorization_details will be implementation specific to a given API or set of APIs, there is no standardized mechanism to compare two arbitrary authorization detail requests. An AS should not rely on simple object comparison in most cases, as the intersection of some fields within a request could have side effects on the access rights granted, depending on how the API has been designed and deployed. This is a similar effect to the scope values used with some APIs.",
      "ja": "OAUTHプロトコルの多くのアクションにより、ASとRSは、リクエストが以前の既存のリクエストよりも「より多く」または「少ない」を求めているかどうかに基づいてセキュリティ決定を行うことができます。たとえば、トークンをリフレッシュすると、クライアントは、リソースの所有者によって以前に承認されていたよりも、「より少ないアクセス許可」を備えた新しいアクセストークンを要求できます。要求されたアクセストークンは、削減された許可を伝えますが、リソース所有者の以前の許可はそのような要求によって変更されません。Authorization_Detailsのフィールドのセマンティクスは、特定のAPIまたはAPIのセットに固有の実装であるため、2つの任意の承認の詳細リクエストを比較する標準化されたメカニズムはありません。ASは、APIの設計方法と展開方法に応じて、リクエスト内の一部のフィールドの交差点が付与されたアクセス権に副作用がある可能性があるため、ほとんどの場合、ほとんどの場合、単純なオブジェクトの比較に依存すべきではありません。これは、一部のAPIで使用されるスコープ値と同様の効果です。"
    },
    {
      "indent": 3,
      "text": "When comparing a new request to an existing request, an AS can use the same processing techniques as used in granting the request in the first place to determine if a resource owner needs to authorize the request. The details of this comparison are dependent on the definition of the type of authorization request and outside the scope of this specification, but common patterns can be applied.",
      "ja": "新しいリクエストを既存のリクエストと比較する場合、ASは最初にリクエストを許可する際に使用されるのと同じ処理手法を使用して、リソース所有者がリクエストを承認する必要があるかどうかを判断できます。この比較の詳細は、承認要求のタイプの定義とこの仕様の範囲外に依存しますが、一般的なパターンを適用できます。"
    },
    {
      "indent": 3,
      "text": "This shall be illustrated using our running example. The example authorization request in Section 3, if approved by the user, resulted in the issuance of an authorization code associated with the privileges to:",
      "ja": "これは、実行中の例を使用して説明するものとします。セクション3の承認要求の例は、ユーザーによって承認された場合、特権に関連付けられた承認コードの発行が次のとおりです。"
    },
    {
      "indent": 6,
      "text": "* list accounts,",
      "ja": "* リストアカウント、"
    },
    {
      "indent": 6,
      "text": "* access the balance of one or more accounts,",
      "ja": "* 1つ以上のアカウントの残高にアクセスし、"
    },
    {
      "indent": 6,
      "text": "* access the transactions of one or more accounts, and",
      "ja": "* 1つ以上のアカウントのトランザクションにアクセスし、"
    },
    {
      "indent": 6,
      "text": "* initiate, check the status of, and cancel a payment.",
      "ja": "* 開始、ステータスを確認し、支払いをキャンセルします。"
    },
    {
      "indent": 3,
      "text": "The client could now request the AS to issue an access token assigned with the privilege to just access a list of accounts as follows:",
      "ja": "クライアントは、次のように、アカウントのリストにアクセスするために特権に割り当てられたアクセストークンを発行するように要求することができます。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"account_information\",\n      \"actions\": [\n         \"list_accounts\"\n      ],\n      \"locations\": [\n         \"https://example.com/accounts\"\n      ]\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Figure 10: Example of \"authorization_details\" Reduced Privileges",
      "ja": "図10：「Authorization_Details」の例の削減特権"
    },
    {
      "indent": 3,
      "text": "The example API is designed such that each field used by the account_information type contains additive rights, with each value within the actions and locations arrays specifying a different element of access. To make a comparison in this instance, the AS would perform the following steps:",
      "ja": "例のAPIは、Account_Informationタイプで使用される各フィールドに追加権を含むように設計されており、各値はアクションの異なる要素を指定するアクションおよび場所配列内にあります。この例で比較するには、次の手順を実行するとおりです。"
    },
    {
      "indent": 6,
      "text": "* verify that the authorization code issued in the previous step contains an authorization details object of type account_information,",
      "ja": "* 前のステップで発行された承認コードには、タイプaccount_informationの承認詳細オブジェクトが含まれていることを確認します。"
    },
    {
      "indent": 6,
      "text": "* verify whether the approved list of actions contains list_accounts, and",
      "ja": "* 承認されたアクションのリストにlist_accountsが含まれているかどうかを確認し、"
    },
    {
      "indent": 6,
      "text": "* verify whether the locations value includes only previously approved locations.",
      "ja": "* 場所の値に以前に承認された場所のみが含まれているかどうかを確認します。"
    },
    {
      "indent": 3,
      "text": "If all checks succeed, the AS would issue the requested access token with the reduced set of access.",
      "ja": "すべてのチェックが成功した場合、ASは、アクセスのセットを減らして要求されたアクセストークンを発行します。"
    },
    {
      "indent": 3,
      "text": "Note that this comparison is relevant to this specific API type definition. A different API type definition could have different processing rules. For example, an actions value could subsume the rights associated with another actions value. For example, if a client initially asks for a token with write access, this implies both read and write access to this API:",
      "ja": "この比較は、この特定のAPIタイプ定義に関連していることに注意してください。異なるAPIタイプ定義には、処理ルールが異なる場合があります。たとえば、アクション値は、別のアクション値に関連する権利を覆す可能性があります。たとえば、クライアントが最初に書き込みアクセスを備えたトークンを要求する場合、これはこのAPIへの読み取りと書き込みアクセスの両方を意味します。"
    },
    {
      "indent": 3,
      "text": "[\n    {\n        \"type\": \"example_api\",\n        \"actions\": [\n            \"write\"\n        ]\n    }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Figure 11: Example of \"authorization_details\" Requesting \"write\" Access to an API",
      "ja": "図11：「authorization_details」の例「書き込み」アクセスをAPIに要求する"
    },
    {
      "indent": 3,
      "text": "Later, that same client makes a refresh request for read access:",
      "ja": "その後、その同じクライアントが読み取りアクセスのリフレッシュリクエストを行います："
    },
    {
      "indent": 3,
      "text": "[\n    {\n        \"type\": \"example_api\",\n        \"actions\": [\n            \"read\"\n        ]\n    }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Figure 12: Example of \"authorization_details\" Requesting \"read\" Access to an API",
      "ja": "図12：「authorization_details」の例は、「読み取り」アクセスをAPIに読み取ります"
    },
    {
      "indent": 3,
      "text": "The AS would compare the type value and the actions value to determine that the read access is already covered by the write access previously granted to the client.",
      "ja": "ASは、タイプ値とアクション値を比較して、読み取りアクセスが以前にクライアントに付与された書き込みアクセスによってすでにカバーされていると判断します。"
    },
    {
      "indent": 3,
      "text": "This same API could be designed with a possible value for privileges of admin, used in this example to denote that the resulting token is allowed to perform any of the functions on the resources. If that client is then granted such admin privileges to the API, the authorization_details would be as follows:",
      "ja": "この同じAPIは、この例で使用される管理者の特権に対して可能な価値で設計できます。この例では、結果のトークンがリソース上の機能のいずれかを実行できることを示します。そのクライアントがAPIにそのような管理権を付与された場合、authorization_detailsは次のとおりです。"
    },
    {
      "indent": 3,
      "text": "[\n    {\n        \"type\": \"example_api\",\n        \"privileges\": [\n            \"admin\"\n        ]\n    }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 5,
      "text": "Figure 13: Example of \"authorization_details\" with \"admin\" Access to an API",
      "ja": "図13：APIへの「管理者」アクセスを使用した「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "The AS would compare the type value and find that the privileges value subsumes any aspects of read or write access that had been granted to the client previously. Note that other API definitions can use privileges such that values do not subsume one another.",
      "ja": "タイプ値を比較し、特権値が以前にクライアントに付与されていた読み取りまたは書き込みアクセスの任意の側面を包含することを発見します。他のAPI定義では、値が互いに潜入しないように特権を使用できることに注意してください。"
    },
    {
      "indent": 3,
      "text": "The next example shows how the client can use the common data element locations (see Section 2.2) to request the issuance of an access token restricted to a certain RS. In our running example, the client may ask for all permissions of the approved grant of type payment_initiation applicable to the RS residing at https://example.com/payments as follows:",
      "ja": "次の例は、クライアントが共通のデータ要素の位置を使用して（セクション2.2を参照）、特定のRsに制限されたアクセストークンの発行を要求する方法を示しています。実行中の例では、クライアントは、次のようにhttps://example.com/paymentsに居住するRSに適用されるタイプ支払い_initiationの承認された助成金のすべての許可を求めることができます。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"payment_initiation\",\n      \"locations\": [\n         \"https://example.com/payments\"\n      ]\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 8,
      "text": "Figure 14: Example of \"authorization_details\" Requesting an Audience-Restricted Access Token",
      "ja": "図14：「authorization_details」の例は、視聴者制限アクセストークンを要求する"
    },
    {
      "indent": 0,
      "text": "7. Token Response",
      "section_title": true,
      "ja": "7. トークン応答"
    },
    {
      "indent": 3,
      "text": "In addition to the token response parameters as defined in [RFC6749], the AS MUST also return the authorization_details as granted by the resource owner and assigned to the respective access token.",
      "ja": "[RFC6749]で定義されているトークン応答パラメーターに加えて、ASはリソース所有者によって付与され、それぞれのアクセストークンに割り当てられたAuthorization_Detailsも返す必要があります。"
    },
    {
      "indent": 3,
      "text": "The authorization details assigned to the access token issued in a token response are determined by the authorization_details parameter of the corresponding token request. If the client does not specify the authorization_details token request parameters, the AS determines the resulting authorization_details at its discretion.",
      "ja": "トークン応答で発行されたアクセストークンに割り当てられた承認の詳細は、対応するトークン要求のauthorization_detailsパラメーターによって決定されます。クライアントがAuthorization_Detailsトークン要求パラメーターを指定していない場合、ASはその裁量で結果のAuthorization_Detailsを決定します。"
    },
    {
      "indent": 3,
      "text": "The AS MAY omit values in the authorization_details to the client.",
      "ja": "ASは、authorization_detailsの値をクライアントに省略します。"
    },
    {
      "indent": 3,
      "text": "For our running example, it would look like this:",
      "ja": "実行中の例では、次のようになります。"
    },
    {
      "indent": 3,
      "text": "HTTP/1.1 200 OK\nContent-Type: application/json\nCache-Control: no-store\n\n{\n   \"access_token\": \"2YotnFZFEjr1zCsicMWpAA\",\n   \"token_type\": \"example\",\n   \"expires_in\": 3600,\n   \"refresh_token\": \"tGzv3JOkF0XG5Qx2TlKWIA\",\n   \"authorization_details\": [\n      {\n         \"type\": \"payment_initiation\",\n         \"actions\": [\n            \"initiate\",\n            \"status\",\n            \"cancel\"\n         ],\n         \"locations\": [\n            \"https://example.com/payments\"\n         ],\n         \"instructedAmount\": {\n            \"currency\": \"EUR\",\n            \"amount\": \"123.50\"\n         },\n         \"creditorName\": \"Merchant A\",\n         \"creditorAccount\": {\n            \"iban\": \"DE02100100109307118603\"\n         },\n         \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n      }\n   ]\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 21,
      "text": "Figure 15: Example Token Response",
      "ja": "図15：トークンの応答の例"
    },
    {
      "indent": 0,
      "text": "7.1. Enriched Authorization Details in Token Response",
      "section_title": true,
      "ja": "7.1. トークン応答の充実した承認の詳細"
    },
    {
      "indent": 3,
      "text": "The authorization details attached to the access token MAY differ from what the client requests. In addition to the user authorizing less than what the client requested, there are some use cases where the AS enriches the data in an authorization details object. Whether enrichment is allowed and specifics of how it works are necessarily part of the definition of the respective authorization details type.",
      "ja": "アクセストークンに添付された承認の詳細は、クライアントが要求するものとは異なる場合があります。クライアントが要求したものよりも少ないユーザーが認可することに加えて、ASが認証詳細オブジェクトでデータを濃縮するいくつかのユースケースがあります。濃縮が許可されているかどうか、およびそれがどのように機能するかの詳細は、必然的にそれぞれの承認の詳細タイプの定義の一部です。"
    },
    {
      "indent": 3,
      "text": "As one example, a client may ask for access to account information but leave the decision about the specific accounts it will be able to access to the user. During the course of the authorization process, the user would select the subset of their accounts that they want to allow the client to access. As one design option to convey the selected accounts, the AS could add this information to the respective authorization details object.",
      "ja": "一例として、クライアントはアカウント情報へのアクセスを要求するが、ユーザーにアクセスできる特定のアカウントに関する決定を任せる場合があります。承認プロセスの過程で、ユーザーは、クライアントがアクセスできるようにするアカウントのサブセットを選択します。選択したアカウントを伝達する1つの設計オプションとして、この情報をそれぞれの承認の詳細オブジェクトに追加できるように。"
    },
    {
      "indent": 3,
      "text": "In that example, the requested authorization_details parameter might look like the following. In this example, the empty arrays serve as placeholders for where data will be added during enrichment by the AS. This example is illustrative only and is not intended to suggest a preference for designing the specifics of any authorization details type this way.",
      "ja": "その例では、要求されたAuthorization_Detailsパラメーターは次のように見える場合があります。この例では、空の配列は、ASによる濃縮中にデータが追加される場所のプレースホルダーとして機能します。この例は実例のみであり、承認の詳細の詳細をこの方法で設計することを好むことを提案することを意図していません。"
    },
    {
      "indent": 3,
      "text": "\"authorization_details\": [\n   {\n      \"type\": \"account_information\",\n      \"access\": {\n         \"accounts\": [],\n         \"balances\": [],\n         \"transactions\": []\n      },\n      \"recurringIndicator\":true\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 10,
      "text": "Figure 16: Example of Requested \"authorization_details\"",
      "ja": "図16：要求された「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "The AS then would expand the authorization details object and add the respective account identifiers.",
      "ja": "AS ASは、承認の詳細オブジェクトを拡張し、それぞれのアカウント識別子を追加します。"
    },
    {
      "indent": 3,
      "text": "HTTP/1.1 200 OK\nContent-Type: application/json\nCache-Control: no-store\n\n{\n   \"access_token\":\"2YotnFZFEjr1zCsicMWpAA\",\n   \"token_type\":\"example\",\n   \"expires_in\":3600,\n   \"refresh_token\":\"tGzv3JokF0XG5Qx2TlKWIA\",\n   \"authorization_details\":[\n      {\n         \"type\":\"account_information\",\n         \"access\":{\n            \"accounts\":[\n               {\n                  \"iban\":\"DE2310010010123456789\"\n               },\n               {\n                  \"maskedPan\":\"123456xxxxxx1234\"\n               }\n            ],\n            \"balances\":[\n               {\n                  \"iban\":\"DE2310010010123456789\"\n               }\n            ],\n            \"transactions\":[\n               {\n                  \"iban\":\"DE2310010010123456789\"\n               },\n               {\n                  \"maskedPan\":\"123456xxxxxx1234\"\n               }\n            ]\n         },\n         \"recurringIndicator\":true\n      }\n   ]\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 11,
      "text": "Figure 17: Example of Enriched \"authorization_details\"",
      "ja": "図17：濃縮された「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "For another example, the client is asking for access to a medical record but does not know the record number at request time. In this example, the client specifies the type of access it wants but doesn't specify the location or identifier of that access.",
      "ja": "別の例として、クライアントは医療記録へのアクセスを求めていますが、リクエスト時に記録番号を知りません。この例では、クライアントは必要なアクセスのタイプを指定しますが、そのアクセスの場所または識別子を指定しません。"
    },
    {
      "indent": 3,
      "text": "{\n\"authorization_details\": [\n   {\n      \"type\": \"medical_record\",\n      \"sens\": [ \"HIV\", \"ETH\", \"MART\" ],\n      \"actions\": [ \"read\" ],\n      \"datatypes\": [ \"Patient\", \"Observation\", \"Appointment\" ]\n   }\n]}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 10,
      "text": "Figure 18: Example of Requested \"authorization_details\"",
      "ja": "図18：要求された「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "When the user interacts with the AS, they select which of the medical records they are responsible for giving to the client. This information gets returned with the access token.",
      "ja": "ユーザーがASと対話すると、クライアントに提供する責任がある医療記録のどれを選択します。この情報は、アクセストークンで返されます。"
    },
    {
      "indent": 3,
      "text": "{\n   \"access_token\":\"2YotnFZFEjr1zCsicMWpAA\",\n   \"token_type\":\"example\",\n   \"expires_in\":3600,\n   \"refresh_token\":\"tGzv3JokF0XG5Qx2TlKWIA\",\n   \"authorization_details\":[\n    {\n      \"type\": \"medical_record\",\n      \"sens\": [ \"HIV\", \"ETH\", \"MART\" ],\n      \"actions\": [ \"read\" ],\n      \"datatypes\": [ \"Patient\", \"Observation\", \"Appointment\" ],\n      \"identifier\": \"patient-541235\",\n      \"locations\": [ \"https://records.example.com/\" ]\n     }\n  ]\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 11,
      "text": "Figure 19: Example of Enriched \"authorization_details\"",
      "ja": "図19：濃縮された「authorization_details」の例"
    },
    {
      "indent": 12,
      "text": "Note: The client needs to be aware upfront of the possibility that a certain authorization details object can be enriched. It is assumed that this property is part of the definition of the respective authorization details type.",
      "ja": "注：クライアントは、特定の承認の詳細オブジェクトを充実させる可能性を前もって認識する必要があります。このプロパティは、それぞれの承認の詳細タイプの定義の一部であると想定されています。"
    },
    {
      "indent": 0,
      "text": "8. Token Error Response",
      "section_title": true,
      "ja": "8. トークンエラー応答"
    },
    {
      "indent": 3,
      "text": "The Token Error Response MUST conform to the rules given in Section 5.",
      "ja": "トークンエラー応答は、セクション5に記載されているルールに準拠する必要があります。"
    },
    {
      "indent": 0,
      "text": "9. Resource Servers",
      "section_title": true,
      "ja": "9. リソースサーバー"
    },
    {
      "indent": 3,
      "text": "In order to enable the RS to enforce the authorization details as approved in the authorization process, the AS MUST make this data available to the RS. The AS MAY add the authorization_details field to access tokens in JSON Web Token (JWT) format or to token introspection responses.",
      "ja": "RSが承認プロセスで承認された許可の詳細を実施できるようにするために、ASはこのデータをRSで利用できるようにする必要があります。ASは、authorization_detailsフィールドを追加して、JSON Webトークン（JWT）形式のトークンにアクセスするか、内省的応答をトークンします。"
    },
    {
      "indent": 0,
      "text": "9.1. JWT-Based Access Tokens",
      "section_title": true,
      "ja": "9.1. JWTベースのアクセストークン"
    },
    {
      "indent": 3,
      "text": "If the access token is a JWT [RFC7519], the AS is RECOMMENDED to add the authorization details object, filtered to the specific audience, as a top-level claim.",
      "ja": "アクセストークンがJWT [RFC7519]の場合、トップレベルの主張として、特定の視聴者にフィルタリングされた承認詳細オブジェクトを追加することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "The AS will typically also add further claims to the JWT that the RS requires request processing, e.g., user ID, roles, and transaction-specific data. What claims the particular RS requires is defined by the RS-specific policy with the AS.",
      "ja": "ASは、通常、RSがリクエスト処理、例えばユーザーID、ロール、およびトランザクション固有のデータを必要とするというJWTにさらにクレームを追加します。特定のRSが必要とする主張は、ASを使用したRS固有のポリシーによって定義されます。"
    },
    {
      "indent": 3,
      "text": "The following shows the contents of an example JWT for the payment initiation example above:",
      "ja": "以下は、上記の支払い開始例の例の例の内容を示しています。"
    },
    {
      "indent": 3,
      "text": "{\n   \"iss\": \"https://as.example.com\",\n   \"sub\": \"24400320\",\n   \"aud\": \"a7AfcPcsl2\",\n   \"exp\": 1311281970,\n   \"acr\": \"psd2_sca\",\n   \"txn\": \"8b4729cc-32e4-4370-8cf0-5796154d1296\",\n   \"authorization_details\": [\n      {\n         \"type\": \"https://scheme.example.com/payment_initiation\",\n         \"actions\": [\n            \"initiate\",\n            \"status\",\n            \"cancel\"\n         ],\n         \"locations\": [\n            \"https://example.com/payments\"\n         ],\n         \"instructedAmount\": {\n            \"currency\": \"EUR\",\n            \"amount\": \"123.50\"\n         },\n         \"creditorName\": \"Merchant A\",\n         \"creditorAccount\": {\n            \"iban\": \"DE02100100109307118603\"\n         },\n         \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n      }\n   ],\n   \"debtorAccount\": {\n      \"iban\": \"DE40100100103307118608\",\n      \"user_role\": \"owner\"\n   }\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 5,
      "text": "Figure 20: Example of \"authorization_details\" in JWT-Based Access Token",
      "ja": "図20：JWTベースのアクセストークンの「authorization_details」の例"
    },
    {
      "indent": 3,
      "text": "In this case, the AS added the following example claims to the JWT-based access token:",
      "ja": "この場合、次の例を追加したAsは、JWTベースのアクセストークンに対する主張を主張しています。"
    },
    {
      "indent": 3,
      "text": "sub:",
      "ja": "サブ："
    },
    {
      "indent": 12,
      "text": "indicates the user for which the client is asking for payment initiation.",
      "ja": "クライアントが支払いの開始を求めているユーザーを示します。"
    },
    {
      "indent": 3,
      "text": "txn:",
      "ja": "TXN："
    },
    {
      "indent": 12,
      "text": "transaction id used to trace the transaction across the services of provider example.com",
      "ja": "プロバイダーのサービス全体のトランザクションをトレースするために使用されるトランザクションID example.com"
    },
    {
      "indent": 3,
      "text": "debtorAccount:",
      "ja": "債務 - カウント："
    },
    {
      "indent": 12,
      "text": "API-specific field containing the debtor account. In the example, this account was not passed in the authorization_details but was selected by the user during the authorization process. The field user_role conveys the role the user has with respect to this particular account. In this case, they are the owner. This data is used for access control at the payment API (the RS).",
      "ja": "債務者口座を含むAPI固有のフィールド。この例では、このアカウントはAuthorization_Detailsで渡されるのではなく、承認プロセス中にユーザーによって選択されました。Field user_roleは、この特定のアカウントに対してユーザーが持つ役割を伝えます。この場合、彼らは所有者です。このデータは、支払いAPI（RS）でのアクセス制御に使用されます。"
    },
    {
      "indent": 0,
      "text": "9.2. Token Introspection",
      "section_title": true,
      "ja": "9.2. トークン内省"
    },
    {
      "indent": 3,
      "text": "Token introspection [RFC7662] provides a means for an RS to query the AS to determine information about an access token. If the AS includes authorization detail information for the token in its response, the information MUST be conveyed with authorization_details as a top-level member of the introspection response JSON object. The authorization_details member MUST contain the same structure defined in Section 2, potentially filtered and extended for the RS making the introspection request.",
      "ja": "トークン内省[RFC7662]は、RSがアクセストークンに関する情報を決定するためのASを照会する手段を提供します。ASがトークンの応答に承認の詳細情報を含む場合、情報は、内省応答JSONオブジェクトのトップレベルメンバーとしてauthorization_detailsで伝えなければなりません。Authorization_Detailsメンバーは、セクション2で定義された同じ構造を含める必要があります。これは、RSのために潜在的にフィルター処理され、内省要求を行うために拡張されている必要があります。"
    },
    {
      "indent": 3,
      "text": "Here is an example introspection response for the payment initiation example:",
      "ja": "支払い開始の例の例は次のとおりです。"
    },
    {
      "indent": 3,
      "text": "{\n   \"active\": true,\n   \"sub\": \"24400320\",\n   \"aud\": \"s6BhdRkqt3\",\n   \"exp\": 1311281970,\n   \"acr\": \"psd2_sca\",\n   \"txn\": \"8b4729cc-32e4-4370-8cf0-5796154d1296\",\n   \"authorization_details\": [\n      {\n         \"type\": \"https://scheme.example.com/payment_initiation\",\n         \"actions\": [\n            \"initiate\",\n            \"status\",\n            \"cancel\"\n         ],\n         \"locations\": [\n            \"https://example.com/payments\"\n         ],\n         \"instructedAmount\": {\n            \"currency\": \"EUR\",\n            \"amount\": \"123.50\"\n         },\n         \"creditorName\": \"Merchant123\",\n         \"creditorAccount\": {\n            \"iban\": \"DE02100100109307118603\"\n         },\n         \"remittanceInformationUnstructured\": \"Ref Number Merchant\"\n      }\n   ],\n   \"debtorAccount\": {\n      \"iban\": \"DE40100100103307118608\",\n      \"user_role\": \"owner\"\n   }\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 7,
      "text": "Figure 21: Example of \"authorization_details\" in Introspection Response",
      "ja": "図21：内省的応答における「Authorization_Details」の例"
    },
    {
      "indent": 0,
      "text": "10. Metadata",
      "section_title": true,
      "ja": "10. メタデータ"
    },
    {
      "indent": 3,
      "text": "To advertise its support for this feature, the supported list of authorization details types is included in the AS metadata response [RFC8414] using the metadata parameter authorization_details_types_supported, which is a JSON array.",
      "ja": "この機能のサポートを宣伝するために、認証詳細タイプのサポートされているリストは、JSONアレイであるMetadata Parameter Autherization_Details_Types_Supportedを使用して、ASメタデータ応答[RFC8414]に含まれています。"
    },
    {
      "indent": 3,
      "text": "This is illustrated by the following example:",
      "ja": "これは、次の例で説明されています。"
    },
    {
      "indent": 3,
      "text": "{\n   ...\n   \"authorization_details_types_supported\":[\n      \"payment_initiation\",\n      \"account_information\"\n   ]\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 22: Example of Server Metadata about the Supported Authorization Details",
      "ja": "図22：サポートされている承認の詳細に関するサーバーメタデータの例"
    },
    {
      "indent": 3,
      "text": "Clients MAY indicate the authorization details types they will use when requesting authorization with the client registration metadata parameter authorization_details_types, which is a JSON array.",
      "ja": "クライアントは、JSONアレイであるクライアント登録Metadata Parameter authorization_details_typesで承認を要求するときに使用する承認の詳細タイプを示す場合があります。"
    },
    {
      "indent": 3,
      "text": "This is illustrated by the following example:",
      "ja": "これは、次の例で説明されています。"
    },
    {
      "indent": 3,
      "text": "{\n   ...\n   \"authorization_details_types\":[\n      \"payment_initiation\"\n   ]\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 5,
      "text": "Figure 23: Example of Server Metadata about Authorization Details",
      "ja": "図23：承認の詳細に関するサーバーメタデータの例"
    },
    {
      "indent": 3,
      "text": "The registration of authorization details types with the AS is outside the scope of this specification.",
      "ja": "この仕様の範囲外であるASを使用した承認の詳細タイプの登録。"
    },
    {
      "indent": 0,
      "text": "11. Implementation Considerations",
      "section_title": true,
      "ja": "11. 実装の考慮事項"
    },
    {
      "indent": 0,
      "text": "11.1. Using Authorization Details in a Certain Deployment",
      "section_title": true,
      "ja": "11.1. 特定の展開で承認の詳細を使用します"
    },
    {
      "indent": 3,
      "text": "Using authorization details in a certain deployment will require the following steps:",
      "ja": "特定の展開で承認の詳細を使用するには、次の手順が必要です。"
    },
    {
      "indent": 6,
      "text": "* Define authorization details types.",
      "ja": "* 承認の詳細タイプを定義します。"
    },
    {
      "indent": 6,
      "text": "* Publish authorization details types in the OAuth server metadata.",
      "ja": "* OAUTHサーバーメタデータに承認の詳細タイプを公開します。"
    },
    {
      "indent": 6,
      "text": "* Determine how authorization details are shown to the user in the user consent prompt.",
      "ja": "* ユーザーの同意プロンプトで、ユーザーに承認の詳細がどのように表示されるかを決定します。"
    },
    {
      "indent": 6,
      "text": "* If needed, enrich authorization details in the user consent process (e.g., add selected accounts or set expirations).",
      "ja": "* 必要に応じて、ユーザーの同意プロセスで承認の詳細を強化します（たとえば、選択したアカウントを追加したり、有効期限を設定したりします）。"
    },
    {
      "indent": 6,
      "text": "* If needed, determine how authorization details are reflected in access token content or introspection responses.",
      "ja": "* 必要に応じて、アクセストークンコンテンツまたは内省的応答に承認の詳細がどのように反映されるかを判断します。"
    },
    {
      "indent": 6,
      "text": "* Determine how the RSs process the authorization details or token data derived from authorization details.",
      "ja": "* RSSが承認の詳細または承認の詳細から派生したトークンデータをどのように処理するかを決定します。"
    },
    {
      "indent": 6,
      "text": "* If needed, entitle clients to use certain authorization details types.",
      "ja": "* 必要に応じて、クライアントが特定の承認の詳細タイプを使用できるようにします。"
    },
    {
      "indent": 0,
      "text": "11.2. Minimal Implementation Support",
      "section_title": true,
      "ja": "11.2. 最小限の実装サポート"
    },
    {
      "indent": 3,
      "text": "General AS implementations supporting this specification should provide the following basic functions:",
      "ja": "この仕様をサポートする実装としての一般的なものは、次の基本機能を提供する必要があります。"
    },
    {
      "indent": 6,
      "text": "* Support advertisement of supported authorization details types in OAuth server metadata",
      "ja": "* サポートされている承認の詳細タイプのサポートOAUTHサーバーメタデータの種類"
    },
    {
      "indent": 6,
      "text": "* Accept the authorization_details parameter in authorization requests in conformance with this specification",
      "ja": "* 承認要求でauthorization_detailsパラメーターをこの仕様に準拠して受け入れる"
    },
    {
      "indent": 6,
      "text": "* Support storage of consented authorization details as part of a grant",
      "ja": "* 助成金の一部として同意された承認の詳細のサポート"
    },
    {
      "indent": 6,
      "text": "* Implement default behavior for adding authorization details to access tokens and token introspection responses in order to make them available to RSs (similar to scope values). This should work with any grant type, especially authorization_code and refresh_token.",
      "ja": "* RSS（スコープ値と同様）で利用可能にするために、トークンおよびトークン内省応答にアクセスするための認証詳細を追加するためのデフォルトの動作を実装します。これは、助成金の種類、特にauthorization_codeとrefresh_tokenで動作するはずです。"
    },
    {
      "indent": 3,
      "text": "Processing and presentation of authorization details will vary significantly among different authorization details types. Implementations should therefore support customization of the respective behavior. In particular, implementations should allow deployments to:",
      "ja": "許可の詳細の処理と提示は、承認の詳細タイプによって大きく異なります。したがって、実装はそれぞれの動作のカスタマイズをサポートする必要があります。特に、実装では、展開を次のように許可する必要があります。"
    },
    {
      "indent": 6,
      "text": "* determine presentation of the authorization details;",
      "ja": "* 承認の詳細の表示を決定します。"
    },
    {
      "indent": 6,
      "text": "* modify requested authorization details in the user consent process, e.g., adding fields; and",
      "ja": "* ユーザー同意プロセスの要求された承認の詳細を変更します。たとえば、フィールドの追加。そして"
    },
    {
      "indent": 6,
      "text": "* merge requested and preexisting authorization details.",
      "ja": "* 要求された既存の承認の詳細をマージします。"
    },
    {
      "indent": 3,
      "text": "One approach to supporting such customization would be to have a mechanism allowing the registration of extension modules, each of them responsible for rendering the respective user consent and any transformation needed to provide the data needed to the RS by way of structured access tokens or token introspection responses.",
      "ja": "このようなカスタマイズをサポートする1つのアプローチは、拡張モジュールの登録を許可するメカニズムを持つことです。それぞれが、それぞれがそれぞれのユーザーの同意を提供し、構造化されたアクセストークンまたはトークンの内省によってRSに必要なデータを提供するために必要な変換を提供することです。反応。"
    },
    {
      "indent": 0,
      "text": "11.3. Use of Machine-Readable Type Schemas",
      "section_title": true,
      "ja": "11.3. マシン読み取り可能なタイプスキーマの使用"
    },
    {
      "indent": 3,
      "text": "Implementations might allow deployments to use machine-readable schema languages for defining authorization details types to facilitate creating and validating authorization details objects against such schemas. For example, if an authorization details type were defined using JSON Schemas [JSON.Schema], the JSON Schema identifier could be used as type value in the respective authorization details objects.",
      "ja": "実装により、展開が機械読み取り可能なスキーマ言語を使用して、承認の詳細タイプを定義して、そのようなスキーマに対してオブジェクトの作成を作成および検証することを容易にすることができます。たとえば、JSONスキーマ[json.schema]を使用して承認の詳細タイプが定義されている場合、JSONスキーマ識別子は、それぞれの承認詳細オブジェクトのタイプ値として使用できます。"
    },
    {
      "indent": 3,
      "text": "Note, however, that type values are identifiers understood by the AS and, to the extent necessary, the client and RS. This specification makes no assumption that a type value would point to a machine-readable schema format or that any party in the system (such as the client, AS, or RS) would dereference or process the contents of the type field in any specific way.",
      "ja": "ただし、そのタイプの値は、ASおよび必要な範囲でクライアントとRsによって理解される識別子であることに注意してください。この仕様は、タイプ値がマシン読み取り可能なスキーマ形式を指していること、またはシステム内のすべてのパーティ（クライアントなど）が特定の方法でタイプフィールドのコンテンツを繰り返し回避または処理することを仮定しません。。"
    },
    {
      "indent": 0,
      "text": "11.4. Large Requests",
      "section_title": true,
      "ja": "11.4. 大規模なリクエスト"
    },
    {
      "indent": 3,
      "text": "Authorization request URIs containing authorization_details in a request parameter or a request object can become very long. Therefore, implementers should consider using the request_uri parameter as defined in [RFC9101] in combination with the pushed request object mechanism as defined in [RFC9126] to pass authorization_details in a reliable and secure manner. Here is an example of such a pushed authorization request that sends the authorization request data directly to the AS via an HTTPS-protected connection:",
      "ja": "承認要求authorization_detailsを要求パラメーターに含むurisまたはリクエストオブジェクトは非常に長くなる可能性があります。したがって、実装者は、[rfc9126]で定義されているプッシュされたリクエストオブジェクトメカニズムと組み合わせて[rfc9101]で定義されているrequest_uriパラメーターを、信頼できる安全な方法で承認_detailsに合格することを検討する必要があります。HTTPSで保護された接続を介してASに直接ASに直接送信するこのようなプッシュされた承認要求の例を次に示します。"
    },
    {
      "indent": 5,
      "text": "POST /as/par HTTP/1.1\nHost: as.example.com\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic czZCaGRSa3F0Mzo3RmpmcDBaQnIxS3REUmJuZlZkbUl3\n\nresponse_type=code&\nclient_id=s6BhdRkqt3\n&state=af0ifjsldkj\n&redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb\n&code_challenge_method=S256\n&code_challenge=K2-ltc83acc4h0c9w6ESC_rEMTJ3bwc-uCHaoeK1t8U\n&authorization_details=%5B%7B%22type%22%3A%22account_information%22\n%2C%22actions%22%3A%5B%22list_accounts%22%2C%22read_balances%22%2C%\n22read_transactions%22%5D%2C%22locations%22%3A%5B%22https%3A%2F%2Fe\nxample.com%2Faccounts%22%5D%7D%2C%7B%22type%22%3A%22payment_initiat\nion%22%2C%22actions%22%3A%5B%22initiate%22%2C%22status%22%2C%22canc\nel%22%5D%2C%22locations%22%3A%5B%22https%3A%2F%2Fexample.com%2Fpaym\nents%22%5D%2C%22instructedAmount%22%3A%7B%22currency%22%3A%22EUR%22\n%2C%22amount%22%3A%22123.50%22%7D%2C%22creditorName%22%3A%22Merchan\nt123%22%2C%22creditorAccount%22%3A%7B%22iban%22%3A%22DE021001001093\n07118603%22%7D%2C%22remittanceInformationUnstructured%22%3A%22Ref%2\n0Number%20Merchant%22%7D%5D",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Figure 24: Example of Large Request including \"authorization_details\"",
      "ja": "図24：「Authorization_Details」を含む大規模なリクエストの例"
    },
    {
      "indent": 0,
      "text": "12. Security Considerations",
      "section_title": true,
      "ja": "12. セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "The authorization_details parameter is sent through the user agent in case of an OAuth authorization request, which makes them vulnerable to modifications by the user. If the integrity of the authorization_details is a concern, clients MUST protect authorization_details against tampering and swapping. This can be achieved by signing the request using signed request objects as defined in [RFC9101] or using the request_uri authorization request parameter as defined in [RFC9101] in conjunction with [RFC9126] to pass the URI of the request object to the AS.",
      "ja": "authorization_detailsパラメーターは、OAuth Authorizationリクエストの場合にユーザーエージェントを介して送信され、ユーザーによる変更に対して脆弱になります。Authorization_Detailsの整合性が懸念事項である場合、クライアントは承認_Detailsを改ざんやスワッピングから保護する必要があります。これは、[RFC9101]で定義されている署名されたリクエストオブジェクトを使用してリクエストに署名するか、[RFC9126]と併せて[RFC9101]で定義されているRequest_uri承認要求パラメーターを使用して、リクエストオブジェクトのURIをASに渡すことで実現できます。"
    },
    {
      "indent": 3,
      "text": "All string comparisons in an authorization_details parameter are to be done as defined by [RFC8259]. No additional transformation or normalization is to be done in evaluating equivalence of string values.",
      "ja": "Authorization_Detailsパラメーターのすべての文字列比較は、[RFC8259]で定義されているように実行されます。文字列値の等価性を評価する際に、追加の変換または正規化は行われません。"
    },
    {
      "indent": 3,
      "text": "The common data field locations allows a client to specify where it intends to use a certain authorization, i.e., it is possible to unambiguously assign permissions to RSs. In situations with multiple RSs, this prevents unintended client authorizations (e.g., a read scope value potentially applicable for an email as well as a cloud service) through audience restriction.",
      "ja": "一般的なデータフィールドの場所により、クライアントは特定の承認を使用する場所を指定できます。つまり、RSSに許可を明確に割り当てることができます。複数のRSSを使用した状況では、これにより、意図しないクライアントの承認（たとえば、電子メールやクラウドサービスに適用される可能性のある読み取りスコープ値）を視聴者の制限を介して防止します。"
    },
    {
      "indent": 3,
      "text": "The AS MUST properly sanitize and handle the data passed in the authorization_details in order to prevent injection attacks.",
      "ja": "ASは、噴射攻撃を防ぐために、Authorization_Detailsで渡されたデータを適切に消毒および処理する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Security Considerations of [RFC6749], [RFC7662], and [RFC8414] also apply.",
      "ja": "[RFC6749]、[RFC7662]、および[RFC8414]のセキュリティ上の考慮事項も適用されます。"
    },
    {
      "indent": 0,
      "text": "13. Privacy Considerations",
      "section_title": true,
      "ja": "13. プライバシーに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "It is especially important for implementers to design and use authorization details in a privacy-preserving manner.",
      "ja": "実装者にとって、プライバシーを提供する方法で承認の詳細を設計および使用することが特に重要です。"
    },
    {
      "indent": 3,
      "text": "Any sensitive personal data included in authorization_details must be prevented from leaking, e.g., through referrer headers. Implementation options include encrypted request objects as defined in [RFC9101] or transmission of authorization_details via end-to-end encrypted connections between client and AS by utilizing [RFC9126] and the request_uri authorization request parameter as defined in [RFC9101]. The latter does not require application-level encryption, but it requires another message exchange between the client and the AS.",
      "ja": "Authorization_Detailsに含まれる機密の個人データは、リファラーヘッダーを介して、たとえば漏れを防ぐ必要があります。実装オプションには、[RFC9101]で定義されている暗号化されたリクエストオブジェクトまたはクライアント間のエンドツーエンドの暗号化された接続を介した[RFC9126]と[RFC9126]と[RFC9101]で定義されているRequest_URI承認リクエストパラメーターを使用して、[rfc9101]で承認_detailsの送信が含まれます。後者はアプリケーションレベルの暗号化を必要としませんが、クライアントとASの間の別のメッセージ交換が必要です。"
    },
    {
      "indent": 3,
      "text": "Even if the request data is encrypted, an attacker could use the AS to learn the user's data by injecting the encrypted request data into an authorization request on a device under their control and use the AS's user consent screens to show the (decrypted) user data in the clear. Implementations need to consider this attack vector and implement appropriate countermeasures, e.g., by only showing portions of the data or, if possible, determining whether the assumed user context is still the same (after user authentication).",
      "ja": "要求データが暗号化されている場合でも、攻撃者は、暗号化された要求データを制御下のデバイスに承認要求に挿入することにより、ユーザーのデータを学習し、ASのユーザー同意画面を使用して（復号化された）ユーザーデータを表示することができます。クリアで。実装は、この攻撃ベクトルを考慮し、適切な対策を実装する必要があります。たとえば、データの一部のみを表示するか、可能であれば、想定されるユーザーコンテキストがまだ同じであるかどうかを判断する必要があります（ユーザー認証後）。"
    },
    {
      "indent": 3,
      "text": "The AS needs to take into consideration the privacy implications when sharing authorization_details with the client or RSs. The AS should share this data with those parties on a \"need to know\" basis as determined by local policy.",
      "ja": "クライアントまたはRSSとauthorization_detailsを共有する際のプライバシーへの影響を考慮する必要があります。ASは、現地のポリシーで決定された「知る必要がある」ベースで、このデータをそれらの当事者と共有する必要があります。"
    },
    {
      "indent": 0,
      "text": "14. IANA Considerations",
      "section_title": true,
      "ja": "14. IANAの考慮事項"
    },
    {
      "indent": 0,
      "text": "14.1. OAuth Parameters Registration",
      "section_title": true,
      "ja": "14.1. OAuthパラメーター登録"
    },
    {
      "indent": 3,
      "text": "The following parameter has been registered in the \"OAuth Parameters\" registry [IANA.OAuth.Parameters] established by [RFC6749].",
      "ja": "次のパラメーターは、[RFC6749]によって確立された「OAUTHパラメーター」レジストリ[IANA.OAUTH.PARAMETERS]に登録されています。"
    },
    {
      "indent": 3,
      "text": "Name:",
      "ja": "名前："
    },
    {
      "indent": 12,
      "text": "authorization_details",
      "ja": "authorization_details"
    },
    {
      "indent": 3,
      "text": "Parameter Usage Location:",
      "ja": "パラメーターの使用場所："
    },
    {
      "indent": 12,
      "text": "authorization request, token request, token response",
      "ja": "承認リクエスト、トークンリクエスト、トークン応答"
    },
    {
      "indent": 3,
      "text": "Change Controller:",
      "ja": "Change Controller："
    },
    {
      "indent": 12,
      "text": "IETF",
      "ja": "IETF"
    },
    {
      "indent": 3,
      "text": "Reference:",
      "ja": "参照："
    },
    {
      "indent": 12,
      "text": "RFC 9396",
      "ja": "RFC 9396"
    },
    {
      "indent": 0,
      "text": "14.2. JSON Web Token Claims Registration",
      "section_title": true,
      "ja": "14.2. JSON Webトークンは登録を主張します"
    },
    {
      "indent": 3,
      "text": "The following value has been registered in the IANA \"JSON Web Token Claims\" registry established by [RFC7519].",
      "ja": "次の値は、[RFC7519]によって確立されたIANA「JSON Webトークンクレーム」レジストリに登録されています。"
    },
    {
      "indent": 3,
      "text": "Claim Name:",
      "ja": "クレーム名："
    },
    {
      "indent": 12,
      "text": "authorization_details",
      "ja": "authorization_details"
    },
    {
      "indent": 3,
      "text": "Claim Description:",
      "ja": "クレームの説明："
    },
    {
      "indent": 12,
      "text": "The claim authorization_details contains a JSON array of JSON objects representing the rights of the access token. Each JSON object contains the data to specify the authorization requirements for a certain type of resource.",
      "ja": "請求承認_Detailsには、アクセストークンの権利を表すJSONオブジェクトのJSON配列が含まれています。各JSONオブジェクトには、特定のタイプのリソースの承認要件を指定するデータが含まれています。"
    },
    {
      "indent": 3,
      "text": "Change Controller:",
      "ja": "Change Controller："
    },
    {
      "indent": 12,
      "text": "IETF",
      "ja": "IETF"
    },
    {
      "indent": 3,
      "text": "Reference:",
      "ja": "参照："
    },
    {
      "indent": 12,
      "text": "Section 9.1 of RFC 9396",
      "ja": "RFC 9396のセクション9.1"
    },
    {
      "indent": 0,
      "text": "14.3. OAuth Token Introspection Response Registration",
      "section_title": true,
      "ja": "14.3. OAUTHトークン内注文応答登録"
    },
    {
      "indent": 3,
      "text": "The following value has been registered in the IANA \"OAuth Token Introspection Response\" registry established by [RFC7662].",
      "ja": "次の値は、[RFC7662]によって確立されたIANA「Oauth Token Introspection Response」レジストリに登録されています。"
    },
    {
      "indent": 3,
      "text": "Name:",
      "ja": "名前："
    },
    {
      "indent": 12,
      "text": "authorization_details",
      "ja": "authorization_details"
    },
    {
      "indent": 3,
      "text": "Description:",
      "ja": "説明："
    },
    {
      "indent": 12,
      "text": "The member authorization_details contains a JSON array of JSON objects representing the rights of the access token. Each JSON object contains the data to specify the authorization requirements for a certain type of resource.",
      "ja": "メンバーAuthorization_Detailsには、アクセストークンの権利を表すJSONオブジェクトのJSON配列が含まれています。各JSONオブジェクトには、特定のタイプのリソースの承認要件を指定するデータが含まれています。"
    },
    {
      "indent": 3,
      "text": "Change Controller:",
      "ja": "Change Controller："
    },
    {
      "indent": 12,
      "text": "IETF",
      "ja": "IETF"
    },
    {
      "indent": 3,
      "text": "Reference:",
      "ja": "参照："
    },
    {
      "indent": 12,
      "text": "Section 9.2 of RFC 9396",
      "ja": "RFC 9396のセクション9.2"
    },
    {
      "indent": 0,
      "text": "14.4. OAuth Authorization Server Metadata Registration",
      "section_title": true,
      "ja": "14.4. OAuth Authorization Serverメタデータ登録"
    },
    {
      "indent": 3,
      "text": "The following values have been registered in the IANA \"OAuth Authorization Server Metadata\" registry of [IANA.OAuth.Parameters] established by [RFC8414].",
      "ja": "次の値は、[RFC8414]によって確立された[IANA.OAUTH.PARAMETERS]のIANA「OAuth Authorization Server Metadata」レジストリに登録されています。"
    },
    {
      "indent": 3,
      "text": "Metadata Name:",
      "ja": "メタデータ名："
    },
    {
      "indent": 12,
      "text": "authorization_details_types_supported",
      "ja": "authorization_details_types_supported"
    },
    {
      "indent": 3,
      "text": "Metadata Description:",
      "ja": "メタデータの説明："
    },
    {
      "indent": 12,
      "text": "JSON array containing the authorization details types the AS supports",
      "ja": "承認の詳細を含むJSONアレイASサポートのタイプ"
    },
    {
      "indent": 3,
      "text": "Change Controller:",
      "ja": "Change Controller："
    },
    {
      "indent": 12,
      "text": "IETF",
      "ja": "IETF"
    },
    {
      "indent": 3,
      "text": "Reference:",
      "ja": "参照："
    },
    {
      "indent": 12,
      "text": "Section 10 of RFC 9396",
      "ja": "RFC 9396のセクション10"
    },
    {
      "indent": 0,
      "text": "14.5. OAuth Dynamic Client Registration Metadata Registration",
      "section_title": true,
      "ja": "14.5. OAuth Dynamic Client登録メタデータ登録"
    },
    {
      "indent": 3,
      "text": "The following value has been registered in the IANA \"OAuth Dynamic Client Registration Metadata\" registry of [IANA.OAuth.Parameters] established by [RFC7591].",
      "ja": "次の値は、[RFC7591]によって確立された[iana.oauth.parameters]のiana \"oauth dynamic client登録メタデータ]レジストリに登録されています。"
    },
    {
      "indent": 3,
      "text": "Client Metadata Name:",
      "ja": "クライアントメタデータ名："
    },
    {
      "indent": 12,
      "text": "authorization_details_types",
      "ja": "authorization_details_types"
    },
    {
      "indent": 3,
      "text": "Client Metadata Description:",
      "ja": "クライアントメタデータの説明："
    },
    {
      "indent": 12,
      "text": "Indicates what authorization details types the client uses.",
      "ja": "クライアントが使用する承認の詳細タイプを示します。"
    },
    {
      "indent": 3,
      "text": "Change Controller:",
      "ja": "Change Controller："
    },
    {
      "indent": 12,
      "text": "IETF",
      "ja": "IETF"
    },
    {
      "indent": 3,
      "text": "Reference:",
      "ja": "参照："
    },
    {
      "indent": 12,
      "text": "Section 10 of RFC 9396",
      "ja": "RFC 9396のセクション10"
    },
    {
      "indent": 0,
      "text": "14.6. OAuth Extensions Error Registration",
      "section_title": true,
      "ja": "14.6. OAUTH拡張エラー登録"
    },
    {
      "indent": 3,
      "text": "The following value has been registered in the IANA \"OAuth Extensions Error Registry\" of [IANA.OAuth.Parameters] established by [RFC6749].",
      "ja": "次の値は、[RFC6749]によって確立された[IANA.OAUTH.PARAMETERS]のIANA「OAuth拡張エラーレジストリ」に登録されています。"
    },
    {
      "indent": 3,
      "text": "Name:",
      "ja": "名前："
    },
    {
      "indent": 12,
      "text": "invalid_authorization_details",
      "ja": "Invalid_authorization_details"
    },
    {
      "indent": 3,
      "text": "Usage Location:",
      "ja": "使用場所："
    },
    {
      "indent": 12,
      "text": "token endpoint, authorization endpoint",
      "ja": "トークンエンドポイント、認証エンドポイント"
    },
    {
      "indent": 3,
      "text": "Protocol Extension:",
      "ja": "プロトコル拡張："
    },
    {
      "indent": 12,
      "text": "OAuth 2.0 Rich Authorization Requests",
      "ja": "OAUTH 2.0リッチ承認リクエスト"
    },
    {
      "indent": 3,
      "text": "Change Controller:",
      "ja": "Change Controller："
    },
    {
      "indent": 12,
      "text": "IETF",
      "ja": "IETF"
    },
    {
      "indent": 3,
      "text": "Reference:",
      "ja": "参照："
    },
    {
      "indent": 12,
      "text": "Section 5 of RFC 9396",
      "ja": "RFC 9396のセクション5"
    },
    {
      "indent": 0,
      "text": "15. References",
      "section_title": true,
      "ja": "15. 参考文献"
    },
    {
      "indent": 0,
      "text": "15.1. Normative References",
      "section_title": true,
      "ja": "15.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n           Requirement Levels\", BCP 14, RFC 2119,\n           DOI 10.17487/RFC2119, March 1997,\n           <https://www.rfc-editor.org/info/rfc2119>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC7519]  Jones, M., Bradley, J., and N. Sakimura, \"JSON Web Token\n           (JWT)\", RFC 7519, DOI 10.17487/RFC7519, May 2015,\n           <https://www.rfc-editor.org/info/rfc7519>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC7662]  Richer, J., Ed., \"OAuth 2.0 Token Introspection\",\n           RFC 7662, DOI 10.17487/RFC7662, October 2015,\n           <https://www.rfc-editor.org/info/rfc7662>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8174]  Leiba, B., \"Ambiguity of Uppercase vs Lowercase in RFC\n           2119 Key Words\", BCP 14, RFC 8174, DOI 10.17487/RFC8174,\n           May 2017, <https://www.rfc-editor.org/info/rfc8174>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8414]  Jones, M., Sakimura, N., and J. Bradley, \"OAuth 2.0\n           Authorization Server Metadata\", RFC 8414,\n           DOI 10.17487/RFC8414, June 2018,\n           <https://www.rfc-editor.org/info/rfc8414>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8628]  Denniss, W., Bradley, J., Jones, M., and H. Tschofenig,\n           \"OAuth 2.0 Device Authorization Grant\", RFC 8628,\n           DOI 10.17487/RFC8628, August 2019,\n           <https://www.rfc-editor.org/info/rfc8628>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8707]  Campbell, B., Bradley, J., and H. Tschofenig, \"Resource\n           Indicators for OAuth 2.0\", RFC 8707, DOI 10.17487/RFC8707,\n           February 2020, <https://www.rfc-editor.org/info/rfc8707>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "15.2. Informative References",
      "section_title": true,
      "ja": "15.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[CSC]      Cloud Signature Consortium, \"Architectures and protocols\n           for remote signature applications\", Version 1.0.4.0, June\n           2019, <https://cloudsignatureconsortium.org/wp-\n           content/uploads/2020/01/CSC_API_V1_1.0.4.0.pdf>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[ETSI]     ETSI, \"Electronic Signatures and Infrastructures (ESI);\n           Protocols for remote digital signature creation\", V1.1.1,\n           ETSI TS 119 432, March 2019,\n           <https://www.etsi.org/deliver/\n           etsi_ts/119400_119499/119432/01.01.01_60/\n           ts_119432v010101p.pdf>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[IANA.OAuth.Parameters]\n           IANA, \"OAuth Parameters\",\n           <https://www.iana.org/assignments/oauth-parameters>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[JSON.Schema]\n           OpenJS Foundation, \"JSON Schema\",\n           <https://json-schema.org/>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[OID-CIBA] Fernandez, G., Walter, F., Nennker, A., Tonge, D., and B.\n           Campbell, \"OpenID Connect Client-Initiated Backchannel\n           Authentication Flow - Core 1.0\", 1 September 2021,\n           <https://openid.net/specs/openid-client-initiated-\n           backchannel-authentication-core-1_0.html>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[OIDC]     Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., and\n           C. Mortimore, \"OpenID Connect Core 1.0 incorporating\n           errata set 1\", 8 November 2014,\n           <https://openid.net/specs/openid-connect-core-1_0.html>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC0020]  Cerf, V., \"ASCII format for network interchange\", STD 80,\n           RFC 20, DOI 10.17487/RFC0020, October 1969,\n           <https://www.rfc-editor.org/info/rfc20>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC6749]  Hardt, D., Ed., \"The OAuth 2.0 Authorization Framework\",\n           RFC 6749, DOI 10.17487/RFC6749, October 2012,\n           <https://www.rfc-editor.org/info/rfc6749>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC7591]  Richer, J., Ed., Jones, M., Bradley, J., Machulak, M., and\n           P. Hunt, \"OAuth 2.0 Dynamic Client Registration Protocol\",\n           RFC 7591, DOI 10.17487/RFC7591, July 2015,\n           <https://www.rfc-editor.org/info/rfc7591>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8259]  Bray, T., Ed., \"The JavaScript Object Notation (JSON) Data\n           Interchange Format\", STD 90, RFC 8259,\n           DOI 10.17487/RFC8259, December 2017,\n           <https://www.rfc-editor.org/info/rfc8259>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC9101]  Sakimura, N., Bradley, J., and M. Jones, \"The OAuth 2.0\n           Authorization Framework: JWT-Secured Authorization Request\n           (JAR)\", RFC 9101, DOI 10.17487/RFC9101, August 2021,\n           <https://www.rfc-editor.org/info/rfc9101>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC9126]  Lodderstedt, T., Campbell, B., Sakimura, N., Tonge, D.,\n           and F. Skokan, \"OAuth 2.0 Pushed Authorization Requests\",\n           RFC 9126, DOI 10.17487/RFC9126, September 2021,\n           <https://www.rfc-editor.org/info/rfc9126>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[Transaction-Auth]\n           Lodderstedt, T., \"Transaction Authorization or why we need\n           to re-think OAuth scopes\", 20 April 2019,\n           <https://medium.com/oauth-2/transaction-authorization-or-\n           why-we-need-to-re-think-oauth-scopes-2326e2038948>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "Appendix A. Additional Examples",
      "section_title": true,
      "ja": "付録A. 追加の例"
    },
    {
      "indent": 0,
      "text": "A.1. OpenID Connect",
      "section_title": true,
      "ja": "A.1. OpenID Connect"
    },
    {
      "indent": 3,
      "text": "OpenID Connect [OIDC] specifies the JSON-based claims request parameter that can be used to specify the claims a client (acting as an OpenID Connect Relying Party) wishes to receive in a fine-grained and privacy-preserving way as well as assign those claims to certain delivery mechanisms, i.e., ID Token or userinfo response.",
      "ja": "OpenID Connect [OIDC] JSONベースのクレームリクエストパラメーターを指定します。これは、クライアント（OpenID Connectに依存している当事者として機能する）を指定するために使用できます。特定の配信メカニズム、つまりIDトークンまたはuserInfo応答に対する主張。"
    },
    {
      "indent": 3,
      "text": "The combination of the scope value openid and the additional parameter claims can be used beside authorization_details in the same way as every non-OIDC scope value.",
      "ja": "Scope値OpenIDと追加のパラメータークレームの組み合わせは、すべての非ODCスコープ値と同じ方法でauthorization_detailsの横で使用できます。"
    },
    {
      "indent": 3,
      "text": "Alternatively, there could be an authorization details type for OpenID Connect. This section gives an example of what such an authorization details type could look like, but defining this authorization details type is outside the scope of this specification.",
      "ja": "または、OpenID Connectの承認の詳細タイプがある場合があります。このセクションでは、そのような承認の詳細タイプがどのように見えるかの例を示しますが、この承認の詳細タイプを定義するタイプは、この仕様の範囲外です。"
    },
    {
      "indent": 3,
      "text": "These hypothetical examples try to encapsulate all details specific to the OpenID Connect part of an authorization process into an authorization JSON object.",
      "ja": "これらの仮説的な例は、承認プロセスのOpenID接続部分に固有のすべての詳細を認証JSONオブジェクトにカプセル化しようとします。"
    },
    {
      "indent": 3,
      "text": "The top-level fields are based on the definitions given in [OIDC]:",
      "ja": "トップレベルのフィールドは、[oidc]に与えられた定義に基づいています。"
    },
    {
      "indent": 3,
      "text": "claim_sets:",
      "ja": "請求_セット："
    },
    {
      "indent": 12,
      "text": "the names of predefined claim sets, replacement for respective scope values, such as profile",
      "ja": "事前定義されたクレームセットの名前、プロファイルなどのそれぞれのスコープ値の代替"
    },
    {
      "indent": 3,
      "text": "max_age:",
      "ja": "max_age："
    },
    {
      "indent": 12,
      "text": "Maximum Authentication Age",
      "ja": "最大認証年齢"
    },
    {
      "indent": 3,
      "text": "acr_values:",
      "ja": "ACR_VALUES："
    },
    {
      "indent": 12,
      "text": "requested Authentication Context Class Reference (ACR) values",
      "ja": "要求された認証コンテキストクラス参照（ACR）値"
    },
    {
      "indent": 3,
      "text": "claims:",
      "ja": "請求："
    },
    {
      "indent": 12,
      "text": "the claims JSON structure as defined in [OIDC]",
      "ja": "[OIDC]で定義されているJSON構造の主張"
    },
    {
      "indent": 3,
      "text": "This is a simple request for some claim sets.",
      "ja": "これは、一部の請求セットの簡単な要求です。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"openid\",\n      \"locations\": [\n         \"https://op.example.com/userinfo\"\n      ],\n      \"claim_sets\": [\n         \"email\",\n         \"profile\"\n      ]\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 11,
      "text": "Figure 25: Example of OpenID Connect Request Utilizing \"authorization_details\"",
      "ja": "図25：「authorization_details」を使用したOpenID Connectリクエストの例"
    },
    {
      "indent": 12,
      "text": "Note: locations specifies the location of the userinfo endpoint since this is the only place where an access token is used by a client (Relying Party) in OpenID Connect to obtain claims.",
      "ja": "注：場所は、UserInfoエンドポイントの場所を指定しています。これは、クライアント（依存）がOpenID Connectのクライアント（依存）がクレームを取得する唯一の場所であるためです。"
    },
    {
      "indent": 3,
      "text": "A more sophisticated example is shown in Figure 26.",
      "ja": "より洗練された例を図26に示します。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"openid\",\n      \"locations\": [\n         \"https://op.example.com/userinfo\"\n      ],\n      \"max_age\": 86400,\n      \"acr_values\": \"urn:mace:incommon:iap:silver\",\n      \"claims\": {\n         \"userinfo\": {\n            \"given_name\": {\n               \"essential\": true\n            },\n            \"nickname\": null,\n            \"email\": {\n               \"essential\": true\n            },\n            \"email_verified\": {\n               \"essential\": true\n            },\n            \"picture\": null,\n            \"http://example.com/claims/groups\": null\n         },\n         \"id_token\": {\n            \"auth_time\": {\n               \"essential\": true\n            }\n         }\n      }\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Figure 26: Advanced Example of OpenID Connect Request Utilizing \"authorization_details\"",
      "ja": "図26：「authorization_details」を使用するOpenID Connectリクエストの高度な例"
    },
    {
      "indent": 0,
      "text": "A.2. Remote Electronic Signing",
      "section_title": true,
      "ja": "A.2. リモート電子署名"
    },
    {
      "indent": 3,
      "text": "The following example is based on the concept laid out for remote electronic signing in ETSI TS 119 432 [ETSI] and the Cloud Signature Consortium (CSC) API for remote signature creation [CSC].",
      "ja": "次の例は、ETSI TS 119 432 [ETSI]およびCloud Signature Consortium（CSC）APIのリモート署名作成[CSC]のリモート電子署名のためにレイアウトされた概念に基づいています。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"sign\",\n      \"locations\": [\n         \"https://signing.example.com/signdoc\"\n      ],\n      \"credentialID\": \"60916d31-932e-4820-ba82-1fcead1c9ea3\",\n      \"documentDigests\": [\n         {\n            \"hash\": \"sTOgwOm+474gFj0q0x1iSNspKqbcse4IeiqlDg/HWuI=\",\n            \"label\": \"Credit Contract\"\n         },\n         {\n            \"hash\": \"HZQzZmMAIWekfGH0/ZKW1nsdt0xg3H6bZYztgsMTLw0=\",\n            \"label\": \"Contract Payment Protection Insurance\"\n         }\n      ],\n      \"hashAlgorithmOID\": \"2.16.840.1.101.3.4.2.1\"\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 18,
      "text": "Figure 27: Example of Electronic Signing",
      "ja": "図27：電子署名の例"
    },
    {
      "indent": 3,
      "text": "The top-level fields have the following meaning:",
      "ja": "トップレベルのフィールドには次の意味があります。"
    },
    {
      "indent": 3,
      "text": "credentialID:",
      "ja": "recentialId："
    },
    {
      "indent": 12,
      "text": "identifier of the certificate to be used for signing",
      "ja": "署名に使用される証明書の識別子"
    },
    {
      "indent": 3,
      "text": "documentDigests:",
      "ja": "DocumentDigests："
    },
    {
      "indent": 12,
      "text": "array containing the hash of every document to be signed (hash fields). Additionally, the corresponding label field identifies the respective document to the user, e.g., to be used in user consent.",
      "ja": "署名するすべてのドキュメントのハッシュを含む配列（ハッシュフィールド）。さらに、対応するラベルフィールドは、ユーザーの同意で使用されるたとえば、ユーザーにそれぞれのドキュメントを識別します。"
    },
    {
      "indent": 3,
      "text": "hashAlgorithm:",
      "ja": "ハサルゴリズム："
    },
    {
      "indent": 12,
      "text": "algorithm that was used to calculate the hash values",
      "ja": "ハッシュ値の計算に使用されたアルゴリズム"
    },
    {
      "indent": 3,
      "text": "The AS is supposed to ask the user for consent for the creation of signatures for the documents listed in the structure. The client uses the access token issued as a result of the process to call the document signature API at the respective signing service to actually create the signature. This access token is bound to the client, the user ID and the hashes (and signature algorithm) as consented by the user.",
      "ja": "Asは、構造にリストされているドキュメントの署名の作成について、ユーザーに同意を求めることになっています。クライアントは、プロセスの結果として発行されたアクセストークンを使用して、それぞれの署名サービスでドキュメント署名APIを呼び出して実際に署名を作成します。このアクセストークンは、ユーザーが同意したクライアント、ユーザーID、およびハッシュ（および署名アルゴリズム）にバインドされています。"
    },
    {
      "indent": 0,
      "text": "A.3. Access to Tax Data",
      "section_title": true,
      "ja": "A.3. 税データへのアクセス"
    },
    {
      "indent": 3,
      "text": "This example is inspired by an API allowing third parties to access citizen's tax declarations and income statements, for example, to determine their creditworthiness.",
      "ja": "この例は、APIに触発され、サードパーティが市民の税務上の宣言や所得声明にアクセスできるように、たとえば信用力を判断します。"
    },
    {
      "indent": 3,
      "text": "[\n    {\n        \"type\": \"tax_data\",\n        \"locations\": [\n            \"https://taxservice.govehub.no.example.com\"\n        ],\n        \"actions\":\"read_tax_declaration\",\n        \"periods\": [\"2018\"],\n        \"duration_of_access\": 30,\n        \"tax_payer_id\": \"23674185438934\"\n    }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 19,
      "text": "Figure 28: Example of Tax Data Access",
      "ja": "図28：税データアクセスの例"
    },
    {
      "indent": 3,
      "text": "The top-level fields have the following meaning:",
      "ja": "トップレベルのフィールドには次の意味があります。"
    },
    {
      "indent": 3,
      "text": "periods:",
      "ja": "期間："
    },
    {
      "indent": 12,
      "text": "the periods the client wants to access",
      "ja": "クライアントがアクセスしたい期間"
    },
    {
      "indent": 3,
      "text": "duration_of_access:",
      "ja": "duration_of_access："
    },
    {
      "indent": 12,
      "text": "how long the clients intend to access the data in days",
      "ja": "クライアントは数日でデータにアクセスする期間"
    },
    {
      "indent": 3,
      "text": "tax_payer_id:",
      "ja": "tax_payer_id："
    },
    {
      "indent": 12,
      "text": "identifier of the taxpayer (if known to the client)",
      "ja": "納税者の識別子（クライアントに知られている場合）"
    },
    {
      "indent": 0,
      "text": "A.4. eHealth",
      "section_title": true,
      "ja": "A.4. ehealth"
    },
    {
      "indent": 3,
      "text": "These two examples are inspired by requirements for APIs used in the Norwegian eHealth system.",
      "ja": "これらの2つの例は、ノルウェーのeHealthシステムで使用されるAPIの要件に触発されています。"
    },
    {
      "indent": 3,
      "text": "In this use case, the physical therapist sits in front of their computer using a local Electronic Health Records (EHR) system. They want to look at the electronic patient records of a certain patient, and they also want to fetch the patient's journal entries in another system, perhaps at another institution or a national service. Access to this data is provided by an API.",
      "ja": "このユースケースでは、理学療法士はローカル電子ヘルスレコード（EHR）システムを使用してコンピューターの前に座っています。彼らは特定の患者の電子患者記録を見たいと思っており、また、おそらく別の機関や国家サービスで、別のシステムで患者のジャーナルエントリを取得したいと考えています。このデータへのアクセスは、APIによって提供されます。"
    },
    {
      "indent": 3,
      "text": "The information necessary to authorize the request at the API is only known by the EHR system and must be presented to the API.",
      "ja": "APIでリクエストを承認するために必要な情報は、EHRシステムのみで既知であり、APIに提示する必要があります。"
    },
    {
      "indent": 3,
      "text": "In the first example, the authorization details object contains the identifier of an organization. In this case, the API needs to know if the given organization has the lawful basis for processing personal health information to give access to sensitive data.",
      "ja": "最初の例では、承認の詳細オブジェクトには、組織の識別子が含まれています。この場合、APIは、与えられた組織が、機密データへのアクセスを提供するために個人の健康情報を処理するための合法的な根拠を持っているかどうかを知る必要があります。"
    },
    {
      "indent": 3,
      "text": "\"authorization_details\": {\n    \"type\": \"patient_record\",\n    \"requesting_entity\": {\n        \"type\": \"Practitioner\",\n        \"identifier\": [\n        {\n            \"system\": \"urn:oid:2.16.578.1.12.4.1.4.4\",\n            \"value\": \"1234567\"\n        }],\n        \"practitioner_role\": {\n            \"organization\": {\n                \"identifier\": {\n                    \"system\": \"urn:oid:2.16.578.1.12.4.1.2.101\",\n                    \"type\": \"ENH\",\n                    \"value\": \"[organizational number]\"\n                }\n            }\n        }\n    }\n}",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 25,
      "text": "Figure 29: eHealth Example",
      "ja": "図29：eHealthの例"
    },
    {
      "indent": 3,
      "text": "In the second example, the API requires more information to authorize the request. In this case, the authorization details object contains additional information about the health institution and the current profession the user has at the time of the request. The additional level of detail could be used for both authorization and data minimization.",
      "ja": "2番目の例では、APIでは、リクエストを承認するために、より多くの情報が必要です。この場合、承認の詳細オブジェクトには、リクエストの時点でユーザーが持っている保健機関と現在の職業に関する追加情報が含まれています。追加の詳細レベルは、承認とデータの最小化の両方に使用できます。"
    },
    {
      "indent": 3,
      "text": "[\n   {\n      \"type\": \"patient_record\",\n      \"location\": \"https://fhir.example.com/patient\",\n      \"actions\": [\n         \"read\"\n      ],\n      \"patient_identifier\": [\n         {\n            \"system\": \"urn:oid:2.16.578.1.12.4.1.4.1\",\n            \"value\": \"12345678901\"\n         }\n      ],\n      \"reason_for_request\": \"Clinical treatment\",\n      \"requesting_entity\": {\n         \"type\": \"Practitioner\",\n         \"identifier\": [\n            {\n               \"system\": \"urn:oid:2.16.578.1.12.4.1.4.4\",\n               \"value\": \"1234567\"\n            }\n         ],\n         \"practitioner_role\": {\n            \"organization\": {\n               \"identifier\": [\n                  {\n                     \"system\": \"urn:oid:2.16.578.1.12.4.1.2.101\",\n                     \"type\": \"ENH\",\n                     \"value\": \"<organizational number>\"\n                  }\n               ],\n               \"type\": {\n                  \"coding\": [\n                     {\n                        \"system\":\n                           \"http://hl7.example.org/fhir/org-type\",\n                        \"code\": \"dept\",\n                        \"display\": \"Hospital Department\"\n                     }\n                  ]\n               },\n               \"name\": \"Akuttmottak\"\n            },\n            \"profession\": {\n               \"coding\": [\n                  {\n                     \"system\": \"http://snomed.example.org/sct\",\n                     \"code\": \"36682004\",\n                     \"display\": \"Physical therapist\"\n                  }\n               ]\n            }\n         }\n      }\n   }\n]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 20,
      "text": "Figure 30: Advanced eHealth Example",
      "ja": "図30：高度なeHealthの例"
    },
    {
      "indent": 3,
      "text": "Description of the fields:",
      "ja": "フィールドの説明："
    },
    {
      "indent": 3,
      "text": "patient_identifier:",
      "ja": "patient_identifier："
    },
    {
      "indent": 12,
      "text": "the identifier of the patient composed of a system identifier in OID format (namespace) and the actual value within this namespace.",
      "ja": "OID形式のシステム識別子（名前空間）で構成される患者の識別子と、この名前空間内の実際の値。"
    },
    {
      "indent": 3,
      "text": "reason_for_request:",
      "ja": "リクエストの理由："
    },
    {
      "indent": 12,
      "text": "the reason why the user wants to access a certain API.",
      "ja": "ユーザーが特定のAPIにアクセスしたい理由。"
    },
    {
      "indent": 3,
      "text": "requesting_entity:",
      "ja": "request_entity："
    },
    {
      "indent": 12,
      "text": "specification of the requester by means of identity, role and organizational context. This data is provided to facilitate authorization and for auditing purposes.",
      "ja": "アイデンティティ、役割、組織のコンテキストによる要求者の仕様。このデータは、承認を促進し、監査目的で提供されます。"
    },
    {
      "indent": 3,
      "text": "In this use case, the AS authenticates the requester, who is not the patient, and approves access based on policies.",
      "ja": "このユースケースでは、ASは患者ではない要求者を認証し、ポリシーに基づいてアクセスを承認します。"
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "section_title": true,
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "We would like to thank Daniel Fett, Sebastian Ebling, Dave Tonge, Mike Jones, Nat Sakimura, and Rob Otto for their valuable feedback during the preparation of this specification.",
      "ja": "ダニエル・フェット、セバスチャン・エブリング、デイブ・トンゲ、マイク・ジョーンズ、ナット・サキムラ、ロブ・オットーに、この仕様の準備中の貴重なフィードバックをしてくれたことに感謝します。"
    },
    {
      "indent": 3,
      "text": "We would also like to thank Vladimir Dzhuvinov, Takahiko Kawasaki, Daniel Fett, Dave Tonge, Travis Spencer, Joergen Binningsboe, Aamund Bremer, Steinar Noem, Francis Pouatcha, Jacob Ideskog, Hannes Tschofenig, and Aaron Parecki for their valuable feedback to this specification.",
      "ja": "また、ウラジミール・ズビノフ、川崎高橋、ダニエル・フェット、デイブ・トンジ、トラビス・スペンサー、ジョーゲン・ビニンズボー、アーマンド・ブレマー、シュタイナー・ノエム、フランシス・パウチャ、ジェイコブ・イドスコグ、ハネス・ツチョフェニグ、そしてaaron parabecificabe for aaron parable forに感謝します。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "section_title": true,
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Torsten Lodderstedt\nyes.com\nEmail: torsten@lodderstedt.net",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Justin Richer\nBespoke Engineering\nEmail: ietf@justin.richer.org",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Brian Campbell\nPing Identity\nEmail: bcampbell@pingidentity.com",
      "raw": true,
      "ja": ""
    }
  ]
}